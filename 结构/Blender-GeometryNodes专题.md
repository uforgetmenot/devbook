# Blender Geometry Nodes ç¨‹åºåŒ–å·¥ä½œæµä¸“é¢˜

> ä»åŸºç¡€ Field æ¦‚å¿µåˆ°å¤§å‹ç¨‹åºåŒ–èµ„äº§çš„å®Œæ•´å®è·µæŒ‡å—,å°† Geometry Nodes èå…¥å›¢é˜Ÿç”Ÿäº§ç®¡çº¿ã€‚

---

## ğŸ“– ä¸“é¢˜å¯¼èˆª

- **[è¿”å›ä¸»ç¬”è®°](./Blender.md)** - Blender æ ¸å¿ƒå­¦ä¹ è·¯å¾„
- **å½“å‰ä¸“é¢˜**: Geometry Nodes ç¨‹åºåŒ–å»ºæ¨¡æ·±åº¦å®è·µ

---

## ä¸“é¢˜æ¦‚è¿°

### å­¦ä¹ ç›®æ ‡

âœ… ç†è§£ Geometry Nodes çš„æ ¸å¿ƒç†å¿µ:Field æœºåˆ¶ä¸ Geometry æ•°æ®ç»“æ„
âœ… æŒæ¡å¸¸ç”¨èŠ‚ç‚¹è¯­ä¹‰ä¸å®é™…åº”ç”¨åœºæ™¯
âœ… èƒ½å¤Ÿç‹¬ç«‹å¼€å‘ç¨‹åºåŒ–èµ„äº§(é“è·¯ã€å»ºç­‘ã€æœºæ¢°ç»„ä»¶ç­‰)
âœ… å°† Geometry Nodes èå…¥ç”Ÿäº§ç®¡çº¿,æå‡æ•ˆç‡

### é€‚ç”¨äººç¾¤

- å·²å®Œæˆ Blender åŸºç¡€å»ºæ¨¡å­¦ä¹ çš„ç”¨æˆ·
- å¸Œæœ›æå‡å»ºæ¨¡æ•ˆç‡,å‡å°‘é‡å¤åŠ³åŠ¨çš„æŠ€æœ¯ç¾æœ¯
- éœ€è¦åˆ¶ä½œå¤§é‡å‚æ•°åŒ–èµ„äº§çš„é¡¹ç›®å›¢é˜Ÿ
- å¯¹ç¨‹åºåŒ–å»ºæ¨¡å’Œæ•°æ®é©±åŠ¨å†…å®¹æ„Ÿå…´è¶£çš„å¼€å‘è€…

### å‰ç½®è¦æ±‚

- ç†Ÿæ‚‰ Blender åŸºæœ¬å»ºæ¨¡æ“ä½œ
- ç†è§£ Modifier ç³»ç»Ÿçš„å·¥ä½œåŸç†
- äº†è§£åŸºæœ¬çš„æ•°å­¦æ¦‚å¿µ(å‘é‡ã€åæ ‡ç³»)
- (å¯é€‰)å…·å¤‡åŸºç¡€ç¼–ç¨‹æ€ç»´

---

## ç¬¬ä¸€ç« :æ ¸å¿ƒç†å¿µä¸åŸºç¡€æ¦‚å¿µ

### 1.1 ä»€ä¹ˆæ˜¯ Geometry Nodes

**å®šä¹‰**:
Geometry Nodes æ˜¯ Blender çš„ç¨‹åºåŒ–å»ºæ¨¡ç³»ç»Ÿ,é€šè¿‡èŠ‚ç‚¹å›¾å½¢ç•Œé¢æ„å»ºå‚æ•°åŒ–çš„å‡ ä½•ä½“ç”Ÿæˆä¸å˜æ¢æµç¨‹ã€‚

**æ ¸å¿ƒä¼˜åŠ¿**:
1. **å‚æ•°åŒ–**:é€šè¿‡å‚æ•°æ§åˆ¶æ¨¡å‹,æ— éœ€é‡æ–°å»ºæ¨¡
2. **éç ´åæ€§**:ä¿ç•™åŸå§‹å‡ ä½•,èŠ‚ç‚¹æ ‘å¯éšæ—¶è°ƒæ•´
3. **å¯å¤ç”¨**:èŠ‚ç‚¹ç»„å¯ä¿å­˜ä¸ºèµ„äº§,è·¨é¡¹ç›®ä½¿ç”¨
4. **é«˜æ•ˆç‡**:å®ä¾‹åŒ–æŠ€æœ¯å¤„ç†å¤§é‡å¯¹è±¡æ—¶æ€§èƒ½ä¼˜å¼‚
5. **å¯æ‰©å±•**:ç»“åˆ Python å¯å®ç°å¤æ‚çš„æ•°æ®é©±åŠ¨æ•ˆæœ

### 1.2 Field (å­—æ®µ)æœºåˆ¶

**Field æ¦‚å¿µ**:
Field æ˜¯ Geometry Nodes çš„æ ¸å¿ƒæ¦‚å¿µ,ä»£è¡¨åœ¨å‡ ä½•ä½“æ¯ä¸ªå…ƒç´ (ç‚¹ã€è¾¹ã€é¢)ä¸Šæ±‚å€¼çš„å‡½æ•°ã€‚

**ç†è§£ Field**:
```
ä¼ ç»Ÿå»ºæ¨¡: é¡¶ç‚¹ä½ç½® = å›ºå®šåæ ‡ (0.5, 1.2, 0.8)
Field æ€ç»´: é¡¶ç‚¹ä½ç½® = å‡½æ•°(ç´¢å¼•, æ—¶é—´, éšæœºç§å­...)

ä¾‹å¦‚:
position = original_position + noise(index) * amplitude
```

**Field ç±»å‹**:
- **æ ‡é‡ Field**: å•ä¸€æ•°å€¼,å¦‚è·ç¦»ã€ç´¢å¼•ã€æƒé‡
- **å‘é‡ Field**: ä¸‰ç»´å‘é‡,å¦‚ä½ç½®ã€æ³•çº¿ã€é€Ÿåº¦
- **é¢œè‰² Field**: RGBA é¢œè‰²å€¼
- **å¸ƒå°” Field**: True/False,ç”¨äºç­›é€‰å’Œæ¡ä»¶åˆ¤æ–­

**å®é™…åº”ç”¨**:
```
åœºæ™¯: æ ¹æ®é«˜åº¦ç»™åœ°å½¢ä¸Šè‰²

é«˜åº¦ Field -> æ¯”è¾ƒèŠ‚ç‚¹ -> é¢œè‰² Field
altitude > 100m ? é›ªç™½è‰² : è‰ç»¿è‰²
```

### 1.3 Geometry æ•°æ®ç»“æ„

**å››å¤§å‡ ä½•ç±»å‹**:

| ç±»å‹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ | å±æ€§ç¤ºä¾‹ |
| --- | --- | --- | --- |
| **Mesh** | ç½‘æ ¼(ç‚¹ã€è¾¹ã€é¢) | é€šç”¨å»ºæ¨¡ | Position, Normal, UV |
| **Curve** | æ›²çº¿ | è·¯å¾„ã€ç®¡é“ã€çº¿ç¼† | Position, Radius, Tilt |
| **Point Cloud** | ç‚¹äº‘ | ç²’å­æ•ˆæœã€æ•£å¸ƒ | Position, Radius, Color |
| **Volume** | ä½“ç§¯ | çƒŸé›¾ã€æµä½“ã€SDF | Density, Temperature |

**Geometry æ“ä½œ**:
- **Join Geometry**: åˆå¹¶å¤šä¸ªå‡ ä½•ä½“
- **Geometry to Mesh**: è½¬æ¢ä¸ºç½‘æ ¼
- **Mesh to Points**: æå–é¡¶ç‚¹ä¸ºç‚¹äº‘
- **Separate Geometry**: æ ¹æ®æ¡ä»¶ç­›é€‰å‡ ä½•

### 1.4 å®ä¾‹åŒ–(Instance)æ€æƒ³

**ä¸ºä»€ä¹ˆä½¿ç”¨å®ä¾‹**:
- å†…å­˜æ•ˆç‡:1000 ä¸ªå®ä¾‹åªå­˜å‚¨ 1 ä»½å‡ ä½•æ•°æ®
- æ¸²æŸ“æ€§èƒ½:GPU å¯æ‰¹é‡å¤„ç†å®ä¾‹
- ä¿®æ”¹æ–¹ä¾¿:ä¿®æ”¹æºå¯¹è±¡,æ‰€æœ‰å®ä¾‹è‡ªåŠ¨æ›´æ–°

**å®ä¾‹åŒ–å·¥ä½œæµ**:
```
1. åˆ›å»ºåŸºç¡€å‡ ä½•(é«˜æ¨¡æˆ–ä½æ¨¡)
2. ä½¿ç”¨ "Instance on Points" èŠ‚ç‚¹åœ¨ç‚¹ä¸Šç”Ÿæˆå®ä¾‹
3. é€šè¿‡ Field æ§åˆ¶æ¯ä¸ªå®ä¾‹çš„:
   - ä½ç½® (Position)
   - æ—‹è½¬ (Rotation)
   - ç¼©æ”¾ (Scale)
4. (å¯é€‰) "Realize Instances" è½¬ä¸ºå®é™…å‡ ä½•
```

**å…¸å‹åº”ç”¨**:
- æ£®æ—:åœ¨åœ°å½¢ç‚¹ä¸Šå®ä¾‹åŒ–æ ‘æœ¨
- å»ºç­‘:åœ¨ç½‘æ ¼ä¸Šå®ä¾‹åŒ–çª—æˆ·ã€é—¨
- æœºæ¢°:åœ¨è·¯å¾„ä¸Šå®ä¾‹åŒ–èºæ “ã€ç®¡é“æ¥å¤´

---

## ç¬¬äºŒç« :å¸¸ç”¨èŠ‚ç‚¹è¯­ä¹‰å›¾è°±

### 2.1 æ•°æ®è¾“å…¥èŠ‚ç‚¹

#### Object Info / Collection Info

**åŠŸèƒ½**: å¼•å…¥å¤–éƒ¨å¯¹è±¡æˆ–é›†åˆ

**å‚æ•°**:
- `Object/Collection`: é€‰æ‹©è¦å¼•å…¥çš„å¯¹è±¡
- `As Instance`: å‹¾é€‰åä»¥å®ä¾‹æ–¹å¼å¼•å…¥(æ¨è)
- `Transform Space`: åæ ‡ç©ºé—´(ç›¸å¯¹/ä¸–ç•Œ)

**å®æˆ˜æŠ€å·§**:
```
åœºæ™¯: æ£®æ—ç³»ç»Ÿ

Collection Info (æ ‘æœ¨é›†åˆ)
â”œâ”€ As Instance: âœ“ (å‡å°‘å†…å­˜)
â””â”€ Random (éšæœºé€‰æ‹©æ ‘ç§) -> Instance on Points
```

#### Scene Time

**åŠŸèƒ½**: è·å–å½“å‰åœºæ™¯æ—¶é—´,ç”¨äºåŠ¨ç”»é©±åŠ¨

**è¾“å‡º**:
- `Frame`: å½“å‰å¸§æ•°
- `Seconds`: å½“å‰æ—¶é—´(ç§’)

**åº”ç”¨ç¤ºä¾‹**:
```python
Scene Time -> Math (é™¤æ³•, 10) -> Rotation
# æ¯ 10 å¸§æ—‹è½¬ä¸€åœˆ
```

### 2.2 å‡ ä½•æ“ä½œèŠ‚ç‚¹

#### Join Geometry

**åŠŸèƒ½**: åˆå¹¶å¤šä¸ªå‡ ä½•è¾“å…¥ä¸ºä¸€ä¸ª

**ä½¿ç”¨åœºæ™¯**:
- å°†å¤šä¸ªéƒ¨ä»¶ç»„åˆæˆå®Œæ•´æ¨¡å‹
- åˆå¹¶ä¸åŒå¤„ç†åˆ†æ”¯çš„ç»“æœ

**æ³¨æ„äº‹é¡¹**:
- åˆå¹¶åå±æ€§å¯èƒ½ä¸ä¸€è‡´,éœ€ä½¿ç”¨ `Store Named Attribute` å¤„ç†
- å¤§é‡å‡ ä½•åˆå¹¶ä¼šå½±å“æ€§èƒ½,è€ƒè™‘ä¿æŒå®ä¾‹åŒ–

#### Separate Geometry

**åŠŸèƒ½**: æ ¹æ®å¸ƒå°”æ¡ä»¶ç­›é€‰å‡ ä½•

**å·¥ä½œæµç¨‹**:
```
è¾“å…¥å‡ ä½• -> Separate Geometry (Selection: Field)
â”œâ”€ Selection (True çš„éƒ¨åˆ†)
â””â”€ Inverted (False çš„éƒ¨åˆ†)
```

**å®æˆ˜æ¡ˆä¾‹**:
```
åœºæ™¯: åªä¿ç•™é«˜åº¦å¤§äº 5m çš„å»ºç­‘

Mesh -> Position (Z) -> Compare (> 5.0) -> Separate Geometry
```

### 2.3 å­—æ®µè®¡ç®—èŠ‚ç‚¹

#### Math

**åŠŸèƒ½**: æ•°å­¦è¿ç®—(åŠ å‡ä¹˜é™¤ã€ä¸‰è§’å‡½æ•°ã€å–æ•´ç­‰)

**å¸¸ç”¨æ“ä½œ**:
- `Add/Subtract/Multiply/Divide`: å››åˆ™è¿ç®—
- `Sin/Cos/Tan`: ä¸‰è§’å‡½æ•°(å‘¨æœŸæ€§è¿åŠ¨)
- `Round/Floor/Ceil`: å–æ•´
- `Modulo`: å–ä½™(å¾ªç¯æ¨¡å¼)
- `Power`: å¹‚è¿ç®—(éçº¿æ€§ç¼©æ”¾)

**æŠ€å·§**:
```
# åˆ›å»ºå‘¨æœŸæ€§æ³¢åŠ¨
Index -> Math (Sin) -> Math (Multiply, 0.5) -> Position Offset

# æ¯ N ä¸ªå…ƒç´ åˆ†ç»„
Index -> Math (Modulo, N) -> Compare (= 0) -> Selection
```

#### Vector Math

**åŠŸèƒ½**: å‘é‡è¿ç®—

**å¸¸ç”¨æ“ä½œ**:
- `Add/Subtract`: å‘é‡åŠ å‡(ä½ç§»)
- `Multiply/Divide`: å‘é‡ç¼©æ”¾
- `Dot Product`: ç‚¹ç§¯(æŠ•å½±ã€å¤¹è§’)
- `Cross Product`: å‰ç§¯(å‚ç›´å‘é‡)
- `Normalize`: å½’ä¸€åŒ–(å•ä½å‘é‡)
- `Length`: å‘é‡é•¿åº¦

**å®æˆ˜åº”ç”¨**:
```
# ç‰©ä½“æœå‘ç›®æ ‡
Position (Object) -> Vector Math (Subtract, Target) -> Normalize -> Rotation
```

#### Map Range

**åŠŸèƒ½**: å€¼åŸŸæ˜ å°„(çº¿æ€§ç¼©æ”¾)

**å‚æ•°**:
```
From Min, From Max -> To Min, To Max

ä¾‹å¦‚:
é«˜åº¦ [0, 100] -> é¢œè‰² [ç»¿è‰², ç™½è‰²]
```

**Clamp é€‰é¡¹**: é™åˆ¶è¾“å‡ºåœ¨ç›®æ ‡èŒƒå›´å†…

### 2.4 æ‹“æ‰‘è°ƒæ•´èŠ‚ç‚¹

#### Subdivision Surface

**åŠŸèƒ½**: ç»†åˆ†å¹³æ»‘

**å‚æ•°**:
- `Level`: ç»†åˆ†çº§åˆ«(1-6)
- `UV Smooth`: ä¿æŒ UV è¿ç»­
- `Boundary Smooth`: è¾¹ç•Œå¹³æ»‘æ–¹å¼

**æ€§èƒ½æç¤º**:
- æ¯å¢åŠ  1 çº§,é¢æ•°çº¦ä¸º 4 å€
- å°½é‡åœ¨èŠ‚ç‚¹æ ‘æœ«ç«¯ä½¿ç”¨,å‡å°‘ä¸­é—´è®¡ç®—é‡

#### Mesh to Points

**åŠŸèƒ½**: æå–ç½‘æ ¼é¡¶ç‚¹ä¸ºç‚¹äº‘

**åº”ç”¨**:
```
Mesh -> Mesh to Points -> Instance on Points (æ•£å¸ƒå¯¹è±¡)
```

#### Points to Vertices

**åŠŸèƒ½**: ç‚¹äº‘è½¬æ¢ä¸ºé¡¶ç‚¹(å¯è¿æ¥æˆçº¿)

**é…åˆä½¿ç”¨**:
```
Points to Vertices -> Mesh Line (è¿æ¥ä¸ºæŠ˜çº¿)
```

### 2.5 å®ä¾‹ç®¡ç†èŠ‚ç‚¹

#### Instance on Points

**åŠŸèƒ½**: åœ¨ç‚¹ä½ç½®ç”Ÿæˆå®ä¾‹

**å…³é”®å‚æ•°**:
- `Points`: è¾“å…¥ç‚¹å‡ ä½•
- `Instance`: è¦å®ä¾‹åŒ–çš„å¯¹è±¡(Object Info / Collection Info)
- `Pick Instance`: æ˜¯å¦éšæœºé€‰æ‹©(Collection ä¸­)
- `Rotation`: å®ä¾‹æ—‹è½¬
- `Scale`: å®ä¾‹ç¼©æ”¾

**é«˜çº§ç”¨æ³•**:
```
# æ ¹æ®æ³•çº¿æ–¹å‘æ—‹è½¬å®ä¾‹
Normal -> Align Euler to Vector -> Rotation (Instance on Points)

# æ ¹æ®é«˜åº¦éšæœºç¼©æ”¾
Position (Z) -> Map Range -> Scale (Instance on Points)
```

#### Realize Instances

**åŠŸèƒ½**: å°†å®ä¾‹è½¬æ¢ä¸ºå®é™…å‡ ä½•

**ä½¿ç”¨æ—¶æœº**:
- éœ€è¦å¯¹å®ä¾‹å‡ ä½•è¿›è¡Œè¿›ä¸€æ­¥ç¼–è¾‘
- å¯¼å‡ºåˆ°ä¸æ”¯æŒå®ä¾‹çš„æ ¼å¼
- åº”ç”¨åç»­ä¿®æ”¹å™¨(å¦‚ Boolean)

**æ³¨æ„**: ä¼šæ˜¾è‘—å¢åŠ å†…å­˜å ç”¨å’Œå¤„ç†æ—¶é—´

### 2.6 æ¨¡å¼æ§åˆ¶èŠ‚ç‚¹

#### Switch

**åŠŸèƒ½**: æ¡ä»¶åˆ†æ”¯é€‰æ‹©

**å·¥ä½œæ–¹å¼**:
```
Switch (Boolean)
â”œâ”€ False: è¾“å…¥ A
â””â”€ True: è¾“å…¥ B

è¾“å‡ºæ ¹æ® Boolean é€‰æ‹© A æˆ– B
```

**åº”ç”¨åœºæ™¯**:
```
# ç™½å¤©/å¤œæ™šç¯å…‰åˆ‡æ¢
Time -> Compare (> 18:00) -> Switch (Day Light / Night Light)
```

#### Compare

**åŠŸèƒ½**: æ¯”è¾ƒè¿ç®—,è¾“å‡ºå¸ƒå°”å€¼

**æ“ä½œç±»å‹**:
- `A = B`, `A â‰  B`
- `A < B`, `A â‰¤ B`
- `A > B`, `A â‰¥ B`

**ç»„åˆä½¿ç”¨**:
```
# ç­›é€‰é«˜åº¦åœ¨ 10-20m ä¹‹é—´çš„å¯¹è±¡
Position (Z) -> Compare (> 10) -> Boolean Math (AND)
Position (Z) -> Compare (< 20) -> Boolean Math (AND)
```

---

## ç¬¬ä¸‰ç« :å®æˆ˜æ¡ˆä¾‹ - å·¥ä¸šå›­æ™¯è§‚å¿«é€Ÿç”Ÿæˆ

### 3.1 éœ€æ±‚åˆ†æ

**é¡¹ç›®ç›®æ ‡**:
è‡ªåŠ¨ç”Ÿæˆä¸€ç‰‡åŒ…å«é“è·¯ã€ç»¿åŒ–ã€å»ºç­‘ä½“å—çš„å·¥ä¸šå›­åŒº,å‚æ•°å¯é©±åŠ¨:
- é“è·¯å®½åº¦
- å»ºç­‘é«˜åº¦èŒƒå›´
- ç»¿æ¤å¯†åº¦

**æŠ€æœ¯æ‹†è§£**:
1. é“è·¯ç”Ÿæˆ(åŸºäºæ›²çº¿)
2. åœ°å—åˆ’åˆ†(è·ç¦»åœº)
3. å»ºç­‘ä½“å—å®ä¾‹åŒ–
4. ç»¿åŒ–æ•£å¸ƒ

### 3.2 é“è·¯ç”Ÿæˆç³»ç»Ÿ

#### æ­¥éª¤ 1: å‡†å¤‡é“è·¯ä¸­çº¿

```
1. åˆ›å»º Curve å¯¹è±¡(é“è·¯ä¸­å¿ƒçº¿)
2. åœ¨ Geometry Nodes ä¸­å¼•å…¥:
   Curve -> Resample Curve (ç»Ÿä¸€é‡‡æ ·)
```

#### æ­¥éª¤ 2: é“è·¯å®½åº¦æ§åˆ¶

```
èŠ‚ç‚¹æµç¨‹:
Curve -> Set Curve Radius (ä½¿ç”¨è‡ªå®šä¹‰å±æ€§ road_width)
     -> Curve to Mesh (Profile: çŸ©å½¢æˆ–è‡ªå®šä¹‰å½¢çŠ¶)
     -> Set Material (æ²¥é’æè´¨)
```

**ä»£ç å®ç°**:
```
Group Input (road_width: Float)
â”œâ”€ Curve (é“è·¯ä¸­çº¿)
â””â”€ Set Curve Radius (radius = road_width / 2)
    â””â”€ Curve to Mesh
        â”œâ”€ Profile Curve: Rectangle (width=1, height=0.1)
        â””â”€ Fill Caps: True
```

### 3.3 åœ°å—åˆ’åˆ†ç³»ç»Ÿ

#### æ­¥éª¤ 3: ä½¿ç”¨è·ç¦»åœºåˆ’åˆ†ç”¨åœ°

```
Geometry Proximity (é“è·¯) -> è¾“å‡º Distance Field
â”œâ”€ è·ç¦» < 10m: é“è·¯åŠç»¿åŒ–å¸¦
â”œâ”€ è·ç¦» 10-50m: å¯å»ºè®¾ç”¨åœ°
â””â”€ è·ç¦» > 50m: ç»¿åŒ–ç”¨åœ°
```

**èŠ‚ç‚¹å®ç°**:
```
Grid (åœ°å—åŸºç¡€ç½‘æ ¼)
â”œâ”€ Mesh to Points (è½¬ä¸ºç‚¹äº‘)
â””â”€ Geometry Proximity
    â”œâ”€ Target: é“è·¯å‡ ä½•
    â””â”€ Distance -> Compare (> 10) -> Boolean Math (AND)
                -> Compare (< 50) -> Separate Geometry
```

### 3.4 å»ºç­‘ä½“å—å®ä¾‹åŒ–

#### æ­¥éª¤ 4: å»ºç­‘æ•£å¸ƒ

```
å¯å»ºè®¾ç”¨åœ°ç‚¹äº‘
â”œâ”€ Distribute Points on Faces (Poisson Disk)
â”‚   â””â”€ Distance Min: 20m (å»ºç­‘é—´è·)
â””â”€ Instance on Points
    â”œâ”€ Instance: Collection Info (å»ºç­‘ä½“å—é›†åˆ)
    â”œâ”€ Pick Instance: True (éšæœºé€‰æ‹©)
    â”œâ”€ Rotation: Random Value (æ—‹è½¬è§’åº¦)
    â””â”€ Scale: Random Value (é«˜åº¦å˜åŒ–)
```

**é«˜åº¦æ§åˆ¶**:
```
Group Input (building_height_min, building_height_max)
â””â”€ Random Value (Min, Max)
   â””â”€ Combine XYZ (X=1, Y=1, Z=Random) -> Scale
```

### 3.5 ç»¿åŒ–å¸ƒç½®ç³»ç»Ÿ

#### æ­¥éª¤ 5: æ¤è¢«æ•£å¸ƒ

```
ç»¿åŒ–ç”¨åœ°ç‚¹äº‘
â”œâ”€ Distribute Points on Faces
â”‚   â”œâ”€ Density: Group Input (vegetation_density)
â”‚   â””â”€ Seed: Random
â””â”€ Instance on Points
    â”œâ”€ Instance: Collection Info (æ ‘æœ¨ã€çŒæœ¨é›†åˆ)
    â”œâ”€ Pick Instance: True
    â”œâ”€ Rotation: Align to Normal + Random Z
    â””â”€ Scale: Random Value (0.8 - 1.2)
```

### 3.6 å‚æ•°åŒ–æ§åˆ¶é¢æ¿

#### æ­¥éª¤ 6: æš´éœ²å‚æ•°

```python
Group Input èŠ‚ç‚¹æ·»åŠ ä»¥ä¸‹å‚æ•°:

# é“è·¯å‚æ•°
- road_width: Float (é»˜è®¤ 8.0, èŒƒå›´ 4-12)

# å»ºç­‘å‚æ•°
- building_height_min: Float (é»˜è®¤ 10.0)
- building_height_max: Float (é»˜è®¤ 30.0)
- building_density: Float (é»˜è®¤ 0.5, èŒƒå›´ 0-1)

# ç»¿åŒ–å‚æ•°
- vegetation_density: Float (é»˜è®¤ 100, èŒƒå›´ 10-500)
- tree_scale_variation: Float (é»˜è®¤ 0.2, èŒƒå›´ 0-0.5)

# å…¨å±€å‚æ•°
- random_seed: Integer (é»˜è®¤ 0)
```

**ä½¿ç”¨æ–¹å¼**:
1. å°†èŠ‚ç‚¹ç»„ä¿å­˜ä¸º Asset
2. åœ¨ Asset Browser ä¸­æ·»åŠ é¢„è§ˆç¼©ç•¥å›¾
3. å›¢é˜Ÿæˆå‘˜å¯ç›´æ¥ Append ä½¿ç”¨

### 3.7 æ€§èƒ½ä¼˜åŒ–å»ºè®®

**ä¼˜åŒ–ç­–ç•¥**:

1. **ä¿æŒå®ä¾‹åŒ–**:
   - å°½é‡ä½¿ç”¨ `Instance on Points`
   - é¿å…è¿‡æ—© `Realize Instances`

2. **æ§åˆ¶ç‚¹äº‘å¯†åº¦**:
   ```
   Distribute Points: ä½¿ç”¨ Poisson Disk è€Œé Random
   â””â”€ æ›´å‡åŒ€åˆ†å¸ƒ,é¿å…èšé›†
   ```

3. **ä½¿ç”¨ Bounding Box é¢„è§ˆ**:
   ```
   Viewport Display -> Display As: Bounding Box
   â””â”€ ç¼–è¾‘èŠ‚ç‚¹æ ‘æ—¶åŠ é€Ÿè§†å£
   ```

4. **åˆ†æ®µè°ƒè¯•**:
   ```
   ä½¿ç”¨ Viewer èŠ‚ç‚¹é€æ®µæŸ¥çœ‹ç»“æœ
   â””â”€ å¿«é€Ÿå®šä½é—®é¢˜èŠ‚ç‚¹
   ```

---

## ç¬¬å››ç« :Geometry Nodes åœ¨ç®¡çº¿ä¸­çš„åº”ç”¨

### 4.1 ç¨‹åºåŒ–èµ„äº§åº“å»ºè®¾

**èµ„äº§ç±»å‹**:

| åˆ†ç±» | èµ„äº§ç¤ºä¾‹ | å‚æ•°ç¤ºä¾‹ |
| --- | --- | --- |
| å»ºç­‘å…ƒç´  | æ¥¼æ¢¯ã€æ æ†ã€çª—æˆ·é˜µåˆ— | å°é˜¶æ•°ã€é—´è·ã€æ ·å¼ |
| æœºæ¢°ç»„ä»¶ | èºæ “é˜µåˆ—ã€ç®¡é“ç³»ç»Ÿã€ç”µç¼†æŸ | æ•°é‡ã€ç›´å¾„ã€è·¯å¾„ |
| è‡ªç„¶å…ƒç´  | å²©çŸ³æ•£å¸ƒã€è‰åœ°ã€æ ‘æ— | å¯†åº¦ã€éšæœºç§å­ã€é«˜åº¦ |
| åŸºç¡€è®¾æ–½ | é“è·¯ã€å›´æ ã€è·¯ç¯ | é•¿åº¦ã€å®½åº¦ã€é—´è· |

**æ ‡å‡†åŒ–æµç¨‹**:
1. åˆ›å»ºå‚æ•°åŒ–èŠ‚ç‚¹ç»„
2. è®¾ç½®åˆç†çš„é»˜è®¤å€¼å’ŒèŒƒå›´
3. æ·»åŠ æ¸…æ™°çš„è¾“å…¥è¾“å‡ºæ ‡ç­¾
4. ä¿å­˜ä¸º Asset,æ·»åŠ é¢„è§ˆå›¾
5. ç¼–å†™ä½¿ç”¨æ–‡æ¡£

### 4.2 ç‰¹æ•ˆé©±åŠ¨

**åº”ç”¨åœºæ™¯**:

**æ¡ˆä¾‹ 1: ç²’å­èšåˆæ•ˆæœ**
```
Simulation Nodes
â”œâ”€ åˆå§‹ä½ç½®:éšæœºæ•£å¸ƒ
â”œâ”€ æ¯å¸§:å‘ç›®æ ‡ä½ç½®ç§»åŠ¨
â””â”€ é€Ÿåº¦è¡°å‡:æ¨¡æ‹Ÿé˜»åŠ›
```

**æ¡ˆä¾‹ 2: æµæ°´çº¿äº§å“è¿åŠ¨**
```
Curve (ä¼ é€å¸¦è·¯å¾„)
â”œâ”€ Sample Curve (æ ¹æ®æ—¶é—´é‡‡æ ·ä½ç½®)
â””â”€ Instance on Points (äº§å“å®ä¾‹)
    â””â”€ Rotation: æ²¿è·¯å¾„åˆ‡çº¿æ–¹å‘
```

### 4.3 æ•°æ®äº¤äº’

**é€šè¿‡ Store Named Attribute ä¼ é€’æ•°æ®**:

```python
# å­˜å‚¨è‡ªå®šä¹‰å±æ€§
Store Named Attribute
â”œâ”€ Name: "object_id"
â”œâ”€ Value: Index (æˆ–å…¶ä»– Field)
â””â”€ Data Type: Integer

# åœ¨ Shader ä¸­è¯»å–
Attribute Node (Name: "object_id") -> ColorRamp -> Base Color
```

**ä¸ Python é…åˆ**:
```python
import bpy

# è¯»å–å¤–éƒ¨ CSV æ•°æ®
import csv
data = []
with open('data.csv') as f:
    reader = csv.reader(f)
    data = list(reader)

# å°†æ•°æ®ä¼ é€’ç»™ Geometry Nodes
modifier = obj.modifiers["GeometryNodes"]
modifier["Input_Data"] = data
```

### 4.4 åŠ¨æ€æ‘„å½±æœºç³»ç»Ÿ

**åº”ç”¨**: ä½¿ç”¨ Geometry Nodes æ§åˆ¶æ‘„åƒæœºæ²¿è·¯å¾„è¿åŠ¨

```
Curve (æ‘„åƒæœºè·¯å¾„)
â”œâ”€ Sample Curve (Position: Frame / Total_Frames)
â”‚   â””â”€ Position -> Camera Location
â””â”€ Curve Tangent -> Align Rotation -> Camera Rotation
```

**å‚æ•°æ§åˆ¶**:
- `Speed`: é€šè¿‡ Math èŠ‚ç‚¹è°ƒèŠ‚é‡‡æ ·é€Ÿç‡
- `Focal Length`: ä½¿ç”¨ Map Range åŠ¨æ€è°ƒæ•´æ™¯æ·±
- `Look At Target`: æ·»åŠ  Empty ä½œä¸ºæ³¨è§†ç›®æ ‡

---

## ç¬¬äº”ç« :è¿›é˜¶æŠ€æœ¯ä¸æœ€ä½³å®è·µ

### 5.1 Simulation Nodes(æ¨¡æ‹ŸèŠ‚ç‚¹)

**åŠŸèƒ½**: åŸºäºæ—¶é—´çš„æ¨¡æ‹Ÿç³»ç»Ÿ(å®éªŒæ€§åŠŸèƒ½)

**åº”ç”¨åœºæ™¯**:
- ç²’å­ç³»ç»Ÿ
- ç¾¤ä½“è¡Œä¸º(Boids)
- å¸ƒæ–™æ¨¡æ‹Ÿçš„ç®€åŒ–ç‰ˆ

**åŸºç¡€æ¦‚å¿µ**:
```
Simulation Zone
â”œâ”€ Initial State: åˆå§‹çŠ¶æ€
â”œâ”€ Simulation Loop: æ¯å¸§æ‰§è¡Œ
â”‚   â”œâ”€ Read Previous State
â”‚   â”œâ”€ Apply Forces/Logic
â”‚   â””â”€ Write New State
â””â”€ Output: æœ€ç»ˆç»“æœ
```

### 5.2 æ€§èƒ½åˆ†æä¸ä¼˜åŒ–

**æ€§èƒ½ç“¶é¢ˆè¯†åˆ«**:
1. ä½¿ç”¨ `Overlay -> Statistics` æŸ¥çœ‹å®æ—¶ç»Ÿè®¡
2. è§‚å¯ŸèŠ‚ç‚¹æ‰§è¡Œæ—¶é—´(æœªæ¥ç‰ˆæœ¬å¯èƒ½æ”¯æŒ Profiler)

**ä¼˜åŒ–æ¸…å•**:

- [ ] å°½é‡ä¿æŒå®ä¾‹åŒ–,é¿å… Realize Instances
- [ ] å‡å°‘ä¸å¿…è¦çš„ Subdivision
- [ ] ä½¿ç”¨ Bounding Box é¢„è§ˆæ¨¡å¼
- [ ] åˆå¹¶ç›¸ä¼¼çš„èŠ‚ç‚¹æ ‘åˆ†æ”¯
- [ ] é¿å…åœ¨å¾ªç¯ä¸­è¿›è¡Œå¤æ‚è®¡ç®—
- [ ] ä½¿ç”¨ LOD æŠ€æœ¯,æ ¹æ®è·ç¦»è°ƒæ•´ç»†èŠ‚

### 5.3 è°ƒè¯•æŠ€å·§

**Viewer èŠ‚ç‚¹**:
```
ä»»æ„èŠ‚ç‚¹è¾“å‡º -> Viewer (Shift + Ctrl + å·¦é”®)
â””â”€ åœ¨ Spreadsheet Editor ä¸­æŸ¥çœ‹æ•°æ®
```

**Spreadsheet Editor**:
- æŸ¥çœ‹æ¯ä¸ªç‚¹/è¾¹/é¢çš„å±æ€§å€¼
- éªŒè¯ Field è®¡ç®—ç»“æœ
- æ£€æŸ¥ Instance æ•°æ®

**å¸¸è§é”™è¯¯æ’æŸ¥**:

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
| --- | --- | --- |
| æ²¡æœ‰è¾“å‡º | æœªè¿æ¥ Group Output | æ£€æŸ¥èŠ‚ç‚¹æ ‘æœ«ç«¯è¿æ¥ |
| å®ä¾‹æ˜¾ç¤ºé”™è¯¯ | åæ ‡ç©ºé—´ä¸ä¸€è‡´ | ç»Ÿä¸€ä½¿ç”¨ç›¸å¯¹æˆ–ä¸–ç•Œåæ ‡ |
| æ€§èƒ½å¡é¡¿ | è¿‡æ—© Realize Instances | å»¶è¿Ÿåˆ°æœ€åæ‰§è¡Œ |
| å±æ€§ä¸¢å¤± | Join Geometry åå±æ€§ä¸åŒ¹é… | ä½¿ç”¨ Store Named Attribute æ˜ç¡®å­˜å‚¨ |

### 5.4 èŠ‚ç‚¹ç»„å¤ç”¨ç­–ç•¥

**èµ„äº§åº“ç»„ç»‡**:
```
BlenderAssets/
â”œâ”€â”€ GeometryNodes/
â”‚   â”œâ”€â”€ Architecture/
â”‚   â”‚   â”œâ”€â”€ Window_Array.blend
â”‚   â”‚   â””â”€â”€ Staircase_Parametric.blend
â”‚   â”œâ”€â”€ Mechanical/
â”‚   â”‚   â”œâ”€â”€ Bolt_Array.blend
â”‚   â”‚   â””â”€â”€ Pipe_System.blend
â”‚   â””â”€â”€ Nature/
â”‚       â””â”€â”€ Vegetation_Scatter.blend
```

**ç‰ˆæœ¬ç®¡ç†**:
- èŠ‚ç‚¹ç»„å‘½å: `åŠŸèƒ½_ç‰ˆæœ¬_ä½œè€…` (å¦‚ `Stairs_v003_alice`)
- ä½¿ç”¨ Git ç®¡ç† .blend æ–‡ä»¶
- è®°å½•æ›´æ–°æ—¥å¿—

---

## ç¬¬å…­ç« :å®æˆ˜ç»ƒä¹ ä¸æŒ‘æˆ˜

### ç»ƒä¹  1: å‚æ•°åŒ–èºæ—‹æ¥¼æ¢¯

**ç›®æ ‡**: åˆ›å»ºå¯è°ƒèŠ‚å±‚æ•°ã€åŠå¾„ã€æ—‹è½¬è§’åº¦çš„èºæ—‹æ¥¼æ¢¯

**å‚æ•°**:
- å±‚æ•° (Floors): Integer
- åŠå¾„ (Radius): Float
- æ¯å±‚æ—‹è½¬è§’åº¦ (Rotation per Floor): Float
- å°é˜¶å®½åº¦ (Step Width): Float

**æç¤º**:
```
Curve (Spiral) -> Resample -> Instance on Points (å°é˜¶æ¨¡å‹)
â”œâ”€ Rotation: æ ¹æ® Index è®¡ç®—æ—‹è½¬
â””â”€ Position: æ ¹æ® Index è®¡ç®—é«˜åº¦
```

### ç»ƒä¹  2: ç¨‹åºåŒ–æœºæŸœå¸ƒçº¿ç³»ç»Ÿ

**ç›®æ ‡**: åœ¨æœºæŸœä¸­è‡ªåŠ¨ç”Ÿæˆè¿æ¥è®¾å¤‡çš„ç”µç¼†

**æŠ€æœ¯è¦ç‚¹**:
- ä½¿ç”¨ `Curve` å¯¹è±¡å®šä¹‰ç”µç¼†è·¯å¾„
- `Curve to Mesh` ç”Ÿæˆç”µç¼†å‡ ä½•
- `Array` Modifier å¤åˆ¶å¤šæ ¹ç”µç¼†
- é€šè¿‡ `Random` èŠ‚ç‚¹å¢åŠ å˜åŒ–

### ç»ƒä¹  3: æ•°æ®é©±åŠ¨çš„å¯è§†åŒ–å›¾è¡¨

**ç›®æ ‡**: è¯»å– CSV æ•°æ®,ç”Ÿæˆ 3D æŸ±çŠ¶å›¾

**æ­¥éª¤**:
1. Python è„šæœ¬è¯»å– CSV
2. å°†æ•°æ®ä¼ é€’ç»™ Geometry Nodes
3. ä½¿ç”¨ `Cube` + `Scale` ç”ŸæˆæŸ±ä½“
4. æ ¹æ®æ•°å€¼æ˜ å°„é¢œè‰²

---

## é™„å½• A: Geometry Nodes å¸¸ç”¨èŠ‚ç‚¹é€ŸæŸ¥

### è¾“å…¥ç±»

| èŠ‚ç‚¹ | åŠŸèƒ½ | å¸¸ç”¨å‚æ•° |
| --- | --- | --- |
| Group Input | èŠ‚ç‚¹ç»„è¾“å…¥ | è‡ªå®šä¹‰å‚æ•° |
| Object Info | å¼•å…¥å¤–éƒ¨å¯¹è±¡ | Object, As Instance |
| Collection Info | å¼•å…¥é›†åˆ | Collection, Separate Children |
| Scene Time | åœºæ™¯æ—¶é—´ | Frame, Seconds |

### å‡ ä½•æ“ä½œ

| èŠ‚ç‚¹ | åŠŸèƒ½ | å…³é”®æç¤º |
| --- | --- | --- |
| Join Geometry | åˆå¹¶å‡ ä½• | æ³¨æ„å±æ€§ä¸€è‡´æ€§ |
| Separate Geometry | æ¡ä»¶ç­›é€‰ | ä½¿ç”¨ Boolean Field |
| Merge by Distance | åˆå¹¶é‡å¤ç‚¹ | ç±»ä¼¼ Remove Doubles |
| Convex Hull | å‡¸åŒ… | åŒ…è£¹ç‚¹äº‘ç”Ÿæˆå¤–å£³ |

### å®ä¾‹åŒ–

| èŠ‚ç‚¹ | åŠŸèƒ½ | æ€§èƒ½æç¤º |
| --- | --- | --- |
| Instance on Points | ç‚¹ä¸Šç”Ÿæˆå®ä¾‹ | ä¿æŒå®ä¾‹åŒ–æå‡æ€§èƒ½ |
| Realize Instances | å®ä¾‹è½¬å®é™…å‡ ä½• | å»¶è¿Ÿåˆ°å¿…è¦æ—¶ä½¿ç”¨ |
| Rotate Instances | æ—‹è½¬å®ä¾‹ | ä¸ä¼š Realize |
| Scale Instances | ç¼©æ”¾å®ä¾‹ | ä¸ä¼š Realize |

### æ›²çº¿æ“ä½œ

| èŠ‚ç‚¹ | åŠŸèƒ½ | åº”ç”¨åœºæ™¯ |
| --- | --- | --- |
| Curve to Mesh | æ›²çº¿è½¬ç½‘æ ¼ | ç®¡é“ã€é“è·¯ |
| Resample Curve | é‡æ–°é‡‡æ · | ç»Ÿä¸€ç‚¹åˆ†å¸ƒ |
| Trim Curve | è£å‰ªæ›²çº¿ | åŠ¨ç”»è·¯å¾„ |
| Curve Tangent | æ›²çº¿åˆ‡çº¿ | å¯¹é½å®ä¾‹æœå‘ |

### æ•°å­¦è¿ç®—

| èŠ‚ç‚¹ | åŠŸèƒ½ | å¸¸ç”¨æ“ä½œ |
| --- | --- | --- |
| Math | æ•°å­¦è¿ç®— | Sin/Cos(å‘¨æœŸ), Modulo(å¾ªç¯) |
| Vector Math | å‘é‡è¿ç®— | Add/Normalize/Dot Product |
| Map Range | å€¼åŸŸæ˜ å°„ | çº¿æ€§ç¼©æ”¾ |
| Random Value | éšæœºæ•° | æ·»åŠ å˜åŒ– |

---

## é™„å½• B: å­¦ä¹ èµ„æºæ¨è

### å®˜æ–¹èµ„æº

- **Blender Manual - Geometry Nodes**: [https://docs.blender.org/manual/en/latest/modeling/geometry_nodes/](https://docs.blender.org/manual/en/latest/modeling/geometry_nodes/)
- **Blender Studio ç¤ºä¾‹é¡¹ç›®**: ç ”ç©¶å®˜æ–¹ Open Movies çš„èŠ‚ç‚¹æ ‘

### è§†é¢‘æ•™ç¨‹

- **Erindale (YouTube)**: Geometry Nodes æ·±åº¦æ•™ç¨‹
- **Blender Guru**: åˆå­¦è€…å‹å¥½çš„å…¥é—¨ç³»åˆ—
- **Default Cube**: è¿›é˜¶æŠ€å·§ä¸æ¡ˆä¾‹åˆ†æ

### ç¤¾åŒºä¸æ’ä»¶

- **Geometry Nodes Cookbook**: ç¤¾åŒºç»´æŠ¤çš„èŠ‚ç‚¹é…æ–¹é›†åˆ
- **Sverchok**: æ›´å¼ºå¤§çš„ç¨‹åºåŒ–å»ºæ¨¡æ’ä»¶(å…¼å®¹ Geometry Nodes)

### å®è·µé¡¹ç›®

- å‚ä¸ Blender Artists è®ºå›çš„ Geometry Nodes æŒ‘æˆ˜
- åœ¨ ArtStation åˆ†äº«å‚æ•°åŒ–èµ„äº§
- ä¸ºå¼€æºé¡¹ç›®è´¡çŒ®èŠ‚ç‚¹ç»„

---

## é™„å½• C: å¸¸è§é—®é¢˜ FAQ

**Q1: Geometry Nodes ä¸ Modifier æœ‰ä»€ä¹ˆåŒºåˆ«?**
A: Modifier æ˜¯é¢„å®šä¹‰çš„åŠŸèƒ½,Geometry Nodes æ˜¯å®Œå…¨å¯ç¼–ç¨‹çš„èŠ‚ç‚¹ç³»ç»Ÿ,çµæ´»æ€§æ›´é«˜ã€‚

**Q2: å¦‚ä½•å¯¼å‡º Geometry Nodes ç”Ÿæˆçš„å‡ ä½•?**
A: ä½¿ç”¨ `Realize Instances`,ç„¶å `Apply Modifier` å°†ç»“æœçƒ˜ç„™ä¸ºé™æ€ç½‘æ ¼ã€‚

**Q3: Geometry Nodes å¯ä»¥ç”¨äºåŠ¨ç”»å—?**
A: å¯ä»¥,é€šè¿‡ `Scene Time` èŠ‚ç‚¹é©±åŠ¨å‚æ•°,æˆ–ä½¿ç”¨ `Simulation Nodes` å®ç°åŸºäºç‰©ç†çš„æ¨¡æ‹Ÿã€‚

**Q4: å¦‚ä½•åœ¨å›¢é˜Ÿä¸­å…±äº«èŠ‚ç‚¹ç»„?**
A: å°†èŠ‚ç‚¹ç»„ä¿å­˜ä¸º Asset,é€šè¿‡å…±äº« .blend æ–‡ä»¶æˆ– Asset Library è·¯å¾„åˆ†å‘ã€‚

**Q5: æ€§èƒ½ç“¶é¢ˆå¦‚ä½•ä¼˜åŒ–?**
A: ä¿æŒå®ä¾‹åŒ–ã€å‡å°‘ Subdivisionã€ä½¿ç”¨ Bounding Box é¢„è§ˆã€å»¶è¿Ÿ Realize Instancesã€‚

---

## ç»“è¯­

Geometry Nodes æ˜¯ Blender æœ€å…·æ½œåŠ›çš„åŠŸèƒ½ä¹‹ä¸€,æŒæ¡å®ƒå¯ä»¥æ˜¾è‘—æå‡å»ºæ¨¡æ•ˆç‡å’Œåˆ›ä½œè‡ªç”±åº¦ã€‚

**æŒç»­å­¦ä¹ å»ºè®®**:
1. æ¯å‘¨å°è¯•ä¸€ä¸ªæ–°èŠ‚ç‚¹æˆ–èŠ‚ç‚¹ç»„åˆ
2. åˆ†æä¼˜ç§€é¡¹ç›®çš„èŠ‚ç‚¹æ ‘ç»“æ„
3. å‚ä¸ç¤¾åŒºè®¨è®º,åˆ†äº«ç»éªŒ
4. ç»“åˆé¡¹ç›®å®é™…éœ€æ±‚,å¼€å‘å®šåˆ¶åŒ–èµ„äº§

**è®°ä½**:
> "Geometry Nodes ä¸æ˜¯ç”¨æ¥æ›¿ä»£ä¼ ç»Ÿå»ºæ¨¡,è€Œæ˜¯ç”¨æ¥å¢å¼ºå’ŒåŠ é€Ÿåˆ›ä½œæµç¨‹ã€‚"

---

**ä¸“é¢˜ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-01-06
**ä½œè€…**: Claude Code Tech Note Generator
**è®¸å¯**: CC BY-SA 4.0
