<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CMake è·¨å¹³å°æ„å»ºç³»ç»Ÿå®Œæ•´å­¦ä¹ æŒ‡å— - å¼€å‘</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">
        <link rel="stylesheet" href="../../theme/help-overlay.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">å¼€å‘</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="æœç´¢æœ¬ä¹¦å†…å®¹..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="cmake-è·¨å¹³å°æ„å»ºç³»ç»Ÿå®Œæ•´å­¦ä¹ æŒ‡å—"><a class="header" href="#cmake-è·¨å¹³å°æ„å»ºç³»ç»Ÿå®Œæ•´å­¦ä¹ æŒ‡å—">CMake è·¨å¹³å°æ„å»ºç³»ç»Ÿå®Œæ•´å­¦ä¹ æŒ‡å—</a></h1>
<h2 id="-å­¦ä¹ è·¯çº¿å›¾"><a class="header" href="#-å­¦ä¹ è·¯çº¿å›¾">ğŸ“‹ å­¦ä¹ è·¯çº¿å›¾</a></h2>
<pre><code>ç¯å¢ƒå‡†å¤‡ â†’ åŸºç¡€è¯­æ³• â†’ é¡¹ç›®é…ç½® â†’ ç›®æ ‡ç®¡ç† â†’ ä¾èµ–ç®¡ç† â†’ é«˜çº§ç‰¹æ€§ â†’ æµ‹è¯•æ‰“åŒ… â†’ ç”Ÿäº§å®æˆ˜
  (1å¤©)     (2å¤©)      (2å¤©)      (3å¤©)      (3å¤©)      (3å¤©)      (2å¤©)      (æŒç»­)
</code></pre>
<p><strong>ç›®æ ‡ç¾¤ä½“</strong>: C/C++å¼€å‘è€…ã€è·¨å¹³å°é¡¹ç›®å¼€å‘è€…ã€æ„å»ºç³»ç»Ÿå·¥ç¨‹å¸ˆ
<strong>å‰ç½®è¦æ±‚</strong>: äº†è§£åŸºæœ¬çš„C/C++ç¼–ç¨‹ã€å‘½ä»¤è¡Œæ“ä½œ
<strong>å­¦ä¹ å‘¨æœŸ</strong>: 2-3å‘¨ï¼ˆæ¯å¤©2-3å°æ—¶ï¼‰</p>
<hr />
<h2 id="ç¬¬ä¸€ç« cmakeåŸºç¡€ä¸ç¯å¢ƒå‡†å¤‡"><a class="header" href="#ç¬¬ä¸€ç« cmakeåŸºç¡€ä¸ç¯å¢ƒå‡†å¤‡">ç¬¬ä¸€ç« ï¼šCMakeåŸºç¡€ä¸ç¯å¢ƒå‡†å¤‡</a></h2>
<h3 id="11-cmakeç®€ä»‹"><a class="header" href="#11-cmakeç®€ä»‹">1.1 CMakeç®€ä»‹</a></h3>
<p><strong>ä»€ä¹ˆæ˜¯CMake</strong>
CMakeï¼ˆCross-platform Makeï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„è·¨å¹³å°æ„å»ºç³»ç»Ÿï¼Œç”¨äºç®¡ç†è½¯ä»¶æ„å»ºè¿‡ç¨‹ã€‚å®ƒä½¿ç”¨ç®€å•çš„é…ç½®æ–‡ä»¶ï¼ˆCMakeLists.txtï¼‰æ¥ç”Ÿæˆç‰¹å®šå¹³å°çš„æ„å»ºæ–‡ä»¶ã€‚</p>
<p><strong>CMakeçš„ä¼˜åŠ¿</strong></p>
<ul>
<li>âœ… è·¨å¹³å°ï¼šæ”¯æŒWindowsã€Linuxã€macOSç­‰</li>
<li>âœ… ç”Ÿæˆå™¨å¤šæ ·ï¼šå¯ç”ŸæˆMakefileã€Ninjaã€Visual Studioç­‰</li>
<li>âœ… ç°ä»£åŒ–ï¼šæ”¯æŒç°ä»£C++ç‰¹æ€§å’Œæœ€ä½³å®è·µ</li>
<li>âœ… ç”Ÿæ€ä¸°å¯Œï¼šå¤§é‡ç¬¬ä¸‰æ–¹åº“æ”¯æŒ</li>
<li>âœ… å¯æ‰©å±•ï¼šæ”¯æŒè‡ªå®šä¹‰å‘½ä»¤å’Œæ¨¡å—</li>
</ul>
<p><strong>CMake vs Makefile</strong></p>
<div class="table-wrapper"><table><thead><tr><th>ç‰¹æ€§</th><th>CMake</th><th>Makefile</th></tr></thead><tbody>
<tr><td>è·¨å¹³å°</td><td>âœ… ä¼˜ç§€</td><td>âŒ éœ€æ‰‹åŠ¨é€‚é…</td></tr>
<tr><td>å­¦ä¹ æ›²çº¿</td><td>ä¸­ç­‰</td><td>è¾ƒé™¡</td></tr>
<tr><td>ä¾èµ–ç®¡ç†</td><td>âœ… è‡ªåŠ¨</td><td>âŒ æ‰‹åŠ¨</td></tr>
<tr><td>IDEé›†æˆ</td><td>âœ… ä¼˜ç§€</td><td>ä¸€èˆ¬</td></tr>
<tr><td>ç»´æŠ¤æˆæœ¬</td><td>ä½</td><td>é«˜</td></tr>
</tbody></table>
</div>
<h3 id="12-å®‰è£…ä¸é…ç½®"><a class="header" href="#12-å®‰è£…ä¸é…ç½®">1.2 å®‰è£…ä¸é…ç½®</a></h3>
<p><strong>Windowså®‰è£…</strong></p>
<pre><code class="language-powershell"># æ–¹æ³•1: ä¸‹è½½å®‰è£…åŒ…
# è®¿é—® https://cmake.org/download/
# ä¸‹è½½ cmake-x.x.x-windows-x86_64.msi

# æ–¹æ³•2: ä½¿ç”¨Chocolatey
choco install cmake

# æ–¹æ³•3: ä½¿ç”¨winget
winget install Kitware.CMake

# éªŒè¯å®‰è£…
cmake --version
</code></pre>
<p><strong>Linuxå®‰è£…</strong></p>
<pre><code class="language-bash"># Ubuntu/Debian
sudo apt-get update
sudo apt-get install cmake

# CentOS/RHEL
sudo yum install cmake

# ä»æºç ç¼–è¯‘ï¼ˆè·å–æœ€æ–°ç‰ˆæœ¬ï¼‰
wget https://github.com/Kitware/CMake/releases/download/v3.28.0/cmake-3.28.0.tar.gz
tar -zxvf cmake-3.28.0.tar.gz
cd cmake-3.28.0
./bootstrap
make
sudo make install

# éªŒè¯å®‰è£…
cmake --version
</code></pre>
<p><strong>macOSå®‰è£…</strong></p>
<pre><code class="language-bash"># ä½¿ç”¨Homebrew
brew install cmake

# éªŒè¯å®‰è£…
cmake --version
</code></pre>
<p><strong>ç¯å¢ƒå˜é‡é…ç½®</strong></p>
<pre><code class="language-bash"># Linux/macOS (~/.bashrc æˆ– ~/.zshrc)
export PATH="/usr/local/bin:$PATH"

# Windows (ç³»ç»Ÿç¯å¢ƒå˜é‡)
# æ·»åŠ åˆ° Path: C:\Program Files\CMake\bin
</code></pre>
<h3 id="13-ç¬¬ä¸€ä¸ªcmakeé¡¹ç›®"><a class="header" href="#13-ç¬¬ä¸€ä¸ªcmakeé¡¹ç›®">1.3 ç¬¬ä¸€ä¸ªCMakeé¡¹ç›®</a></h3>
<p><strong>é¡¹ç›®ç»“æ„</strong></p>
<pre><code>hello_cmake/
â”œâ”€â”€ CMakeLists.txt
â””â”€â”€ main.cpp
</code></pre>
<p><strong>main.cpp</strong></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    std::cout &lt;&lt; "Hello, CMake!" &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<p><strong>CMakeLists.txt</strong></p>
<pre><code class="language-cmake"># æŒ‡å®šCMakeæœ€ä½ç‰ˆæœ¬
cmake_minimum_required(VERSION 3.10)

# é¡¹ç›®åç§°å’Œç‰ˆæœ¬
project(HelloCMake VERSION 1.0)

# è®¾ç½®C++æ ‡å‡†
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶
add_executable(hello main.cpp)
</code></pre>
<p><strong>æ„å»ºå’Œè¿è¡Œ</strong></p>
<pre><code class="language-bash"># åˆ›å»ºæ„å»ºç›®å½•ï¼ˆæ¨èåšæ³•ï¼‰
mkdir build
cd build

# ç”Ÿæˆæ„å»ºæ–‡ä»¶
cmake ..

# ç¼–è¯‘é¡¹ç›®
cmake --build .

# è¿è¡Œç¨‹åº
./hello  # Linux/macOS
# æˆ–
.\Debug\hello.exe  # Windows
</code></pre>
<hr />
<h2 id="ç¬¬äºŒç« cmakeåŸºç¡€è¯­æ³•"><a class="header" href="#ç¬¬äºŒç« cmakeåŸºç¡€è¯­æ³•">ç¬¬äºŒç« ï¼šCMakeåŸºç¡€è¯­æ³•</a></h2>
<h3 id="21-cmakeliststxtåŸºæœ¬ç»“æ„"><a class="header" href="#21-cmakeliststxtåŸºæœ¬ç»“æ„">2.1 CMakeLists.txtåŸºæœ¬ç»“æ„</a></h3>
<pre><code class="language-cmake"># ==========================================
# 1. CMakeç‰ˆæœ¬è¦æ±‚
# ==========================================
cmake_minimum_required(VERSION 3.15)

# ==========================================
# 2. é¡¹ç›®ä¿¡æ¯
# ==========================================
project(MyProject
    VERSION 1.0.0
    DESCRIPTION "A sample CMake project"
    LANGUAGES CXX
)

# ==========================================
# 3. ç¼–è¯‘é€‰é¡¹
# ==========================================
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# ==========================================
# 4. æºæ–‡ä»¶å’Œç›®æ ‡
# ==========================================
add_executable(myapp main.cpp)

# ==========================================
# 5. ä¾èµ–å’Œé“¾æ¥
# ==========================================
# target_link_libraries(myapp PRIVATE somelib)
</code></pre>
<p><strong>æ³¨é‡Š</strong></p>
<pre><code class="language-cmake"># å•è¡Œæ³¨é‡Š

#[[
å¤šè¡Œæ³¨é‡Š
å¯ä»¥è·¨è¶Šå¤šè¡Œ
]]
</code></pre>
<h3 id="22-å˜é‡æ“ä½œ"><a class="header" href="#22-å˜é‡æ“ä½œ">2.2 å˜é‡æ“ä½œ</a></h3>
<p><strong>å˜é‡å®šä¹‰</strong></p>
<pre><code class="language-cmake"># æ™®é€šå˜é‡
set(MY_VAR "Hello")
set(MY_NUMBER 42)
set(MY_BOOL ON)  # ON/OFF, TRUE/FALSE, 1/0

# åˆ—è¡¨å˜é‡
set(MY_LIST item1 item2 item3)
set(MY_LIST "item1" "item2" "item3")  # ç­‰ä»·

# è¿½åŠ åˆ°åˆ—è¡¨
list(APPEND MY_LIST item4)

# å¤šè¡Œå­—ç¬¦ä¸²
set(LONG_STRING "
    This is a
    multiline string
")
</code></pre>
<p><strong>å˜é‡å¼•ç”¨</strong></p>
<pre><code class="language-cmake">set(NAME "World")
message("Hello, ${NAME}!")  # è¾“å‡º: Hello, World!

# åµŒå¥—å¼•ç”¨
set(VAR1 "inner")
set(VAR2 "${VAR1}_value")  # VAR2 = "inner_value"
</code></pre>
<p><strong>ç¼“å­˜å˜é‡</strong></p>
<pre><code class="language-cmake"># ç¼“å­˜å˜é‡ï¼ˆå¯åœ¨cmake-guiä¸­ä¿®æ”¹ï¼‰
set(MY_OPTION "default_value" CACHE STRING "Description")

# å¸ƒå°”é€‰é¡¹
option(ENABLE_TESTING "Enable testing" ON)

# è·¯å¾„ç¼“å­˜
set(INSTALL_DIR "/usr/local" CACHE PATH "Install directory")
</code></pre>
<p><strong>ç¯å¢ƒå˜é‡</strong></p>
<pre><code class="language-cmake"># è¯»å–ç¯å¢ƒå˜é‡
message("PATH: $ENV{PATH}")

# è®¾ç½®ç¯å¢ƒå˜é‡
set(ENV{MY_VAR} "value")
</code></pre>
<p><strong>å­—ç¬¦ä¸²æ“ä½œ</strong></p>
<pre><code class="language-cmake">set(STR "Hello, World!")

# å­—ç¬¦ä¸²é•¿åº¦
string(LENGTH ${STR} STR_LEN)

# å­—ç¬¦ä¸²æŸ¥æ‰¾
string(FIND ${STR} "World" POS)

# å­—ç¬¦ä¸²æ›¿æ¢
string(REPLACE "World" "CMake" NEW_STR ${STR})

# å¤§å°å†™è½¬æ¢
string(TOUPPER ${STR} UPPER_STR)
string(TOLOWER ${STR} LOWER_STR)

# å­—ç¬¦ä¸²æˆªå–
string(SUBSTRING ${STR} 0 5 SUB_STR)  # "Hello"

# æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
string(REGEX MATCH "[0-9]+" NUMBERS "abc123def456")
</code></pre>
<p><strong>åˆ—è¡¨æ“ä½œ</strong></p>
<pre><code class="language-cmake">set(MY_LIST a b c d e)

# åˆ—è¡¨é•¿åº¦
list(LENGTH MY_LIST LIST_LEN)

# è·å–å…ƒç´ 
list(GET MY_LIST 0 FIRST_ITEM)  # a
list(GET MY_LIST 0 2 FIRST_THREE)  # a;b;c

# è¿½åŠ å…ƒç´ 
list(APPEND MY_LIST f g)

# æ’å…¥å…ƒç´ 
list(INSERT MY_LIST 0 z)  # åœ¨å¼€å¤´æ’å…¥

# åˆ é™¤å…ƒç´ 
list(REMOVE_ITEM MY_LIST b)  # åˆ é™¤æŒ‡å®šå€¼
list(REMOVE_AT MY_LIST 0)    # åˆ é™¤æŒ‡å®šç´¢å¼•

# æŸ¥æ‰¾å…ƒç´ 
list(FIND MY_LIST c INDEX)

# æ’åº
list(SORT MY_LIST)

# åè½¬
list(REVERSE MY_LIST)

# å»é‡
list(REMOVE_DUPLICATES MY_LIST)
</code></pre>
<h3 id="23-æ¡ä»¶è¯­å¥"><a class="header" href="#23-æ¡ä»¶è¯­å¥">2.3 æ¡ä»¶è¯­å¥</a></h3>
<p><strong>ifè¯­å¥</strong></p>
<pre><code class="language-cmake">set(VAR "value")

# åŸºæœ¬æ¡ä»¶
if(VAR)
    message("VAR is defined and not false")
endif()

# å­—ç¬¦ä¸²æ¯”è¾ƒ
if(VAR STREQUAL "value")
    message("VAR equals 'value'")
endif()

# æ•°å€¼æ¯”è¾ƒ
if(NUM GREATER 10)
    message("NUM &gt; 10")
endif()

# é€»è¾‘è¿ç®—
if(CONDITION1 AND CONDITION2)
    message("Both conditions are true")
endif()

if(CONDITION1 OR CONDITION2)
    message("At least one condition is true")
endif()

if(NOT CONDITION)
    message("Condition is false")
endif()

# æ–‡ä»¶å­˜åœ¨åˆ¤æ–­
if(EXISTS "${CMAKE_SOURCE_DIR}/config.h")
    message("config.h exists")
endif()

# å˜é‡å®šä¹‰åˆ¤æ–­
if(DEFINED MY_VAR)
    message("MY_VAR is defined")
endif()

# å®Œæ•´ç¤ºä¾‹
set(BUILD_TYPE "Release")

if(BUILD_TYPE STREQUAL "Debug")
    message("Debug build")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g")
elseif(BUILD_TYPE STREQUAL "Release")
    message("Release build")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3")
else()
    message("Unknown build type")
endif()
</code></pre>
<p><strong>å¹³å°åˆ¤æ–­</strong></p>
<pre><code class="language-cmake">if(WIN32)
    message("Windows platform")
elseif(UNIX)
    if(APPLE)
        message("macOS platform")
    else()
        message("Linux platform")
    endif()
endif()

# ç¼–è¯‘å™¨åˆ¤æ–­
if(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
    message("GCC compiler")
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
    message("MSVC compiler")
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
    message("Clang compiler")
endif()
</code></pre>
<h3 id="24-å¾ªç¯è¯­å¥"><a class="header" href="#24-å¾ªç¯è¯­å¥">2.4 å¾ªç¯è¯­å¥</a></h3>
<p><strong>foreachå¾ªç¯</strong></p>
<pre><code class="language-cmake"># éå†åˆ—è¡¨
set(ITEMS a b c d)
foreach(ITEM ${ITEMS})
    message("Item: ${ITEM}")
endforeach()

# éå†èŒƒå›´
foreach(NUM RANGE 5)
    message("Number: ${NUM}")  # 0, 1, 2, 3, 4, 5
endforeach()

foreach(NUM RANGE 1 10 2)  # èµ·å§‹ ç»“æŸ æ­¥é•¿
    message("Number: ${NUM}")  # 1, 3, 5, 7, 9
endforeach()

# éå†æ–‡ä»¶
file(GLOB CPP_FILES "*.cpp")
foreach(FILE ${CPP_FILES})
    message("C++ file: ${FILE}")
endforeach()

# å¤šå˜é‡éå†
set(NAMES Alice Bob Charlie)
set(AGES 25 30 28)

list(LENGTH NAMES COUNT)
foreach(IDX RANGE 0 ${COUNT})
    list(GET NAMES ${IDX} NAME)
    list(GET AGES ${IDX} AGE)
    message("${NAME} is ${AGE} years old")
endforeach()
</code></pre>
<p><strong>whileå¾ªç¯</strong></p>
<pre><code class="language-cmake">set(COUNT 0)
while(COUNT LESS 5)
    message("Count: ${COUNT}")
    math(EXPR COUNT "${COUNT} + 1")
endwhile()
</code></pre>
<hr />
<h2 id="ç¬¬ä¸‰ç« é¡¹ç›®é…ç½®"><a class="header" href="#ç¬¬ä¸‰ç« é¡¹ç›®é…ç½®">ç¬¬ä¸‰ç« ï¼šé¡¹ç›®é…ç½®</a></h2>
<h3 id="31-é¡¹ç›®å£°æ˜"><a class="header" href="#31-é¡¹ç›®å£°æ˜">3.1 é¡¹ç›®å£°æ˜</a></h3>
<pre><code class="language-cmake"># æœ€å°åŒ–é¡¹ç›®
project(MyProject)

# å®Œæ•´é¡¹ç›®å£°æ˜
project(MyProject
    VERSION 1.2.3
    DESCRIPTION "My awesome project"
    HOMEPAGE_URL "https://example.com"
    LANGUAGES CXX C
)

# ç‰ˆæœ¬å·ä½¿ç”¨
message("Project: ${PROJECT_NAME}")
message("Version: ${PROJECT_VERSION}")
message("Major: ${PROJECT_VERSION_MAJOR}")
message("Minor: ${PROJECT_VERSION_MINOR}")
message("Patch: ${PROJECT_VERSION_PATCH}")
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šç‰ˆæœ¬é…ç½®æ–‡ä»¶ç”Ÿæˆ</strong></p>
<pre><code class="language-cmake"># CMakeLists.txt
project(MyApp VERSION 2.1.0)

# é…ç½®å¤´æ–‡ä»¶
configure_file(
    "${PROJECT_SOURCE_DIR}/version.h.in"
    "${PROJECT_BINARY_DIR}/version.h"
)

# version.h.in æ¨¡æ¿æ–‡ä»¶
#ifndef VERSION_H
#define VERSION_H

#define APP_VERSION_MAJOR @MyApp_VERSION_MAJOR@
#define APP_VERSION_MINOR @MyApp_VERSION_MINOR@
#define APP_VERSION_PATCH @MyApp_VERSION_PATCH@
#define APP_VERSION_STRING "@MyApp_VERSION@"

#endif // VERSION_H
</code></pre>
<h3 id="32-ç›®å½•ç»“æ„æœ€ä½³å®è·µ"><a class="header" href="#32-ç›®å½•ç»“æ„æœ€ä½³å®è·µ">3.2 ç›®å½•ç»“æ„æœ€ä½³å®è·µ</a></h3>
<p><strong>æ¨èçš„é¡¹ç›®ç»“æ„</strong></p>
<pre><code>MyProject/
â”œâ”€â”€ CMakeLists.txt           # æ ¹CMakeæ–‡ä»¶
â”œâ”€â”€ cmake/                   # CMakeæ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ FindSomeLib.cmake
â”‚   â””â”€â”€ CompilerOptions.cmake
â”œâ”€â”€ include/                 # å…¬å…±å¤´æ–‡ä»¶
â”‚   â””â”€â”€ myproject/
â”‚       â””â”€â”€ api.h
â”œâ”€â”€ src/                     # æºä»£ç 
â”‚   â”œâ”€â”€ CMakeLists.txt
â”‚   â”œâ”€â”€ main.cpp
â”‚   â””â”€â”€ module1/
â”‚       â”œâ”€â”€ CMakeLists.txt
â”‚       â””â”€â”€ module1.cpp
â”œâ”€â”€ tests/                   # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ CMakeLists.txt
â”‚   â””â”€â”€ test_main.cpp
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â”œâ”€â”€ third_party/             # ç¬¬ä¸‰æ–¹åº“
â””â”€â”€ build/                   # æ„å»ºç›®å½•ï¼ˆä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼‰
</code></pre>
<p><strong>æ ¹CMakeLists.txt</strong></p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.15)
project(MyProject VERSION 1.0.0 LANGUAGES CXX)

# è®¾ç½®è¾“å‡ºç›®å½•
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)

# æ·»åŠ CMakeæ¨¡å—è·¯å¾„
list(APPEND CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")

# ç¼–è¯‘é€‰é¡¹
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

# æ„å»ºé€‰é¡¹
option(BUILD_SHARED_LIBS "Build shared libraries" OFF)
option(BUILD_TESTS "Build tests" ON)
option(BUILD_DOCS "Build documentation" OFF)

# æ·»åŠ å­ç›®å½•
add_subdirectory(src)

if(BUILD_TESTS)
    enable_testing()
    add_subdirectory(tests)
endif()
</code></pre>
<p><strong>src/CMakeLists.txt</strong></p>
<pre><code class="language-cmake"># æ”¶é›†æºæ–‡ä»¶
file(GLOB_RECURSE SOURCES "*.cpp")
file(GLOB_RECURSE HEADERS "${PROJECT_SOURCE_DIR}/include/*.h")

# åˆ›å»ºåº“
add_library(myproject_lib ${SOURCES} ${HEADERS})

# è®¾ç½®åŒ…å«ç›®å½•
target_include_directories(myproject_lib
    PUBLIC
        $&lt;BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
    PRIVATE
        ${CMAKE_CURRENT_SOURCE_DIR}
)

# åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶
add_executable(myproject main.cpp)
target_link_libraries(myproject PRIVATE myproject_lib)
</code></pre>
<hr />
<h2 id="ç¬¬å››ç« ç›®æ ‡ç®¡ç†"><a class="header" href="#ç¬¬å››ç« ç›®æ ‡ç®¡ç†">ç¬¬å››ç« ï¼šç›®æ ‡ç®¡ç†</a></h2>
<h3 id="41-å¯æ‰§è¡Œæ–‡ä»¶"><a class="header" href="#41-å¯æ‰§è¡Œæ–‡ä»¶">4.1 å¯æ‰§è¡Œæ–‡ä»¶</a></h3>
<pre><code class="language-cmake"># åŸºæœ¬å¯æ‰§è¡Œæ–‡ä»¶
add_executable(myapp main.cpp)

# å¤šä¸ªæºæ–‡ä»¶
add_executable(myapp
    main.cpp
    utils.cpp
    config.cpp
)

# ä½¿ç”¨å˜é‡
set(SOURCES
    main.cpp
    utils.cpp
    config.cpp
)
add_executable(myapp ${SOURCES})

# ä½¿ç”¨GLOBï¼ˆä¸æ¨èç”¨äºç”Ÿäº§ï¼‰
file(GLOB SOURCES "src/*.cpp")
add_executable(myapp ${SOURCES})

# æ¨èï¼šæ˜¾å¼åˆ—å‡ºæ–‡ä»¶
add_executable(myapp
    src/main.cpp
    src/utils.cpp
    src/config.cpp
)
</code></pre>
<h3 id="42-åº“æ–‡ä»¶"><a class="header" href="#42-åº“æ–‡ä»¶">4.2 åº“æ–‡ä»¶</a></h3>
<p><strong>é™æ€åº“</strong></p>
<pre><code class="language-cmake"># åˆ›å»ºé™æ€åº“
add_library(mylib STATIC
    src/lib.cpp
    src/helper.cpp
)

# é»˜è®¤ç±»å‹ï¼ˆç”±BUILD_SHARED_LIBSæ§åˆ¶ï¼‰
add_library(mylib
    src/lib.cpp
    src/helper.cpp
)
</code></pre>
<p><strong>åŠ¨æ€åº“</strong></p>
<pre><code class="language-cmake"># åˆ›å»ºåŠ¨æ€åº“
add_library(mylib SHARED
    src/lib.cpp
    src/helper.cpp
)

# Windows DLLå¯¼å‡º
if(WIN32)
    target_compile_definitions(mylib PRIVATE BUILDING_DLL)
endif()
</code></pre>
<p><strong>æ¥å£åº“ï¼ˆä»…å¤´æ–‡ä»¶åº“ï¼‰</strong></p>
<pre><code class="language-cmake">add_library(myheaderlib INTERFACE)
target_include_directories(myheaderlib INTERFACE
    $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
    $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong>å¯¹è±¡åº“</strong></p>
<pre><code class="language-cmake"># å¯¹è±¡åº“ï¼ˆç¼–è¯‘ä½†ä¸é“¾æ¥ï¼‰
add_library(myobjects OBJECT
    src/file1.cpp
    src/file2.cpp
)

# åœ¨å¤šä¸ªç›®æ ‡ä¸­ä½¿ç”¨
add_executable(app1 $&lt;TARGET_OBJECTS:myobjects&gt; main1.cpp)
add_executable(app2 $&lt;TARGET_OBJECTS:myobjects&gt; main2.cpp)
</code></pre>
<h3 id="43-ç›®æ ‡å±æ€§è®¾ç½®"><a class="header" href="#43-ç›®æ ‡å±æ€§è®¾ç½®">4.3 ç›®æ ‡å±æ€§è®¾ç½®</a></h3>
<p><strong>åŒ…å«ç›®å½•</strong></p>
<pre><code class="language-cmake">target_include_directories(mylib
    PUBLIC          # å…¬å…±å¤´æ–‡ä»¶ï¼ˆä½¿ç”¨è€…ä¹Ÿèƒ½çœ‹åˆ°ï¼‰
        ${PROJECT_SOURCE_DIR}/include
    PRIVATE         # ç§æœ‰å¤´æ–‡ä»¶ï¼ˆä»…å†…éƒ¨ä½¿ç”¨ï¼‰
        ${CMAKE_CURRENT_SOURCE_DIR}/src
    INTERFACE       # ä»…å¯¹ä½¿ç”¨è€…å¯è§
        ${CMAKE_CURRENT_SOURCE_DIR}/api
)
</code></pre>
<p><strong>é“¾æ¥åº“</strong></p>
<pre><code class="language-cmake">target_link_libraries(myapp
    PUBLIC          # å…¬å…±ä¾èµ–ï¼ˆä¼ é€’ç»™ä½¿ç”¨è€…ï¼‰
        publiclib
    PRIVATE         # ç§æœ‰ä¾èµ–ï¼ˆä¸ä¼ é€’ï¼‰
        privatelib
    INTERFACE       # ä»…å¯¹ä½¿ç”¨è€…çš„ä¾èµ–
        interfacelib
)
</code></pre>
<p><strong>ç¼–è¯‘å®šä¹‰</strong></p>
<pre><code class="language-cmake">target_compile_definitions(mylib
    PUBLIC
        API_VERSION=2
    PRIVATE
        INTERNAL_DEBUG
        $&lt;$&lt;CONFIG:Debug&gt;:DEBUG_MODE&gt;
)
</code></pre>
<p><strong>ç¼–è¯‘é€‰é¡¹</strong></p>
<pre><code class="language-cmake">target_compile_options(mylib
    PRIVATE
        $&lt;$&lt;CXX_COMPILER_ID:MSVC&gt;:/W4&gt;
        $&lt;$&lt;CXX_COMPILER_ID:GNU&gt;:-Wall -Wextra&gt;
        $&lt;$&lt;CXX_COMPILER_ID:Clang&gt;:-Wall -Wextra&gt;
)
</code></pre>
<p><strong>å®Œæ•´ç¤ºä¾‹</strong></p>
<pre><code class="language-cmake"># åˆ›å»ºåº“
add_library(mymath STATIC
    src/add.cpp
    src/multiply.cpp
)

# è®¾ç½®å±æ€§
target_include_directories(mymath
    PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include
)

target_compile_features(mymath
    PUBLIC cxx_std_17
)

target_compile_definitions(mymath
    PRIVATE
        $&lt;$&lt;CONFIG:Debug&gt;:DEBUG_LOGGING&gt;
)

# åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶
add_executable(calculator main.cpp)

# é“¾æ¥åº“
target_link_libraries(calculator PRIVATE mymath)
</code></pre>
<hr />
<h2 id="ç¬¬äº”ç« ç¼–è¯‘å™¨ä¸å¹³å°"><a class="header" href="#ç¬¬äº”ç« ç¼–è¯‘å™¨ä¸å¹³å°">ç¬¬äº”ç« ï¼šç¼–è¯‘å™¨ä¸å¹³å°</a></h2>
<h3 id="51-ç¼–è¯‘å™¨é…ç½®"><a class="header" href="#51-ç¼–è¯‘å™¨é…ç½®">5.1 ç¼–è¯‘å™¨é…ç½®</a></h3>
<p><strong>C++æ ‡å‡†è®¾ç½®</strong></p>
<pre><code class="language-cmake"># å…¨å±€è®¾ç½®
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

# ç›®æ ‡ç‰¹å®šè®¾ç½®
target_compile_features(mylib PUBLIC cxx_std_17)

# æ£€æŸ¥ç¼–è¯‘å™¨æ”¯æŒ
if(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
    if(CMAKE_CXX_COMPILER_VERSION VERSION_LESS "7.0")
        message(FATAL_ERROR "GCC version must be at least 7.0")
    endif()
endif()
</code></pre>
<p><strong>ç¼–è¯‘é€‰é¡¹</strong></p>
<pre><code class="language-cmake"># è·¨å¹³å°ç¼–è¯‘é€‰é¡¹
if(MSVC)
    # MSVCç¼–è¯‘å™¨
    target_compile_options(mylib PRIVATE
        /W4                 # è­¦å‘Šçº§åˆ«4
        /WX                 # è­¦å‘Šè§†ä¸ºé”™è¯¯
        /permissive-        # ä¸¥æ ¼æ ‡å‡†ä¸€è‡´æ€§
    )
else()
    # GCC/Clang
    target_compile_options(mylib PRIVATE
        -Wall               # æ‰€æœ‰è­¦å‘Š
        -Wextra            # é¢å¤–è­¦å‘Š
        -Werror            # è­¦å‘Šè§†ä¸ºé”™è¯¯
        -pedantic          # ä¸¥æ ¼æ ‡å‡†
    )
endif()
</code></pre>
<p><strong>ä¼˜åŒ–çº§åˆ«</strong></p>
<pre><code class="language-cmake"># Debugé…ç½®
set(CMAKE_CXX_FLAGS_DEBUG "-g -O0")

# Releaseé…ç½®
set(CMAKE_CXX_FLAGS_RELEASE "-O3 -DNDEBUG")

# æˆ–ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼
target_compile_options(mylib PRIVATE
    $&lt;$&lt;CONFIG:Debug&gt;:-g -O0&gt;
    $&lt;$&lt;CONFIG:Release&gt;:-O3&gt;
)
</code></pre>
<h3 id="52-å¹³å°æ£€æµ‹"><a class="header" href="#52-å¹³å°æ£€æµ‹">5.2 å¹³å°æ£€æµ‹</a></h3>
<p><strong>æ“ä½œç³»ç»Ÿæ£€æµ‹</strong></p>
<pre><code class="language-cmake">if(WIN32)
    message("Windows platform")
    target_compile_definitions(mylib PRIVATE PLATFORM_WINDOWS)
elseif(APPLE)
    message("macOS platform")
    target_compile_definitions(mylib PRIVATE PLATFORM_MACOS)
elseif(UNIX)
    message("Unix/Linux platform")
    target_compile_definitions(mylib PRIVATE PLATFORM_LINUX)
endif()

# æ›´ç²¾ç¡®çš„æ£€æµ‹
if(CMAKE_SYSTEM_NAME STREQUAL "Linux")
    message("Linux")
elseif(CMAKE_SYSTEM_NAME STREQUAL "Darwin")
    message("macOS")
elseif(CMAKE_SYSTEM_NAME STREQUAL "Windows")
    message("Windows")
endif()
</code></pre>
<p><strong>æ¶æ„æ£€æµ‹</strong></p>
<pre><code class="language-cmake">if(CMAKE_SIZEOF_VOID_P EQUAL 8)
    message("64-bit architecture")
else()
    message("32-bit architecture")
endif()

# å¤„ç†å™¨æ¶æ„
if(CMAKE_SYSTEM_PROCESSOR MATCHES "x86_64|AMD64")
    message("x64 processor")
elseif(CMAKE_SYSTEM_PROCESSOR MATCHES "arm|ARM")
    message("ARM processor")
endif()
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šè·¨å¹³å°æ–‡ä»¶æ“ä½œ</strong></p>
<pre><code class="language-cmake"># platform_utils/CMakeLists.txt
add_library(platform_utils STATIC)

if(WIN32)
    target_sources(platform_utils PRIVATE
        src/windows/file_ops.cpp
        src/windows/path_ops.cpp
    )
    target_link_libraries(platform_utils PRIVATE Shlwapi)
else()
    target_sources(platform_utils PRIVATE
        src/unix/file_ops.cpp
        src/unix/path_ops.cpp
    )
endif()

target_include_directories(platform_utils
    PUBLIC include
    PRIVATE src
)
</code></pre>
<hr />
<h2 id="ç¬¬å…­ç« ä¾èµ–ç®¡ç†"><a class="header" href="#ç¬¬å…­ç« ä¾èµ–ç®¡ç†">ç¬¬å…­ç« ï¼šä¾èµ–ç®¡ç†</a></h2>
<h3 id="61-find_package"><a class="header" href="#61-find_package">6.1 find_package</a></h3>
<p><strong>åŸºæœ¬ç”¨æ³•</strong></p>
<pre><code class="language-cmake"># æŸ¥æ‰¾å¿…éœ€çš„åŒ…
find_package(Boost REQUIRED)
find_package(OpenCV REQUIRED)

# æŸ¥æ‰¾å¯é€‰çš„åŒ…
find_package(Qt5 COMPONENTS Widgets)
if(Qt5_FOUND)
    message("Qt5 found: ${Qt5_VERSION}")
endif()

# æŒ‡å®šç‰ˆæœ¬
find_package(Boost 1.70 REQUIRED)
find_package(OpenCV 4.0 EXACT REQUIRED)

# æŸ¥æ‰¾å¤šä¸ªç»„ä»¶
find_package(Boost REQUIRED COMPONENTS
    system
    filesystem
    thread
)
</code></pre>
<p><strong>ä½¿ç”¨æ‰¾åˆ°çš„åŒ…</strong></p>
<pre><code class="language-cmake">find_package(OpenCV REQUIRED)

add_executable(myapp main.cpp)

# é“¾æ¥åº“
target_link_libraries(myapp PRIVATE
    ${OpenCV_LIBS}
)

# åŒ…å«ç›®å½•
target_include_directories(myapp PRIVATE
    ${OpenCV_INCLUDE_DIRS}
)

# ç°ä»£CMakeæ–¹å¼ï¼ˆæ¨èï¼‰
target_link_libraries(myapp PRIVATE
    opencv_core
    opencv_imgproc
)
</code></pre>
<p><strong>è‡ªå®šä¹‰Findæ¨¡å—</strong></p>
<pre><code class="language-cmake"># cmake/FindMyLib.cmake
find_path(MYLIB_INCLUDE_DIR
    NAMES mylib.h
    PATHS /usr/include /usr/local/include
)

find_library(MYLIB_LIBRARY
    NAMES mylib
    PATHS /usr/lib /usr/local/lib
)

include(FindPackageHandleStandardArgs)
find_package_handle_standard_args(MyLib
    REQUIRED_VARS MYLIB_LIBRARY MYLIB_INCLUDE_DIR
)

if(MYLIB_FOUND)
    set(MYLIB_LIBRARIES ${MYLIB_LIBRARY})
    set(MYLIB_INCLUDE_DIRS ${MYLIB_INCLUDE_DIR})

    # åˆ›å»ºå¯¼å…¥ç›®æ ‡ï¼ˆç°ä»£æ–¹å¼ï¼‰
    if(NOT TARGET MyLib::MyLib)
        add_library(MyLib::MyLib UNKNOWN IMPORTED)
        set_target_properties(MyLib::MyLib PROPERTIES
            IMPORTED_LOCATION "${MYLIB_LIBRARY}"
            INTERFACE_INCLUDE_DIRECTORIES "${MYLIB_INCLUDE_DIR}"
        )
    endif()
endif()
</code></pre>
<h3 id="62-fetchcontent"><a class="header" href="#62-fetchcontent">6.2 FetchContent</a></h3>
<p><strong>åŸºæœ¬ç”¨æ³•</strong></p>
<pre><code class="language-cmake">include(FetchContent)

# å£°æ˜ä¾èµ–
FetchContent_Declare(
    googletest
    GIT_REPOSITORY https://github.com/google/googletest.git
    GIT_TAG        release-1.12.1
)

# ä½¿ä¾èµ–å¯ç”¨
FetchContent_MakeAvailable(googletest)

# ä½¿ç”¨
add_executable(mytest test.cpp)
target_link_libraries(mytest PRIVATE gtest gtest_main)
</code></pre>
<p><strong>é«˜çº§ç”¨æ³•</strong></p>
<pre><code class="language-cmake">include(FetchContent)

FetchContent_Declare(
    json
    GIT_REPOSITORY https://github.com/nlohmann/json.git
    GIT_TAG v3.11.2
    GIT_SHALLOW TRUE    # æµ…å…‹éš†
)

# é…ç½®é€‰é¡¹
set(JSON_BuildTests OFF CACHE INTERNAL "")
set(JSON_Install OFF CACHE INTERNAL "")

FetchContent_MakeAvailable(json)

# ä½¿ç”¨
target_link_libraries(myapp PRIVATE nlohmann_json::nlohmann_json)
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šå¤šä¾èµ–ç®¡ç†</strong></p>
<pre><code class="language-cmake">include(FetchContent)

# GoogleTest
FetchContent_Declare(
    googletest
    GIT_REPOSITORY https://github.com/google/googletest.git
    GIT_TAG release-1.12.1
)

# spdlog
FetchContent_Declare(
    spdlog
    GIT_REPOSITORY https://github.com/gabime/spdlog.git
    GIT_TAG v1.11.0
)

# fmt
FetchContent_Declare(
    fmt
    GIT_REPOSITORY https://github.com/fmtlib/fmt.git
    GIT_TAG 9.1.0
)

# ä¸€æ¬¡æ€§ä½¿æ‰€æœ‰ä¾èµ–å¯ç”¨
FetchContent_MakeAvailable(googletest spdlog fmt)

# ä½¿ç”¨
add_executable(myapp main.cpp)
target_link_libraries(myapp PRIVATE
    spdlog::spdlog
    fmt::fmt
)
</code></pre>
<h3 id="63-externalproject"><a class="header" href="#63-externalproject">6.3 ExternalProject</a></h3>
<pre><code class="language-cmake">include(ExternalProject)

ExternalProject_Add(
    external_lib
    GIT_REPOSITORY https://github.com/example/lib.git
    GIT_TAG v1.0.0
    PREFIX ${CMAKE_BINARY_DIR}/external
    CMAKE_ARGS
        -DCMAKE_INSTALL_PREFIX=&lt;INSTALL_DIR&gt;
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
    BUILD_COMMAND ${CMAKE_COMMAND} --build &lt;BINARY_DIR&gt; --config ${CMAKE_BUILD_TYPE}
    INSTALL_COMMAND ${CMAKE_COMMAND} --install &lt;BINARY_DIR&gt; --config ${CMAKE_BUILD_TYPE}
)

# åˆ›å»ºå¯¼å…¥ç›®æ ‡
add_library(ExternalLib STATIC IMPORTED)
add_dependencies(ExternalLib external_lib)

ExternalProject_Get_Property(external_lib INSTALL_DIR)
set_target_properties(ExternalLib PROPERTIES
    IMPORTED_LOCATION ${INSTALL_DIR}/lib/libexternal.a
)

target_include_directories(ExternalLib INTERFACE
    ${INSTALL_DIR}/include
)
</code></pre>
<hr />
<h2 id="ç¬¬ä¸ƒç« é«˜çº§ç‰¹æ€§"><a class="header" href="#ç¬¬ä¸ƒç« é«˜çº§ç‰¹æ€§">ç¬¬ä¸ƒç« ï¼šé«˜çº§ç‰¹æ€§</a></h2>
<h3 id="71-ç”Ÿæˆå™¨è¡¨è¾¾å¼"><a class="header" href="#71-ç”Ÿæˆå™¨è¡¨è¾¾å¼">7.1 ç”Ÿæˆå™¨è¡¨è¾¾å¼</a></h3>
<p><strong>åŸºæœ¬è¯­æ³•</strong></p>
<pre><code class="language-cmake"># æ¡ä»¶è¡¨è¾¾å¼
$&lt;$&lt;CONFIG:Debug&gt;:flags&gt;

# å¸ƒå°”è¡¨è¾¾å¼
$&lt;$&lt;BOOL:${VAR}&gt;:value&gt;

# å­—ç¬¦ä¸²æ¯”è¾ƒ
$&lt;$&lt;STREQUAL:${VAR},"value"&gt;:result&gt;

# ç›®æ ‡å±æ€§
$&lt;TARGET_PROPERTY:target,property&gt;
</code></pre>
<p><strong>å¸¸ç”¨ç¤ºä¾‹</strong></p>
<pre><code class="language-cmake"># æ ¹æ®æ„å»ºç±»å‹æ·»åŠ ç¼–è¯‘é€‰é¡¹
target_compile_options(mylib PRIVATE
    $&lt;$&lt;CONFIG:Debug&gt;:-g -O0&gt;
    $&lt;$&lt;CONFIG:Release&gt;:-O3 -DNDEBUG&gt;
)

# æ ¹æ®ç¼–è¯‘å™¨æ·»åŠ é€‰é¡¹
target_compile_options(mylib PRIVATE
    $&lt;$&lt;CXX_COMPILER_ID:MSVC&gt;:/W4&gt;
    $&lt;$&lt;CXX_COMPILER_ID:GNU&gt;:-Wall -Wextra&gt;
)

# æ ¹æ®å¹³å°æ·»åŠ å®šä¹‰
target_compile_definitions(mylib PRIVATE
    $&lt;$&lt;PLATFORM_ID:Windows&gt;:WIN32_LEAN_AND_MEAN&gt;
    $&lt;$&lt;PLATFORM_ID:Linux&gt;:_GNU_SOURCE&gt;
)

# æ¡ä»¶åŒ…å«ç›®å½•
target_include_directories(mylib PUBLIC
    $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
    $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<h3 id="72-è‡ªå®šä¹‰å‘½ä»¤"><a class="header" href="#72-è‡ªå®šä¹‰å‘½ä»¤">7.2 è‡ªå®šä¹‰å‘½ä»¤</a></h3>
<p><strong>add_custom_command</strong></p>
<pre><code class="language-cmake"># ç”Ÿæˆæ–‡ä»¶
add_custom_command(
    OUTPUT ${CMAKE_BINARY_DIR}/generated.cpp
    COMMAND ${CMAKE_COMMAND} -E echo "// Generated file" &gt; ${CMAKE_BINARY_DIR}/generated.cpp
    COMMENT "Generating source file"
)

# æ·»åŠ åˆ°ç›®æ ‡
add_executable(myapp main.cpp ${CMAKE_BINARY_DIR}/generated.cpp)

# ç›®æ ‡åå¤„ç†
add_custom_command(TARGET myapp POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy
        $&lt;TARGET_FILE:myapp&gt;
        ${CMAKE_BINARY_DIR}/dist/
    COMMENT "Copying executable to dist folder"
)
</code></pre>
<p><strong>add_custom_target</strong></p>
<pre><code class="language-cmake"># åˆ›å»ºè‡ªå®šä¹‰ç›®æ ‡
add_custom_target(docs
    COMMAND doxygen ${CMAKE_SOURCE_DIR}/Doxyfile
    WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
    COMMENT "Generating documentation"
)

# å¸¦ä¾èµ–çš„è‡ªå®šä¹‰ç›®æ ‡
add_custom_target(package
    DEPENDS myapp mylib
    COMMAND ${CMAKE_COMMAND} -E tar czf myapp.tar.gz $&lt;TARGET_FILE:myapp&gt;
    COMMENT "Creating package"
)
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šä»£ç ç”Ÿæˆ</strong></p>
<pre><code class="language-cmake"># ä½¿ç”¨Pythonç”ŸæˆC++ä»£ç 
find_package(Python3 REQUIRED)

add_custom_command(
    OUTPUT
        ${CMAKE_BINARY_DIR}/gen/config.cpp
        ${CMAKE_BINARY_DIR}/gen/config.h
    COMMAND ${Python3_EXECUTABLE}
        ${CMAKE_SOURCE_DIR}/tools/generate_config.py
        --input ${CMAKE_SOURCE_DIR}/config.json
        --output ${CMAKE_BINARY_DIR}/gen
    DEPENDS
        ${CMAKE_SOURCE_DIR}/tools/generate_config.py
        ${CMAKE_SOURCE_DIR}/config.json
    COMMENT "Generating configuration code"
)

add_executable(myapp
    src/main.cpp
    ${CMAKE_BINARY_DIR}/gen/config.cpp
)

target_include_directories(myapp PRIVATE
    ${CMAKE_BINARY_DIR}/gen
)
</code></pre>
<h3 id="73-é…ç½®æ–‡ä»¶ç”Ÿæˆ"><a class="header" href="#73-é…ç½®æ–‡ä»¶ç”Ÿæˆ">7.3 é…ç½®æ–‡ä»¶ç”Ÿæˆ</a></h3>
<p><strong>configure_file</strong></p>
<pre><code class="language-cmake"># é…ç½®ç‰ˆæœ¬å¤´æ–‡ä»¶
configure_file(
    ${CMAKE_SOURCE_DIR}/version.h.in
    ${CMAKE_BINARY_DIR}/version.h
    @ONLY  # ä»…æ›¿æ¢@VAR@ï¼Œä¸æ›¿æ¢${VAR}
)

# version.h.in
/*
 * Auto-generated version file
 */
#ifndef VERSION_H
#define VERSION_H

#define PROJECT_NAME "@PROJECT_NAME@"
#define PROJECT_VERSION "@PROJECT_VERSION@"
#define PROJECT_VERSION_MAJOR @PROJECT_VERSION_MAJOR@
#define PROJECT_VERSION_MINOR @PROJECT_VERSION_MINOR@
#define PROJECT_VERSION_PATCH @PROJECT_VERSION_PATCH@

#cmakedefine ENABLE_FEATURE_X
#cmakedefine01 HAVE_SOME_LIBRARY

#endif // VERSION_H
</code></pre>
<hr />
<h2 id="ç¬¬å…«ç« æµ‹è¯•ä¸è°ƒè¯•"><a class="header" href="#ç¬¬å…«ç« æµ‹è¯•ä¸è°ƒè¯•">ç¬¬å…«ç« ï¼šæµ‹è¯•ä¸è°ƒè¯•</a></h2>
<h3 id="81-å•å…ƒæµ‹è¯•"><a class="header" href="#81-å•å…ƒæµ‹è¯•">8.1 å•å…ƒæµ‹è¯•</a></h3>
<p><strong>å¯ç”¨æµ‹è¯•</strong></p>
<pre><code class="language-cmake">enable_testing()

# æ·»åŠ æµ‹è¯•
add_test(NAME test1 COMMAND mytest)

# å¸¦å‚æ•°çš„æµ‹è¯•
add_test(NAME test2 COMMAND mytest --verbose)

# è®¾ç½®æµ‹è¯•å±æ€§
set_tests_properties(test1 PROPERTIES
    TIMEOUT 30
    PASS_REGULAR_EXPRESSION "All tests passed"
)
</code></pre>
<p><strong>GoogleTesté›†æˆ</strong></p>
<pre><code class="language-cmake">include(FetchContent)
FetchContent_Declare(
    googletest
    GIT_REPOSITORY https://github.com/google/googletest.git
    GIT_TAG release-1.12.1
)
FetchContent_MakeAvailable(googletest)

enable_testing()

# æµ‹è¯•å¯æ‰§è¡Œæ–‡ä»¶
add_executable(unit_tests
    tests/test_main.cpp
    tests/test_math.cpp
)

target_link_libraries(unit_tests PRIVATE
    mylib
    gtest
    gtest_main
)

# ä½¿ç”¨gtest_discover_testsè‡ªåŠ¨å‘ç°æµ‹è¯•
include(GoogleTest)
gtest_discover_tests(unit_tests)
</code></pre>
<p><strong>è¿è¡Œæµ‹è¯•</strong></p>
<pre><code class="language-bash"># æ„å»ºé¡¹ç›®
cmake --build build

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
ctest --test-dir build

# è¯¦ç»†è¾“å‡º
ctest --test-dir build --verbose

# è¿è¡Œç‰¹å®šæµ‹è¯•
ctest --test-dir build -R test_name

# å¹¶è¡Œè¿è¡Œ
ctest --test-dir build -j4
</code></pre>
<h3 id="82-è°ƒè¯•æŠ€å·§"><a class="header" href="#82-è°ƒè¯•æŠ€å·§">8.2 è°ƒè¯•æŠ€å·§</a></h3>
<p><strong>messageè¾“å‡º</strong></p>
<pre><code class="language-cmake"># ä¸åŒçº§åˆ«çš„æ¶ˆæ¯
message(STATUS "This is a status message")
message(WARNING "This is a warning")
message(FATAL_ERROR "This is a fatal error")

# è°ƒè¯•å˜é‡
message("CMAKE_SOURCE_DIR: ${CMAKE_SOURCE_DIR}")
message("CMAKE_BINARY_DIR: ${CMAKE_BINARY_DIR}")

# æ‰“å°æ‰€æœ‰å˜é‡
get_cmake_property(_variableNames VARIABLES)
foreach(_variableName ${_variableNames})
    message("${_variableName}=${${_variableName}}")
endforeach()
</code></pre>
<p><strong>è¯¦ç»†è¾“å‡º</strong></p>
<pre><code class="language-bash"># è¯¦ç»†çš„Makefileè¾“å‡º
cmake --build build --verbose

# æˆ–åœ¨ç”Ÿæˆæ—¶è®¾ç½®
cmake -DCMAKE_VERBOSE_MAKEFILE=ON ..

# æ˜¾ç¤ºåŒ…å«æ–‡ä»¶
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -H")
</code></pre>
<hr />
<h2 id="ç¬¬ä¹ç« å®‰è£…ä¸æ‰“åŒ…"><a class="header" href="#ç¬¬ä¹ç« å®‰è£…ä¸æ‰“åŒ…">ç¬¬ä¹ç« ï¼šå®‰è£…ä¸æ‰“åŒ…</a></h2>
<h3 id="91-å®‰è£…è§„åˆ™"><a class="header" href="#91-å®‰è£…è§„åˆ™">9.1 å®‰è£…è§„åˆ™</a></h3>
<pre><code class="language-cmake"># å®‰è£…å¯æ‰§è¡Œæ–‡ä»¶
install(TARGETS myapp
    RUNTIME DESTINATION bin
)

# å®‰è£…åº“
install(TARGETS mylib
    ARCHIVE DESTINATION lib
    LIBRARY DESTINATION lib
    RUNTIME DESTINATION bin
)

# å®‰è£…å¤´æ–‡ä»¶
install(DIRECTORY include/
    DESTINATION include
    FILES_MATCHING PATTERN "*.h"
)

# å®‰è£…ç‰¹å®šæ–‡ä»¶
install(FILES
    README.md
    LICENSE
    DESTINATION share/doc/myproject
)

# æ‰§è¡Œå®‰è£…
# cmake --install build --prefix /usr/local
</code></pre>
<p><strong>å®Œæ•´å®‰è£…ç¤ºä¾‹</strong></p>
<pre><code class="language-cmake"># åˆ›å»ºåº“å’Œå¯æ‰§è¡Œæ–‡ä»¶
add_library(mylib src/lib.cpp)
add_executable(myapp src/main.cpp)
target_link_libraries(myapp PRIVATE mylib)

# å®‰è£…ç›®æ ‡
install(TARGETS mylib myapp
    EXPORT MyProjectTargets
    ARCHIVE DESTINATION lib
    LIBRARY DESTINATION lib
    RUNTIME DESTINATION bin
    INCLUDES DESTINATION include
)

# å®‰è£…å¤´æ–‡ä»¶
install(DIRECTORY include/
    DESTINATION include
)

# å¯¼å‡ºç›®æ ‡
install(EXPORT MyProjectTargets
    FILE MyProjectTargets.cmake
    NAMESPACE MyProject::
    DESTINATION lib/cmake/MyProject
)
</code></pre>
<h3 id="92-cpackæ‰“åŒ…"><a class="header" href="#92-cpackæ‰“åŒ…">9.2 CPackæ‰“åŒ…</a></h3>
<pre><code class="language-cmake"># è®¾ç½®åŒ…ä¿¡æ¯
set(CPACK_PACKAGE_NAME "MyProject")
set(CPACK_PACKAGE_VERSION "${PROJECT_VERSION}")
set(CPACK_PACKAGE_VENDOR "My Company")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "My awesome project")

# ç”Ÿæˆå™¨é€‰æ‹©
if(WIN32)
    set(CPACK_GENERATOR "NSIS;ZIP")
elseif(APPLE)
    set(CPACK_GENERATOR "DragNDrop;TGZ")
else()
    set(CPACK_GENERATOR "DEB;RPM;TGZ")
endif()

# DebianåŒ…é…ç½®
set(CPACK_DEBIAN_PACKAGE_MAINTAINER "Your Name")
set(CPACK_DEBIAN_PACKAGE_DEPENDS "libstdc++6")

# RPMåŒ…é…ç½®
set(CPACK_RPM_PACKAGE_LICENSE "MIT")
set(CPACK_RPM_PACKAGE_GROUP "Development/Tools")

# åŒ…å«CPack
include(CPack)
</code></pre>
<p><strong>ç”Ÿæˆå®‰è£…åŒ…</strong></p>
<pre><code class="language-bash"># é…ç½®å’Œæ„å»º
cmake -S . -B build
cmake --build build

# ç”ŸæˆåŒ…
cd build
cpack

# æŒ‡å®šç”Ÿæˆå™¨
cpack -G DEB
cpack -G NSIS
</code></pre>
<hr />
<h2 id="ç¬¬åç« æœ€ä½³å®è·µä¸æ¡ˆä¾‹"><a class="header" href="#ç¬¬åç« æœ€ä½³å®è·µä¸æ¡ˆä¾‹">ç¬¬åç« ï¼šæœ€ä½³å®è·µä¸æ¡ˆä¾‹</a></h2>
<h3 id="101-ç°ä»£cmakeæœ€ä½³å®è·µ"><a class="header" href="#101-ç°ä»£cmakeæœ€ä½³å®è·µ">10.1 ç°ä»£CMakeæœ€ä½³å®è·µ</a></h3>
<pre><code class="language-cmake"># âœ… æ¨èåšæ³•

# 1. ä½¿ç”¨ç›®æ ‡è€Œä¸æ˜¯å˜é‡
target_include_directories(mylib PUBLIC include)
target_link_libraries(myapp PRIVATE mylib)

# 2. ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼
target_compile_options(mylib PRIVATE
    $&lt;$&lt;CONFIG:Debug&gt;:-g&gt;
)

# 3. é¿å…ä½¿ç”¨å…¨å±€å‘½ä»¤
# âŒ ä¸æ¨è
include_directories(include)
link_libraries(somelib)

# âœ… æ¨è
target_include_directories(mylib PUBLIC include)
target_link_libraries(mylib PUBLIC somelib)

# 4. ä½¿ç”¨ç°ä»£å¯¼å…¥ç›®æ ‡
find_package(Boost REQUIRED)
target_link_libraries(myapp PRIVATE Boost::boost)

# 5. é¿å…ä½¿ç”¨GLOBæ”¶é›†æºæ–‡ä»¶
# âŒ ä¸æ¨èï¼ˆæ–°æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨æ£€æµ‹ï¼‰
file(GLOB SOURCES "src/*.cpp")

# âœ… æ¨èï¼ˆæ˜¾å¼åˆ—å‡ºï¼‰
set(SOURCES
    src/file1.cpp
    src/file2.cpp
)
</code></pre>
<h3 id="102-å®Œæ•´é¡¹ç›®ç¤ºä¾‹"><a class="header" href="#102-å®Œæ•´é¡¹ç›®ç¤ºä¾‹">10.2 å®Œæ•´é¡¹ç›®ç¤ºä¾‹</a></h3>
<p><strong>é¡¹ç›®ç»“æ„</strong></p>
<pre><code>MyLibrary/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ cmake/
â”‚   â””â”€â”€ MyLibraryConfig.cmake.in
â”œâ”€â”€ include/
â”‚   â””â”€â”€ mylibrary/
â”‚       â”œâ”€â”€ api.h
â”‚       â””â”€â”€ version.h.in
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ CMakeLists.txt
â”‚   â”œâ”€â”€ api.cpp
â”‚   â””â”€â”€ internal.cpp
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ CMakeLists.txt
â”‚   â””â”€â”€ test_api.cpp
â””â”€â”€ examples/
    â”œâ”€â”€ CMakeLists.txt
    â””â”€â”€ example1.cpp
</code></pre>
<p><strong>æ ¹CMakeLists.txt</strong></p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.15)

project(MyLibrary
    VERSION 1.2.3
    DESCRIPTION "A sample library"
    LANGUAGES CXX
)

# é€‰é¡¹
option(BUILD_SHARED_LIBS "Build shared libraries" ON)
option(BUILD_TESTS "Build tests" ON)
option(BUILD_EXAMPLES "Build examples" ON)

# C++æ ‡å‡†
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# è¾“å‡ºç›®å½•
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)

# åŒ…å«å­ç›®å½•
add_subdirectory(src)

if(BUILD_TESTS)
    enable_testing()
    add_subdirectory(tests)
endif()

if(BUILD_EXAMPLES)
    add_subdirectory(examples)
endif()
</code></pre>
<p><strong>src/CMakeLists.txt</strong></p>
<pre><code class="language-cmake"># é…ç½®ç‰ˆæœ¬æ–‡ä»¶
configure_file(
    ${PROJECT_SOURCE_DIR}/include/mylibrary/version.h.in
    ${PROJECT_BINARY_DIR}/include/mylibrary/version.h
)

# åˆ›å»ºåº“
add_library(mylibrary
    api.cpp
    internal.cpp
)

# æ·»åŠ åˆ«å
add_library(MyLibrary::mylibrary ALIAS mylibrary)

# è®¾ç½®åŒ…å«ç›®å½•
target_include_directories(mylibrary
    PUBLIC
        $&lt;BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/include&gt;
        $&lt;BUILD_INTERFACE:${PROJECT_BINARY_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
    PRIVATE
        ${CMAKE_CURRENT_SOURCE_DIR}
)

# è®¾ç½®ç¼–è¯‘é€‰é¡¹
target_compile_options(mylibrary PRIVATE
    $&lt;$&lt;CXX_COMPILER_ID:MSVC&gt;:/W4&gt;
    $&lt;$&lt;CXX_COMPILER_ID:GNU&gt;:-Wall -Wextra&gt;
)

# å®‰è£…
install(TARGETS mylibrary
    EXPORT MyLibraryTargets
    ARCHIVE DESTINATION lib
    LIBRARY DESTINATION lib
    RUNTIME DESTINATION bin
)

install(DIRECTORY ${PROJECT_SOURCE_DIR}/include/
    DESTINATION include
)

install(FILES ${PROJECT_BINARY_DIR}/include/mylibrary/version.h
    DESTINATION include/mylibrary
)
</code></pre>
<p><strong>å­¦ä¹ éªŒè¯æ ‡å‡†</strong></p>
<p>å®Œæˆæœ¬è¯¾ç¨‹åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š</p>
<ol>
<li>âœ… åˆ›å»ºè·¨å¹³å°çš„CMakeé¡¹ç›®</li>
<li>âœ… ç®¡ç†å¤šç›®æ ‡æ„å»ºï¼ˆåº“å’Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰</li>
<li>âœ… æ­£ç¡®ä½¿ç”¨PUBLIC/PRIVATE/INTERFACE</li>
<li>âœ… é›†æˆç¬¬ä¸‰æ–¹åº“ï¼ˆfind_package, FetchContentï¼‰</li>
<li>âœ… ç¼–å†™å¯å®‰è£…çš„åº“é¡¹ç›®</li>
<li>âœ… é…ç½®æµ‹è¯•å’Œæ‰“åŒ…</li>
</ol>
<hr />
<h2 id="æ€»ç»“"><a class="header" href="#æ€»ç»“">æ€»ç»“</a></h2>
<p>CMakeæ˜¯ç°ä»£C/C++é¡¹ç›®çš„æ ‡å‡†æ„å»ºå·¥å…·ã€‚é€šè¿‡æœ¬æ•™ç¨‹çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†ï¼š</p>
<ul>
<li>âœ… CMakeåŸºç¡€è¯­æ³•å’Œé¡¹ç›®é…ç½®</li>
<li>âœ… ç›®æ ‡ç®¡ç†å’Œå±æ€§è®¾ç½®</li>
<li>âœ… ä¾èµ–ç®¡ç†å’ŒåŒ…é›†æˆ</li>
<li>âœ… è·¨å¹³å°æ„å»ºæŠ€å·§</li>
<li>âœ… æµ‹è¯•ã€å®‰è£…å’Œæ‰“åŒ…</li>
</ul>
<p><strong>ä¸‹ä¸€æ­¥å»ºè®®</strong>ï¼š</p>
<ul>
<li>å­¦ä¹ vcpkgæˆ–conanç­‰åŒ…ç®¡ç†å™¨</li>
<li>æ·±å…¥äº†è§£CMakeé¢„è®¾ï¼ˆCMakePresets.jsonï¼‰</li>
<li>ç ”ç©¶å¤§å‹å¼€æºé¡¹ç›®çš„CMakeé…ç½®</li>
</ul>
<p><strong>ç¥ä½ å­¦ä¹ é¡ºåˆ©ï¼</strong> ğŸš€</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ç¼–ç¨‹/script/batch.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ç¼–ç¨‹/script/gradle.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ç¼–ç¨‹/script/batch.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ç¼–ç¨‹/script/gradle.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../theme/segmentit.umd.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../theme/searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>



    </div>
    </body>
</html>

