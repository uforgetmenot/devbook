<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>BabylonJS å­¦ä¹ ç¬”è®° - å¼€å‘</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">
        <link rel="stylesheet" href="../../theme/help-overlay.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">å¼€å‘</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="æœç´¢æœ¬ä¹¦å†…å®¹..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="babylonjs-å­¦ä¹ ç¬”è®°"><a class="header" href="#babylonjs-å­¦ä¹ ç¬”è®°">BabylonJS å­¦ä¹ ç¬”è®°</a></h1>
<h2 id="å­¦ä¹ è€…è§’è‰²å®šä½"><a class="header" href="#å­¦ä¹ è€…è§’è‰²å®šä½">å­¦ä¹ è€…è§’è‰²å®šä½</a></h2>
<p><strong>ç›®æ ‡ç¾¤ä½“</strong>: Webå‰ç«¯å¼€å‘è€…ã€3Då¯è§†åŒ–å·¥ç¨‹å¸ˆã€æ¸¸æˆå¼€å‘åˆå­¦è€…ï¼ˆ0-3å¹´ç»éªŒï¼‰</p>
<p><strong>æŠ€èƒ½å‰ç½®è¦æ±‚</strong>:</p>
<ul>
<li>ç†Ÿæ‚‰JavaScript/TypeScriptåŸºç¡€è¯­æ³•</li>
<li>äº†è§£HTML5å’ŒCanvasåŸºç¡€</li>
<li>å…·å¤‡åŸºæœ¬çš„3Då›¾å½¢å­¦æ¦‚å¿µï¼ˆå¯é€‰ï¼‰</li>
</ul>
<p><strong>å­¦ä¹ ç›®æ ‡</strong>:</p>
<ul>
<li>æŒæ¡BabylonJSæ ¸å¿ƒAPIå’Œå¼€å‘æµç¨‹</li>
<li>èƒ½å¤Ÿç‹¬ç«‹å¼€å‘äº¤äº’å¼3D Webåº”ç”¨</li>
<li>ç†è§£3Dæ¸²æŸ“ä¼˜åŒ–å’Œæ€§èƒ½è°ƒä¼˜æŠ€å·§</li>
<li>å…·å¤‡ä»åŸå‹åˆ°ç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²èƒ½åŠ›</li>
</ul>
<hr />
<h2 id="ä¸€æŠ€æœ¯æ¦‚è¿°"><a class="header" href="#ä¸€æŠ€æœ¯æ¦‚è¿°">ä¸€ã€æŠ€æœ¯æ¦‚è¿°</a></h2>
<h3 id="11-ä»€ä¹ˆæ˜¯babylonjs"><a class="header" href="#11-ä»€ä¹ˆæ˜¯babylonjs">1.1 ä»€ä¹ˆæ˜¯BabylonJS</a></h3>
<p>BabylonJSæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„JavaScript 3Då¼•æ“ï¼ŒåŸºäºWebGLæŠ€æœ¯ï¼Œç”¨äºåœ¨æµè§ˆå™¨ä¸­åˆ›å»ºé«˜æ€§èƒ½çš„3Dåœºæ™¯å’Œæ¸¸æˆã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§</strong>:</p>
<ul>
<li>ğŸš€ å®Œæ•´çš„WebGLå°è£…ï¼Œæä¾›é«˜çº§API</li>
<li>ğŸ® å†…ç½®ç‰©ç†å¼•æ“é›†æˆï¼ˆCannon.js/Ammo.jsï¼‰</li>
<li>ğŸ¨ PBRæè´¨ç³»ç»Ÿï¼Œæ”¯æŒçœŸå®æ„Ÿæ¸²æŸ“</li>
<li>ğŸ”§ ä¸°å¯Œçš„å·¥å…·é“¾ï¼ˆInspectorã€Playgroundã€Node Material Editorï¼‰</li>
<li>ğŸ“± æ”¯æŒWebXRï¼ˆVR/ARï¼‰å¼€å‘</li>
<li>âš¡ ä¼˜ç§€çš„æ€§èƒ½å’Œè·¨å¹³å°å…¼å®¹æ€§</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong>:</p>
<ul>
<li>äº§å“3Då±•ç¤ºå’Œåœ¨çº¿é…ç½®å™¨</li>
<li>Webæ¸¸æˆå¼€å‘</li>
<li>å»ºç­‘å’Œå·¥ç¨‹å¯è§†åŒ–</li>
<li>åŒ»ç–—å’Œæ•™è‚²æ¨¡æ‹Ÿ</li>
<li>è™šæ‹Ÿå±•å…å’Œæ•°å­—å­ªç”Ÿ</li>
</ul>
<p><strong>ä¸Three.jså¯¹æ¯”</strong>:</p>
<div class="table-wrapper"><table><thead><tr><th>ç‰¹æ€§</th><th>BabylonJS</th><th>Three.js</th></tr></thead><tbody>
<tr><td>å­¦ä¹ æ›²çº¿</td><td>ç¨é™¡å³­ï¼Œä½†æ–‡æ¡£å®Œå–„</td><td>è¾ƒå¹³ç¼“</td></tr>
<tr><td>åŠŸèƒ½å®Œæ•´åº¦</td><td>å¼€ç®±å³ç”¨ï¼ŒåŠŸèƒ½å…¨é¢</td><td>éœ€è¦é¢å¤–æ’ä»¶</td></tr>
<tr><td>ç‰©ç†å¼•æ“</td><td>å†…ç½®é›†æˆ</td><td>éœ€è‡ªè¡Œé›†æˆ</td></tr>
<tr><td>XRæ”¯æŒ</td><td>åŸç”Ÿæ”¯æŒWebXR</td><td>éœ€é¢å¤–é…ç½®</td></tr>
<tr><td>ç¤¾åŒºç”Ÿæ€</td><td>ä¸­ç­‰è§„æ¨¡ï¼Œè´¨é‡é«˜</td><td>åºå¤§ä¸”æ´»è·ƒ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="äºŒç¯å¢ƒæ­å»ºä¸å¿«é€Ÿå…¥é—¨"><a class="header" href="#äºŒç¯å¢ƒæ­å»ºä¸å¿«é€Ÿå…¥é—¨">äºŒã€ç¯å¢ƒæ­å»ºä¸å¿«é€Ÿå…¥é—¨</a></h2>
<h3 id="21-å®‰è£…æ–¹å¼"><a class="header" href="#21-å®‰è£…æ–¹å¼">2.1 å®‰è£…æ–¹å¼</a></h3>
<h4 id="æ–¹å¼ä¸€cdnå¼•å…¥å¿«é€ŸåŸå‹"><a class="header" href="#æ–¹å¼ä¸€cdnå¼•å…¥å¿«é€ŸåŸå‹">æ–¹å¼ä¸€ï¼šCDNå¼•å…¥ï¼ˆå¿«é€ŸåŸå‹ï¼‰</a></h4>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;BabylonJS å¿«é€Ÿå…¥é—¨&lt;/title&gt;
    &lt;style&gt;
        html, body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #renderCanvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;canvas id="renderCanvas"&gt;&lt;/canvas&gt;
    &lt;script src="https://cdn.babylonjs.com/babylon.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"&gt;&lt;/script&gt;
    &lt;script src="app.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="æ–¹å¼äºŒnpmå®‰è£…æ¨èç”Ÿäº§ç¯å¢ƒ"><a class="header" href="#æ–¹å¼äºŒnpmå®‰è£…æ¨èç”Ÿäº§ç¯å¢ƒ">æ–¹å¼äºŒï¼šNPMå®‰è£…ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰</a></h4>
<pre><code class="language-bash"># åˆ›å»ºé¡¹ç›®
npm init -y

# å®‰è£…BabylonJSæ ¸å¿ƒåº“
npm install @babylonjs/core

# å®‰è£…åŠ è½½å™¨ï¼ˆå¯é€‰ï¼‰
npm install @babylonjs/loaders

# å®‰è£…æè´¨åº“ï¼ˆå¯é€‰ï¼‰
npm install @babylonjs/materials

# å®‰è£…å¼€å‘å·¥å…·
npm install --save-dev webpack webpack-cli webpack-dev-server
npm install --save-dev typescript ts-loader
</code></pre>
<p><strong>TypeScripté…ç½®</strong>ï¼ˆtsconfig.jsonï¼‰:</p>
<pre><code class="language-json">{
  "compilerOptions": {
    "target": "ES6",
    "module": "ESNext",
    "moduleResolution": "node",
    "lib": ["ES6", "DOM"],
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"]
}
</code></pre>
<h3 id="22-ç¬¬ä¸€ä¸ªbabylonjsåœºæ™¯"><a class="header" href="#22-ç¬¬ä¸€ä¸ªbabylonjsåœºæ™¯">2.2 ç¬¬ä¸€ä¸ªBabylonJSåœºæ™¯</a></h3>
<p><strong>åŸºç¡€åœºæ™¯ä»£ç </strong>ï¼ˆapp.jsï¼‰:</p>
<pre><code class="language-javascript">// è·å–ç”»å¸ƒå…ƒç´ 
const canvas = document.getElementById("renderCanvas");

// åˆ›å»ºå¼•æ“
const engine = new BABYLON.Engine(canvas, true);

// åˆ›å»ºåœºæ™¯
const createScene = () =&gt; {
    // åˆ›å»ºåœºæ™¯å¯¹è±¡
    const scene = new BABYLON.Scene(engine);

    // åˆ›å»ºç›¸æœºï¼ˆç¯ç»•ç›¸æœºï¼‰
    const camera = new BABYLON.ArcRotateCamera(
        "camera",
        -Math.PI / 2,  // æ°´å¹³è§’åº¦
        Math.PI / 2.5, // å‚ç›´è§’åº¦
        10,            // è·ç¦»
        new BABYLON.Vector3(0, 0, 0), // ç›®æ ‡ç‚¹
        scene
    );
    camera.attachControl(canvas, true); // ç»‘å®šé¼ æ ‡æ§åˆ¶

    // åˆ›å»ºå…‰æºï¼ˆåŠçƒå…‰ï¼‰
    const light = new BABYLON.HemisphericLight(
        "light",
        new BABYLON.Vector3(0, 1, 0),
        scene
    );
    light.intensity = 0.7;

    // åˆ›å»ºä¸€ä¸ªçƒä½“
    const sphere = BABYLON.MeshBuilder.CreateSphere(
        "sphere",
        { diameter: 2, segments: 32 },
        scene
    );
    sphere.position.y = 1;

    // åˆ›å»ºåœ°é¢
    const ground = BABYLON.MeshBuilder.CreateGround(
        "ground",
        { width: 10, height: 10 },
        scene
    );

    return scene;
};

// åˆ›å»ºåœºæ™¯
const scene = createScene();

// æ¸²æŸ“å¾ªç¯
engine.runRenderLoop(() =&gt; {
    scene.render();
});

// çª—å£å¤§å°æ”¹å˜æ—¶è°ƒæ•´ç”»å¸ƒ
window.addEventListener("resize", () =&gt; {
    engine.resize();
});
</code></pre>
<p><strong>è¿è¡Œæ•ˆæœ</strong>: æµè§ˆå™¨æ˜¾ç¤ºä¸€ä¸ªå¯ä»¥é¼ æ ‡æ‹–åŠ¨æ—‹è½¬çš„3Dåœºæ™¯ï¼ŒåŒ…å«ä¸€ä¸ªçƒä½“å’Œåœ°é¢ã€‚</p>
<hr />
<h2 id="ä¸‰æ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„"><a class="header" href="#ä¸‰æ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„">ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„</a></h2>
<h3 id="31-babylonjsæ¶æ„ä½“ç³»"><a class="header" href="#31-babylonjsæ¶æ„ä½“ç³»">3.1 BabylonJSæ¶æ„ä½“ç³»</a></h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          åº”ç”¨å±‚ (Application)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Scene (åœºæ™¯ç®¡ç†)  â”‚  Engine (æ¸²æŸ“å¼•æ“) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Mesh       â”‚  Material    â”‚  Camera   â”‚
â”‚  (ç½‘æ ¼å¯¹è±¡)   â”‚  (æè´¨ç³»ç»Ÿ)   â”‚  (ç›¸æœº)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Light      â”‚  Texture     â”‚  Animationâ”‚
â”‚  (å…‰ç…§)       â”‚  (çº¹ç†)       â”‚  (åŠ¨ç”»)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           WebGL API Layer               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="32-äº”å¤§æ ¸å¿ƒç»„ä»¶"><a class="header" href="#32-äº”å¤§æ ¸å¿ƒç»„ä»¶">3.2 äº”å¤§æ ¸å¿ƒç»„ä»¶</a></h3>
<h4 id="1-engineå¼•æ“"><a class="header" href="#1-engineå¼•æ“">1. Engineï¼ˆå¼•æ“ï¼‰</a></h4>
<ul>
<li><strong>èŒè´£</strong>: ç®¡ç†WebGLä¸Šä¸‹æ–‡ï¼Œæ§åˆ¶æ¸²æŸ“å¾ªç¯</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>: åˆ›å»º â†’ æ¸²æŸ“å¾ªç¯ â†’ é”€æ¯</li>
</ul>
<pre><code class="language-javascript">// åˆ›å»ºå¼•æ“ï¼ˆé«˜çº§é…ç½®ï¼‰
const engine = new BABYLON.Engine(canvas, true, {
    preserveDrawingBuffer: true,  // æˆªå›¾åŠŸèƒ½
    stencil: true,                // å¯ç”¨æ¨¡æ¿ç¼“å†²
    antialias: true,              // æŠ—é”¯é½¿
    powerPreference: "high-performance" // æ€§èƒ½ä¼˜å…ˆ
});

// è‡ªé€‚åº”åƒç´ æ¯”ï¼ˆé«˜æ¸…å±å¹•ï¼‰
engine.setHardwareScalingLevel(1 / window.devicePixelRatio);
</code></pre>
<h4 id="2-sceneåœºæ™¯"><a class="header" href="#2-sceneåœºæ™¯">2. Sceneï¼ˆåœºæ™¯ï¼‰</a></h4>
<ul>
<li><strong>èŒè´£</strong>: å®¹å™¨å¯¹è±¡ï¼Œç®¡ç†æ‰€æœ‰3Då¯¹è±¡ã€å…‰æºã€ç›¸æœº</li>
<li><strong>æ ¸å¿ƒæ–¹æ³•</strong>:</li>
</ul>
<pre><code class="language-javascript">const scene = new BABYLON.Scene(engine);

// åœºæ™¯é…ç½®
scene.clearColor = new BABYLON.Color3(0.5, 0.8, 0.9); // å¤©ç©ºè“èƒŒæ™¯
scene.ambientColor = new BABYLON.Color3(0.3, 0.3, 0.3); // ç¯å¢ƒå…‰é¢œè‰²
scene.fogMode = BABYLON.Scene.FOGMODE_EXP2; // æŒ‡æ•°é›¾æ•ˆ
scene.fogDensity = 0.01;

// åœºæ™¯äº‹ä»¶ç›‘å¬
scene.onBeforeRenderObservable.add(() =&gt; {
    // æ¯å¸§æ¸²æŸ“å‰æ‰§è¡Œ
});

scene.onPointerObservable.add((pointerInfo) =&gt; {
    // é¼ æ ‡äº‹ä»¶å¤„ç†
    if (pointerInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {
        console.log("ç‚¹å‡»ä½ç½®:", pointerInfo.pickInfo.pickedPoint);
    }
});
</code></pre>
<h4 id="3-cameraç›¸æœº"><a class="header" href="#3-cameraç›¸æœº">3. Cameraï¼ˆç›¸æœºï¼‰</a></h4>
<ul>
<li><strong>å¸¸ç”¨ç±»å‹</strong>:</li>
</ul>
<pre><code class="language-javascript">// 1. ArcRotateCameraï¼ˆç¯ç»•ç›¸æœºï¼‰- æœ€å¸¸ç”¨
const arcCamera = new BABYLON.ArcRotateCamera(
    "arcCamera",
    Math.PI / 2,        // Alphaè§’åº¦ï¼ˆæ°´å¹³ï¼‰
    Math.PI / 4,        // Betaè§’åº¦ï¼ˆå‚ç›´ï¼‰
    10,                 // Radiusï¼ˆè·ç¦»ï¼‰
    BABYLON.Vector3.Zero(), // ç›®æ ‡ç‚¹
    scene
);
arcCamera.lowerRadiusLimit = 5;   // æœ€å°è·ç¦»
arcCamera.upperRadiusLimit = 50;  // æœ€å¤§è·ç¦»
arcCamera.wheelPrecision = 50;    // æ»šè½®çµæ•åº¦

// 2. UniversalCameraï¼ˆé€šç”¨ç›¸æœºï¼‰- ç¬¬ä¸€äººç§°
const fpsCamera = new BABYLON.UniversalCamera(
    "fpsCamera",
    new BABYLON.Vector3(0, 5, -10),
    scene
);
fpsCamera.setTarget(BABYLON.Vector3.Zero());
fpsCamera.keysUp = [87];    // Wé”®
fpsCamera.keysDown = [83];  // Sé”®
fpsCamera.keysLeft = [65];  // Aé”®
fpsCamera.keysRight = [68]; // Dé”®
</code></pre>
<h4 id="4-lightå…‰æº"><a class="header" href="#4-lightå…‰æº">4. Lightï¼ˆå…‰æºï¼‰</a></h4>
<ul>
<li><strong>å››ç§å…‰æºç±»å‹</strong>:</li>
</ul>
<pre><code class="language-javascript">// 1. HemisphericLightï¼ˆåŠçƒå…‰ï¼‰- æ¨¡æ‹Ÿå¤©ç©ºå…‰
const hemiLight = new BABYLON.HemisphericLight(
    "hemiLight",
    new BABYLON.Vector3(0, 1, 0), // å…‰æºæ–¹å‘
    scene
);
hemiLight.intensity = 0.7;
hemiLight.diffuse = new BABYLON.Color3(1, 1, 1);
hemiLight.groundColor = new BABYLON.Color3(0.3, 0.3, 0.3);

// 2. DirectionalLightï¼ˆæ–¹å‘å…‰ï¼‰- æ¨¡æ‹Ÿå¤ªé˜³å…‰
const dirLight = new BABYLON.DirectionalLight(
    "dirLight",
    new BABYLON.Vector3(-1, -2, -1),
    scene
);
dirLight.position = new BABYLON.Vector3(20, 40, 20);
dirLight.intensity = 1.0;

// 3. PointLightï¼ˆç‚¹å…‰æºï¼‰- æ¨¡æ‹Ÿç¯æ³¡
const pointLight = new BABYLON.PointLight(
    "pointLight",
    new BABYLON.Vector3(0, 10, 0),
    scene
);
pointLight.diffuse = new BABYLON.Color3(1, 0, 0); // çº¢è‰²å…‰
pointLight.range = 20; // å½±å“èŒƒå›´

// 4. SpotLightï¼ˆèšå…‰ç¯ï¼‰- æ¨¡æ‹Ÿæ‰‹ç”µç­’
const spotLight = new BABYLON.SpotLight(
    "spotLight",
    new BABYLON.Vector3(0, 10, 0),  // ä½ç½®
    new BABYLON.Vector3(0, -1, 0),  // æ–¹å‘
    Math.PI / 3,                     // è§’åº¦
    2,                               // æŒ‡æ•°ï¼ˆè¾¹ç¼˜è¡°å‡ï¼‰
    scene
);
</code></pre>
<h4 id="5-meshç½‘æ ¼"><a class="header" href="#5-meshç½‘æ ¼">5. Meshï¼ˆç½‘æ ¼ï¼‰</a></h4>
<ul>
<li><strong>åˆ›å»ºæ–¹å¼</strong>:</li>
</ul>
<pre><code class="language-javascript">// æ–¹å¼1ï¼šå†…ç½®å‡ ä½•ä½“
const box = BABYLON.MeshBuilder.CreateBox("box", {
    size: 2,
    updatable: true // å…è®¸åç»­ä¿®æ”¹
}, scene);

// æ–¹å¼2ï¼šä»æ–‡ä»¶åŠ è½½
BABYLON.SceneLoader.ImportMesh(
    "",                           // å¯¼å…¥æ‰€æœ‰ç½‘æ ¼
    "./models/",                  // æ¨¡å‹è·¯å¾„
    "myModel.glb",                // æ–‡ä»¶å
    scene,
    (meshes) =&gt; {
        console.log("æ¨¡å‹åŠ è½½å®Œæˆ", meshes);
    }
);

// æ–¹å¼3ï¼šè‡ªå®šä¹‰å‡ ä½•ä½“
const customMesh = new BABYLON.Mesh("custom", scene);
const positions = [/* é¡¶ç‚¹åæ ‡ */];
const indices = [/* é¢ç´¢å¼• */];
const normals = [];
BABYLON.VertexData.ComputeNormals(positions, indices, normals);

const vertexData = new BABYLON.VertexData();
vertexData.positions = positions;
vertexData.indices = indices;
vertexData.normals = normals;
vertexData.applyToMesh(customMesh);
</code></pre>
<hr />
<h2 id="å››æè´¨ä¸çº¹ç†ç³»ç»Ÿ"><a class="header" href="#å››æè´¨ä¸çº¹ç†ç³»ç»Ÿ">å››ã€æè´¨ä¸çº¹ç†ç³»ç»Ÿ</a></h2>
<h3 id="41-æ ‡å‡†æè´¨standardmaterial"><a class="header" href="#41-æ ‡å‡†æè´¨standardmaterial">4.1 æ ‡å‡†æè´¨ï¼ˆStandardMaterialï¼‰</a></h3>
<pre><code class="language-javascript">const mat = new BABYLON.StandardMaterial("mat", scene);

// åŸºç¡€å±æ€§
mat.diffuseColor = new BABYLON.Color3(0, 0.5, 1);  // æ¼«åå°„é¢œè‰²
mat.specularColor = new BABYLON.Color3(1, 1, 1);   // é«˜å…‰é¢œè‰²
mat.emissiveColor = new BABYLON.Color3(0, 0, 0);   // è‡ªå‘å…‰é¢œè‰²
mat.ambientColor = new BABYLON.Color3(0.2, 0.2, 0.2); // ç¯å¢ƒå…‰é¢œè‰²

// ç‰©ç†å±æ€§
mat.alpha = 0.8;           // é€æ˜åº¦
mat.backFaceCulling = true; // èƒŒé¢å‰”é™¤
mat.wireframe = false;      // çº¿æ¡†æ¨¡å¼

// åº”ç”¨åˆ°ç½‘æ ¼
mesh.material = mat;
</code></pre>
<h3 id="42-pbræè´¨åŸºäºç‰©ç†çš„æ¸²æŸ“"><a class="header" href="#42-pbræè´¨åŸºäºç‰©ç†çš„æ¸²æŸ“">4.2 PBRæè´¨ï¼ˆåŸºäºç‰©ç†çš„æ¸²æŸ“ï¼‰</a></h3>
<pre><code class="language-javascript">const pbrMat = new BABYLON.PBRMaterial("pbrMat", scene);

// é‡‘å±åº¦/ç²—ç³™åº¦å·¥ä½œæµ
pbrMat.metallic = 0.8;      // é‡‘å±åº¦ï¼ˆ0=ç»ç¼˜ä½“ï¼Œ1=é‡‘å±ï¼‰
pbrMat.roughness = 0.3;     // ç²—ç³™åº¦ï¼ˆ0=å…‰æ»‘ï¼Œ1=ç²—ç³™ï¼‰
pbrMat.albedoColor = new BABYLON.Color3(0.9, 0.1, 0.1); // åŸºç¡€é¢œè‰²

// é«˜çº§å±æ€§
pbrMat.reflectionTexture = new BABYLON.CubeTexture("env.env", scene); // ç¯å¢ƒè´´å›¾
pbrMat.environmentIntensity = 1.0; // ç¯å¢ƒå¼ºåº¦

// ä½¿ç”¨çº¹ç†è´´å›¾
pbrMat.albedoTexture = new BABYLON.Texture("albedo.png", scene);
pbrMat.metallicTexture = new BABYLON.Texture("metallic.png", scene);
pbrMat.bumpTexture = new BABYLON.Texture("normal.png", scene);
</code></pre>
<h3 id="43-çº¹ç†é«˜çº§åº”ç”¨"><a class="header" href="#43-çº¹ç†é«˜çº§åº”ç”¨">4.3 çº¹ç†é«˜çº§åº”ç”¨</a></h3>
<pre><code class="language-javascript">// åˆ›å»ºçº¹ç†
const texture = new BABYLON.Texture("texture.jpg", scene);

// çº¹ç†é‡å¤
texture.uScale = 2; // æ°´å¹³é‡å¤2æ¬¡
texture.vScale = 2; // å‚ç›´é‡å¤2æ¬¡

// çº¹ç†åç§»
texture.uOffset = 0.5;
texture.vOffset = 0.5;

// çº¹ç†æ—‹è½¬
texture.wAng = Math.PI / 4; // æ—‹è½¬45åº¦

// é‡‡æ ·æ¨¡å¼
texture.wrapU = BABYLON.Texture.WRAP_ADDRESSMODE; // é‡å¤æ¨¡å¼
texture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE; // é’³åˆ¶æ¨¡å¼

// è¿‡æ»¤æ–¹å¼
texture.updateSamplingMode(BABYLON.Texture.TRILINEAR_SAMPLINGMODE);
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šæœ¨åœ°æ¿æè´¨</strong></p>
<pre><code class="language-javascript">const createFloorMaterial = (scene) =&gt; {
    const mat = new BABYLON.StandardMaterial("floorMat", scene);

    // æ¼«åå°„è´´å›¾
    mat.diffuseTexture = new BABYLON.Texture("wood_diffuse.jpg", scene);
    mat.diffuseTexture.uScale = 4;
    mat.diffuseTexture.vScale = 4;

    // æ³•çº¿è´´å›¾ï¼ˆå¢å¼ºç»†èŠ‚ï¼‰
    mat.bumpTexture = new BABYLON.Texture("wood_normal.jpg", scene);
    mat.bumpTexture.uScale = 4;
    mat.bumpTexture.vScale = 4;
    mat.bumpTexture.level = 0.5; // æ³•çº¿å¼ºåº¦

    // é«˜å…‰è´´å›¾
    mat.specularTexture = new BABYLON.Texture("wood_specular.jpg", scene);
    mat.specularPower = 64; // é«˜å…‰é”åº¦

    return mat;
};

const ground = BABYLON.MeshBuilder.CreateGround("ground", {width: 20, height: 20}, scene);
ground.material = createFloorMaterial(scene);
</code></pre>
<hr />
<h2 id="äº”åŠ¨ç”»ç³»ç»Ÿ"><a class="header" href="#äº”åŠ¨ç”»ç³»ç»Ÿ">äº”ã€åŠ¨ç”»ç³»ç»Ÿ</a></h2>
<h3 id="51-å…³é”®å¸§åŠ¨ç”»"><a class="header" href="#51-å…³é”®å¸§åŠ¨ç”»">5.1 å…³é”®å¸§åŠ¨ç”»</a></h3>
<pre><code class="language-javascript">// åˆ›å»ºåŠ¨ç”»
const animation = new BABYLON.Animation(
    "myAnimation",
    "position.y",            // åŠ¨ç”»å±æ€§
    30,                      // å¸§ç‡
    BABYLON.Animation.ANIMATIONTYPE_FLOAT, // åŠ¨ç”»ç±»å‹
    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE // å¾ªç¯æ¨¡å¼
);

// å®šä¹‰å…³é”®å¸§
const keys = [
    { frame: 0, value: 0 },
    { frame: 30, value: 5 },
    { frame: 60, value: 0 }
];
animation.setKeys(keys);

// ç¼“åŠ¨å‡½æ•°ï¼ˆè®©åŠ¨ç”»æ›´è‡ªç„¶ï¼‰
const easingFunction = new BABYLON.CubicEase();
easingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);
animation.setEasingFunction(easingFunction);

// åº”ç”¨åŠ¨ç”»
mesh.animations = [];
mesh.animations.push(animation);

// æ’­æ”¾åŠ¨ç”»
scene.beginAnimation(mesh, 0, 60, true); // ä»ç¬¬0å¸§åˆ°ç¬¬60å¸§ï¼Œå¾ªç¯æ’­æ”¾
</code></pre>
<h3 id="52-åŠ¨ç”»ç»„ç®¡ç†"><a class="header" href="#52-åŠ¨ç”»ç»„ç®¡ç†">5.2 åŠ¨ç”»ç»„ç®¡ç†</a></h3>
<pre><code class="language-javascript">// åˆ›å»ºå¤šä¸ªåŠ¨ç”»
const positionAnimation = new BABYLON.Animation(
    "posAnim",
    "position",
    30,
    BABYLON.Animation.ANIMATIONTYPE_VECTOR3,
    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE
);
positionAnimation.setKeys([
    { frame: 0, value: new BABYLON.Vector3(0, 0, 0) },
    { frame: 60, value: new BABYLON.Vector3(0, 5, 0) }
]);

const rotationAnimation = new BABYLON.Animation(
    "rotAnim",
    "rotation.y",
    30,
    BABYLON.Animation.ANIMATIONTYPE_FLOAT,
    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE
);
rotationAnimation.setKeys([
    { frame: 0, value: 0 },
    { frame: 60, value: Math.PI * 2 }
]);

// å°†å¤šä¸ªåŠ¨ç”»æ·»åŠ åˆ°ç½‘æ ¼
mesh.animations.push(positionAnimation);
mesh.animations.push(rotationAnimation);

// æ’­æ”¾æ‰€æœ‰åŠ¨ç”»
const animatable = scene.beginAnimation(mesh, 0, 60, true);

// æ§åˆ¶åŠ¨ç”»
animatable.pause();
animatable.restart();
animatable.stop();
animatable.speedRatio = 2; // åŠ é€Ÿ2å€
</code></pre>
<h3 id="53-éª¨éª¼åŠ¨ç”»"><a class="header" href="#53-éª¨éª¼åŠ¨ç”»">5.3 éª¨éª¼åŠ¨ç”»</a></h3>
<pre><code class="language-javascript">// åŠ è½½å¸¦éª¨éª¼çš„æ¨¡å‹
BABYLON.SceneLoader.ImportMesh("", "./models/", "character.glb", scene, (meshes, particleSystems, skeletons) =&gt; {
    const character = meshes[0];
    const skeleton = skeletons[0];

    // æ’­æ”¾éª¨éª¼åŠ¨ç”»
    scene.beginAnimation(skeleton, 0, 100, true);

    // è·å–åŠ¨ç”»ç»„
    const animationGroups = scene.animationGroups;
    if (animationGroups.length &gt; 0) {
        const walkAnimation = animationGroups.find(ag =&gt; ag.name === "Walk");
        const runAnimation = animationGroups.find(ag =&gt; ag.name === "Run");

        // æ’­æ”¾èµ°è·¯åŠ¨ç”»
        walkAnimation.start(true, 1.0, walkAnimation.from, walkAnimation.to);

        // åˆ‡æ¢åˆ°è·‘æ­¥åŠ¨ç”»ï¼ˆå¸¦è¿‡æ¸¡ï¼‰
        setTimeout(() =&gt; {
            walkAnimation.stop();
            runAnimation.start(true, 1.0, runAnimation.from, runAnimation.to);
        }, 3000);
    }
});
</code></pre>
<hr />
<h2 id="å…­ç‰©ç†å¼•æ“é›†æˆ"><a class="header" href="#å…­ç‰©ç†å¼•æ“é›†æˆ">å…­ã€ç‰©ç†å¼•æ“é›†æˆ</a></h2>
<h3 id="61-å¯ç”¨ç‰©ç†å¼•æ“"><a class="header" href="#61-å¯ç”¨ç‰©ç†å¼•æ“">6.1 å¯ç”¨ç‰©ç†å¼•æ“</a></h3>
<pre><code class="language-javascript">// æ–¹å¼1ï¼šä½¿ç”¨Cannon.jsï¼ˆæ¨èåˆå­¦è€…ï¼‰
scene.enablePhysics(
    new BABYLON.Vector3(0, -9.81, 0), // é‡åŠ›å‘é‡
    new BABYLON.CannonJSPlugin()      // ç‰©ç†æ’ä»¶
);

// æ–¹å¼2ï¼šä½¿ç”¨Ammo.jsï¼ˆåŠŸèƒ½æ›´å¼ºå¤§ï¼‰
// éœ€è¦å…ˆåŠ è½½Ammoåº“
const ammo = await Ammo();
scene.enablePhysics(
    new BABYLON.Vector3(0, -9.81, 0),
    new BABYLON.AmmoJSPlugin(true, ammo)
);
</code></pre>
<h3 id="62-åˆšä½“ç‰©ç†"><a class="header" href="#62-åˆšä½“ç‰©ç†">6.2 åˆšä½“ç‰©ç†</a></h3>
<pre><code class="language-javascript">// åˆ›å»ºåœ°é¢ï¼ˆé™æ€åˆšä½“ï¼‰
const ground = BABYLON.MeshBuilder.CreateGround("ground", {width: 20, height: 20}, scene);
ground.physicsImpostor = new BABYLON.PhysicsImpostor(
    ground,
    BABYLON.PhysicsImpostor.BoxImpostor,
    { mass: 0, restitution: 0.7 }, // mass=0è¡¨ç¤ºé™æ€
    scene
);

// åˆ›å»ºçƒä½“ï¼ˆåŠ¨æ€åˆšä½“ï¼‰
const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", {diameter: 2}, scene);
sphere.position.y = 10;
sphere.physicsImpostor = new BABYLON.PhysicsImpostor(
    sphere,
    BABYLON.PhysicsImpostor.SphereImpostor,
    { mass: 1, restitution: 0.9 }, // å¼¹æ€§ç³»æ•°0.9
    scene
);

// æ–½åŠ åŠ›
sphere.physicsImpostor.applyImpulse(
    new BABYLON.Vector3(10, 0, 0),     // åŠ›çš„æ–¹å‘å’Œå¤§å°
    sphere.getAbsolutePosition()        // æ–½åŠ›ç‚¹
);
</code></pre>
<h3 id="63-ç¢°æ’æ£€æµ‹"><a class="header" href="#63-ç¢°æ’æ£€æµ‹">6.3 ç¢°æ’æ£€æµ‹</a></h3>
<pre><code class="language-javascript">// æ–¹æ³•1ï¼šç‰©ç†å¼•æ“ç¢°æ’äº‹ä»¶
sphere.physicsImpostor.registerOnPhysicsCollide(
    ground.physicsImpostor,
    (main, collided) =&gt; {
        console.log("çƒä½“ç¢°æ’åˆ°åœ°é¢!");
        // æ’­æ”¾éŸ³æ•ˆã€ç‰¹æ•ˆç­‰
    }
);

// æ–¹æ³•2ï¼šå°„çº¿æ£€æµ‹
const ray = new BABYLON.Ray(
    sphere.position,                      // èµ·ç‚¹
    new BABYLON.Vector3(0, -1, 0),       // æ–¹å‘
    10                                    // é•¿åº¦
);

const hit = scene.pickWithRay(ray);
if (hit.hit) {
    console.log("å°„çº¿å‡»ä¸­:", hit.pickedMesh.name);
    console.log("è·ç¦»:", hit.distance);
}
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šç‰©ç†å¼¹çƒæ¸¸æˆ</strong></p>
<pre><code class="language-javascript">const createBallGame = (scene) =&gt; {
    // å¯ç”¨ç‰©ç†
    scene.enablePhysics(new BABYLON.Vector3(0, -9.81, 0), new BABYLON.CannonJSPlugin());

    // åˆ›å»ºå›´æ 
    const createWall = (name, width, height, position) =&gt; {
        const wall = BABYLON.MeshBuilder.CreateBox(name, {width, height, depth: 1}, scene);
        wall.position = position;
        wall.physicsImpostor = new BABYLON.PhysicsImpostor(
            wall, BABYLON.PhysicsImpostor.BoxImpostor, {mass: 0}, scene
        );
        return wall;
    };

    createWall("wallFront", 20, 5, new BABYLON.Vector3(0, 2.5, 10));
    createWall("wallBack", 20, 5, new BABYLON.Vector3(0, 2.5, -10));
    createWall("wallLeft", 20, 5, new BABYLON.Vector3(-10, 2.5, 0));
    createWall("wallRight", 20, 5, new BABYLON.Vector3(10, 2.5, 0));

    // åˆ›å»ºåœ°é¢
    const ground = BABYLON.MeshBuilder.CreateGround("ground", {width: 20, height: 20}, scene);
    ground.physicsImpostor = new BABYLON.PhysicsImpostor(
        ground, BABYLON.PhysicsImpostor.BoxImpostor, {mass: 0, restitution: 0.5}, scene
    );

    // åˆ›å»ºå¤šä¸ªçƒ
    for (let i = 0; i &lt; 10; i++) {
        const ball = BABYLON.MeshBuilder.CreateSphere(`ball${i}`, {diameter: 1}, scene);
        ball.position = new BABYLON.Vector3(
            Math.random() * 10 - 5,
            5 + i * 2,
            Math.random() * 10 - 5
        );
        ball.physicsImpostor = new BABYLON.PhysicsImpostor(
            ball, BABYLON.PhysicsImpostor.SphereImpostor, {mass: 1, restitution: 0.8}, scene
        );

        // éšæœºåˆå§‹é€Ÿåº¦
        ball.physicsImpostor.setLinearVelocity(
            new BABYLON.Vector3(Math.random() * 5 - 2.5, 0, Math.random() * 5 - 2.5)
        );
    }
};
</code></pre>
<hr />
<h2 id="ä¸ƒæ€§èƒ½ä¼˜åŒ–æŠ€å·§"><a class="header" href="#ä¸ƒæ€§èƒ½ä¼˜åŒ–æŠ€å·§">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></h2>
<h3 id="71-æ¸²æŸ“ä¼˜åŒ–"><a class="header" href="#71-æ¸²æŸ“ä¼˜åŒ–">7.1 æ¸²æŸ“ä¼˜åŒ–</a></h3>
<h4 id="lodå±‚æ¬¡ç»†èŠ‚"><a class="header" href="#lodå±‚æ¬¡ç»†èŠ‚">LODï¼ˆå±‚æ¬¡ç»†èŠ‚ï¼‰</a></h4>
<pre><code class="language-javascript">const highDetail = BABYLON.MeshBuilder.CreateSphere("high", {diameter: 2, segments: 64}, scene);
const mediumDetail = BABYLON.MeshBuilder.CreateSphere("medium", {diameter: 2, segments: 32}, scene);
const lowDetail = BABYLON.MeshBuilder.CreateSphere("low", {diameter: 2, segments: 16}, scene);

highDetail.addLODLevel(50, mediumDetail);   // è·ç¦»50æ—¶åˆ‡æ¢
highDetail.addLODLevel(100, lowDetail);      // è·ç¦»100æ—¶åˆ‡æ¢
highDetail.addLODLevel(200, null);           // è·ç¦»200æ—¶ä¸æ¸²æŸ“

mediumDetail.setEnabled(false);
lowDetail.setEnabled(false);
</code></pre>
<h4 id="å®ä¾‹åŒ–æ¸²æŸ“"><a class="header" href="#å®ä¾‹åŒ–æ¸²æŸ“">å®ä¾‹åŒ–æ¸²æŸ“</a></h4>
<pre><code class="language-javascript">// æ™®é€šæ–¹å¼ï¼ˆæ¯ä¸ªç½‘æ ¼å•ç‹¬æ¸²æŸ“ï¼‰
for (let i = 0; i &lt; 1000; i++) {
    const box = BABYLON.MeshBuilder.CreateBox(`box${i}`, {size: 1}, scene);
    box.position.x = Math.random() * 100 - 50;
    box.position.z = Math.random() * 100 - 50;
}

// ä¼˜åŒ–æ–¹å¼ï¼ˆå®ä¾‹åŒ–æ¸²æŸ“ï¼Œ1æ¬¡Draw Callï¼‰
const box = BABYLON.MeshBuilder.CreateBox("box", {size: 1}, scene);
for (let i = 0; i &lt; 1000; i++) {
    const instance = box.createInstance(`box${i}`);
    instance.position.x = Math.random() * 100 - 50;
    instance.position.z = Math.random() * 100 - 50;
}
</code></pre>
<h4 id="å†»ç»“å’Œåˆå¹¶"><a class="header" href="#å†»ç»“å’Œåˆå¹¶">å†»ç»“å’Œåˆå¹¶</a></h4>
<pre><code class="language-javascript">// å†»ç»“é™æ€ç½‘æ ¼ï¼ˆä¸å†è®¡ç®—å˜æ¢çŸ©é˜µï¼‰
mesh.freezeWorldMatrix();
mesh.freezeNormals(); // å†»ç»“æ³•çº¿è®¡ç®—

// åˆå¹¶å¤šä¸ªç½‘æ ¼
const meshes = [mesh1, mesh2, mesh3];
const mergedMesh = BABYLON.Mesh.MergeMeshes(meshes, true, true, undefined, false, true);
</code></pre>
<h3 id="72-çº¹ç†ä¼˜åŒ–"><a class="header" href="#72-çº¹ç†ä¼˜åŒ–">7.2 çº¹ç†ä¼˜åŒ–</a></h3>
<pre><code class="language-javascript">// ä½¿ç”¨çº¹ç†å‹ç¼©ï¼ˆDDSæ ¼å¼ï¼‰
const texture = new BABYLON.Texture("texture.dds", scene);

// Mipmapä¼˜åŒ–ï¼ˆè‡ªåŠ¨ç”Ÿæˆå¤šçº§çº¹ç†ï¼‰
texture.updateSamplingMode(BABYLON.Texture.TRILINEAR_SAMPLINGMODE);

// å»¶è¿ŸåŠ è½½
const mat = new BABYLON.StandardMaterial("mat", scene);
mat.diffuseTexture = new BABYLON.Texture("largeTexture.jpg", scene, false, false);
</code></pre>
<h3 id="73-åœºæ™¯ä¼˜åŒ–"><a class="header" href="#73-åœºæ™¯ä¼˜åŒ–">7.3 åœºæ™¯ä¼˜åŒ–</a></h3>
<pre><code class="language-javascript">// å¯ç”¨å…«å‰æ ‘ï¼ˆè‡ªåŠ¨å‰”é™¤ä¸å¯è§ç‰©ä½“ï¼‰
scene.createOrUpdateSelectionOctree(200, 100); // æœ€å¤§å®¹é‡, æœ€å¤§æ·±åº¦

// ç¦ç”¨ä¸éœ€è¦çš„åŠŸèƒ½
scene.autoClear = false;               // ä¸è‡ªåŠ¨æ¸…é™¤é¢œè‰²ç¼“å†²
scene.autoClearDepthAndStencil = false; // ä¸æ¸…é™¤æ·±åº¦ç¼“å†²

// é™ä½æ¸²æŸ“åˆ†è¾¨ç‡
engine.setHardwareScalingLevel(2); // åˆ†è¾¨ç‡å‡åŠ

// æ€§èƒ½ç›‘æ§
scene.onBeforeRenderObservable.add(() =&gt; {
    console.log("FPS:", engine.getFps().toFixed());
    console.log("Draw Calls:", scene.getActiveIndices());
});
</code></pre>
<hr />
<h2 id="å…«å®æˆ˜é¡¹ç›®3däº§å“å±•ç¤ºå™¨"><a class="header" href="#å…«å®æˆ˜é¡¹ç›®3däº§å“å±•ç¤ºå™¨">å…«ã€å®æˆ˜é¡¹ç›®ï¼š3Däº§å“å±•ç¤ºå™¨</a></h2>
<h3 id="81-é¡¹ç›®éœ€æ±‚"><a class="header" href="#81-é¡¹ç›®éœ€æ±‚">8.1 é¡¹ç›®éœ€æ±‚</a></h3>
<p>æ„å»ºä¸€ä¸ªäº¤äº’å¼çš„3Däº§å“å±•ç¤ºç³»ç»Ÿï¼Œæ”¯æŒï¼š</p>
<ul>
<li>360åº¦æ—‹è½¬æŸ¥çœ‹</li>
<li>æè´¨åˆ‡æ¢ï¼ˆé¢œè‰²ã€çº¹ç†ï¼‰</li>
<li>éƒ¨ä»¶æ‹†è§£åŠ¨ç”»</li>
<li>æˆªå›¾å’Œåˆ†äº«åŠŸèƒ½</li>
</ul>
<h3 id="82-å®Œæ•´ä»£ç å®ç°"><a class="header" href="#82-å®Œæ•´ä»£ç å®ç°">8.2 å®Œæ•´ä»£ç å®ç°</a></h3>
<pre><code class="language-javascript">class ProductViewer {
    constructor(canvasId) {
        this.canvas = document.getElementById(canvasId);
        this.engine = new BABYLON.Engine(this.canvas, true);
        this.scene = null;
        this.camera = null;
        this.productMesh = null;
        this.materials = {};

        this.init();
    }

    init() {
        this.createScene();
        this.setupCamera();
        this.setupLighting();
        this.loadProduct();
        this.setupUI();

        // æ¸²æŸ“å¾ªç¯
        this.engine.runRenderLoop(() =&gt; {
            this.scene.render();
        });

        // å“åº”å¼
        window.addEventListener('resize', () =&gt; {
            this.engine.resize();
        });
    }

    createScene() {
        this.scene = new BABYLON.Scene(this.engine);
        this.scene.clearColor = new BABYLON.Color4(0.95, 0.95, 0.95, 1);

        // å¯ç”¨HDRç¯å¢ƒ
        const hdrTexture = BABYLON.CubeTexture.CreateFromPrefilteredData(
            "environment.env",
            this.scene
        );
        this.scene.environmentTexture = hdrTexture;
        this.scene.createDefaultSkybox(hdrTexture, true, 1000);
    }

    setupCamera() {
        this.camera = new BABYLON.ArcRotateCamera(
            "camera",
            -Math.PI / 2,
            Math.PI / 2.5,
            5,
            BABYLON.Vector3.Zero(),
            this.scene
        );
        this.camera.attachControl(this.canvas, true);
        this.camera.lowerRadiusLimit = 3;
        this.camera.upperRadiusLimit = 10;
        this.camera.wheelPrecision = 50;

        // é™åˆ¶å‚ç›´æ—‹è½¬è§’åº¦
        this.camera.lowerBetaLimit = Math.PI / 4;
        this.camera.upperBetaLimit = Math.PI / 2;
    }

    setupLighting() {
        // ç¯å¢ƒå…‰
        const hemiLight = new BABYLON.HemisphericLight(
            "hemiLight",
            new BABYLON.Vector3(0, 1, 0),
            this.scene
        );
        hemiLight.intensity = 0.6;

        // ä¸»å…‰æº
        const dirLight = new BABYLON.DirectionalLight(
            "dirLight",
            new BABYLON.Vector3(-1, -2, -1),
            this.scene
        );
        dirLight.position = new BABYLON.Vector3(10, 15, 10);
        dirLight.intensity = 0.8;

        // é˜´å½±ç”Ÿæˆå™¨
        const shadowGenerator = new BABYLON.ShadowGenerator(1024, dirLight);
        shadowGenerator.useBlurExponentialShadowMap = true;
        shadowGenerator.blurKernel = 32;
        this.shadowGenerator = shadowGenerator;
    }

    loadProduct() {
        BABYLON.SceneLoader.ImportMesh(
            "",
            "./models/",
            "product.glb",
            this.scene,
            (meshes) =&gt; {
                this.productMesh = meshes[0];

                // æ·»åŠ åˆ°é˜´å½±ç³»ç»Ÿ
                meshes.forEach(mesh =&gt; {
                    this.shadowGenerator.addShadowCaster(mesh);
                });

                // åˆ›å»ºæè´¨é¢„è®¾
                this.createMaterialPresets();
            }
        );

        // æ·»åŠ å±•ç¤ºå¹³å°
        const platform = BABYLON.MeshBuilder.CreateCylinder(
            "platform",
            { diameter: 4, height: 0.2 },
            this.scene
        );
        platform.position.y = -1;
        platform.receiveShadows = true;

        const platformMat = new BABYLON.PBRMaterial("platformMat", this.scene);
        platformMat.metallic = 0.2;
        platformMat.roughness = 0.4;
        platformMat.albedoColor = new BABYLON.Color3(0.9, 0.9, 0.9);
        platform.material = platformMat;
    }

    createMaterialPresets() {
        // æè´¨1ï¼šçº¢è‰²å¡‘æ–™
        const redPlastic = new BABYLON.PBRMaterial("redPlastic", this.scene);
        redPlastic.albedoColor = new BABYLON.Color3(0.8, 0.1, 0.1);
        redPlastic.metallic = 0;
        redPlastic.roughness = 0.5;
        this.materials.redPlastic = redPlastic;

        // æè´¨2ï¼šè“è‰²é‡‘å±
        const blueMetal = new BABYLON.PBRMaterial("blueMetal", this.scene);
        blueMetal.albedoColor = new BABYLON.Color3(0.1, 0.3, 0.8);
        blueMetal.metallic = 0.9;
        blueMetal.roughness = 0.3;
        this.materials.blueMetal = blueMetal;

        // æè´¨3ï¼šæœ¨çº¹
        const woodMat = new BABYLON.PBRMaterial("woodMat", this.scene);
        woodMat.albedoTexture = new BABYLON.Texture("wood_albedo.jpg", this.scene);
        woodMat.bumpTexture = new BABYLON.Texture("wood_normal.jpg", this.scene);
        woodMat.metallicTexture = new BABYLON.Texture("wood_metallic.jpg", this.scene);
        this.materials.wood = woodMat;
    }

    changeMaterial(materialName) {
        if (this.productMesh &amp;&amp; this.materials[materialName]) {
            this.productMesh.material = this.materials[materialName];
        }
    }

    explodeView(explode = true) {
        if (!this.productMesh) return;

        const children = this.productMesh.getChildMeshes();
        children.forEach((child, index) =&gt; {
            const targetPosition = explode
                ? child.position.scale(2)
                : child.position.scale(0.5);

            BABYLON.Animation.CreateAndStartAnimation(
                `explode${index}`,
                child,
                "position",
                30,
                30,
                child.position,
                targetPosition,
                BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT
            );
        });
    }

    screenshot() {
        BABYLON.Tools.CreateScreenshot(this.engine, this.camera, {width: 1920, height: 1080});
    }

    setupUI() {
        // æè´¨åˆ‡æ¢æŒ‰é’®
        document.getElementById('redBtn').addEventListener('click', () =&gt; {
            this.changeMaterial('redPlastic');
        });
        document.getElementById('blueBtn').addEventListener('click', () =&gt; {
            this.changeMaterial('blueMetal');
        });
        document.getElementById('woodBtn').addEventListener('click', () =&gt; {
            this.changeMaterial('wood');
        });

        // æ‹†è§£æŒ‰é’®
        let isExploded = false;
        document.getElementById('explodeBtn').addEventListener('click', () =&gt; {
            isExploded = !isExploded;
            this.explodeView(isExploded);
        });

        // æˆªå›¾æŒ‰é’®
        document.getElementById('screenshotBtn').addEventListener('click', () =&gt; {
            this.screenshot();
        });
    }
}

// åˆå§‹åŒ–
const viewer = new ProductViewer('renderCanvas');
</code></pre>
<p><strong>HTMLç•Œé¢</strong>:</p>
<pre><code class="language-html">&lt;div id="controls"&gt;
    &lt;button id="redBtn"&gt;çº¢è‰²å¡‘æ–™&lt;/button&gt;
    &lt;button id="blueBtn"&gt;è“è‰²é‡‘å±&lt;/button&gt;
    &lt;button id="woodBtn"&gt;æœ¨çº¹&lt;/button&gt;
    &lt;button id="explodeBtn"&gt;æ‹†è§£è§†å›¾&lt;/button&gt;
    &lt;button id="screenshotBtn"&gt;æˆªå›¾&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<hr />
<h2 id="ä¹å­¦ä¹ æˆæœéªŒè¯æ ‡å‡†"><a class="header" href="#ä¹å­¦ä¹ æˆæœéªŒè¯æ ‡å‡†">ä¹ã€å­¦ä¹ æˆæœéªŒè¯æ ‡å‡†</a></h2>
<h3 id="91-åŸºç¡€èƒ½åŠ›éªŒè¯ç¬¬1-2å‘¨"><a class="header" href="#91-åŸºç¡€èƒ½åŠ›éªŒè¯ç¬¬1-2å‘¨">9.1 åŸºç¡€èƒ½åŠ›éªŒè¯ï¼ˆç¬¬1-2å‘¨ï¼‰</a></h3>
<p><strong>ä»»åŠ¡1</strong>: æ­å»ºåŸºç¡€åœºæ™¯</p>
<ul>
<li><input disabled="" type="checkbox"/>
åˆ›å»ºåŒ…å«ç›¸æœºã€å…‰æºã€ç½‘æ ¼çš„å®Œæ•´åœºæ™¯</li>
<li><input disabled="" type="checkbox"/>
å®ç°é¼ æ ‡æ§åˆ¶ç›¸æœºæ—‹è½¬å’Œç¼©æ”¾</li>
<li><input disabled="" type="checkbox"/>
æ·»åŠ è‡³å°‘3ç§ä¸åŒå‡ ä½•ä½“</li>
<li><input disabled="" type="checkbox"/>
åº”ç”¨åŸºç¡€æè´¨å’Œé¢œè‰²</li>
</ul>
<p><strong>éªŒæ”¶æ ‡å‡†</strong>:</p>
<ul>
<li>åœºæ™¯æµç•…è¿è¡Œï¼ˆFPS &gt; 30ï¼‰</li>
<li>ç›¸æœºæ“ä½œå“åº”çµæ•</li>
<li>ä»£ç ç»“æ„æ¸…æ™°ï¼Œæœ‰é€‚å½“æ³¨é‡Š</li>
</ul>
<p><strong>ä»»åŠ¡2</strong>: æè´¨å’Œçº¹ç†åº”ç”¨</p>
<ul>
<li><input disabled="" type="checkbox"/>
åˆ›å»ºStandardMaterialå’ŒPBRMaterial</li>
<li><input disabled="" type="checkbox"/>
åŠ è½½å¹¶åº”ç”¨çº¹ç†è´´å›¾</li>
<li><input disabled="" type="checkbox"/>
å®ç°æè´¨åŠ¨æ€åˆ‡æ¢åŠŸèƒ½</li>
</ul>
<p><strong>éªŒæ”¶æ ‡å‡†</strong>:</p>
<ul>
<li>çº¹ç†æ˜¾ç¤ºæ­£ç¡®ï¼Œæ— æ‹‰ä¼¸å˜å½¢</li>
<li>æè´¨åˆ‡æ¢æ— é—ªçƒ</li>
<li>ç†è§£é‡‘å±åº¦/ç²—ç³™åº¦æ¦‚å¿µ</li>
</ul>
<h3 id="92-è¿›é˜¶èƒ½åŠ›éªŒè¯ç¬¬3-4å‘¨"><a class="header" href="#92-è¿›é˜¶èƒ½åŠ›éªŒè¯ç¬¬3-4å‘¨">9.2 è¿›é˜¶èƒ½åŠ›éªŒè¯ï¼ˆç¬¬3-4å‘¨ï¼‰</a></h3>
<p><strong>ä»»åŠ¡3</strong>: åŠ¨ç”»ç³»ç»Ÿ</p>
<ul>
<li><input disabled="" type="checkbox"/>
å®ç°å…³é”®å¸§åŠ¨ç”»</li>
<li><input disabled="" type="checkbox"/>
åˆ›å»ºå¤šä¸ªåŠ¨ç”»ç»„å¹¶æ§åˆ¶æ’­æ”¾</li>
<li><input disabled="" type="checkbox"/>
åŠ è½½å¸¦éª¨éª¼åŠ¨ç”»çš„GLTFæ¨¡å‹</li>
</ul>
<p><strong>éªŒæ”¶æ ‡å‡†</strong>:</p>
<ul>
<li>åŠ¨ç”»æµç•…è‡ªç„¶</li>
<li>èƒ½å¤Ÿæš‚åœã€æ¢å¤ã€è°ƒé€Ÿ</li>
<li>å¤šä¸ªåŠ¨ç”»å¯ä»¥ååŒæ’­æ”¾</li>
</ul>
<p><strong>ä»»åŠ¡4</strong>: ç‰©ç†äº¤äº’</p>
<ul>
<li><input disabled="" type="checkbox"/>
é›†æˆç‰©ç†å¼•æ“</li>
<li><input disabled="" type="checkbox"/>
å®ç°åˆšä½“ç¢°æ’</li>
<li><input disabled="" type="checkbox"/>
åˆ›å»ºç®€å•çš„ç‰©ç†å°æ¸¸æˆ</li>
</ul>
<p><strong>éªŒæ”¶æ ‡å‡†</strong>:</p>
<ul>
<li>ç‰©ç†æ•ˆæœçœŸå®</li>
<li>ç¢°æ’æ£€æµ‹å‡†ç¡®</li>
<li>æ€§èƒ½ç¨³å®šï¼ˆFPS &gt; 30ï¼‰</li>
</ul>
<h3 id="93-ç»¼åˆèƒ½åŠ›éªŒè¯ç¬¬5-6å‘¨"><a class="header" href="#93-ç»¼åˆèƒ½åŠ›éªŒè¯ç¬¬5-6å‘¨">9.3 ç»¼åˆèƒ½åŠ›éªŒè¯ï¼ˆç¬¬5-6å‘¨ï¼‰</a></h3>
<p><strong>ä»»åŠ¡5</strong>: å®Œæ•´é¡¹ç›®å¼€å‘</p>
<ul>
<li><input disabled="" type="checkbox"/>
å¼€å‘ä¸€ä¸ª3Däº§å“å±•ç¤ºåº”ç”¨</li>
<li><input disabled="" type="checkbox"/>
å®ç°æè´¨åˆ‡æ¢ã€æ‹†è§£åŠ¨ç”»</li>
<li><input disabled="" type="checkbox"/>
æ·»åŠ UIäº¤äº’å’Œæˆªå›¾åŠŸèƒ½</li>
<li><input disabled="" type="checkbox"/>
è¿›è¡Œæ€§èƒ½ä¼˜åŒ–</li>
</ul>
<p><strong>éªŒæ”¶æ ‡å‡†</strong>:</p>
<ul>
<li>åŠŸèƒ½å®Œæ•´ï¼Œæ— æ˜æ˜¾BUG</li>
<li>äº¤äº’æµç•…ï¼Œç”¨æˆ·ä½“éªŒè‰¯å¥½</li>
<li>ä»£ç ç»“æ„åˆç†ï¼Œå¯ç»´æŠ¤æ€§å¼º</li>
<li>æ€§èƒ½è¾¾æ ‡ï¼ˆ1000+ä¸‰è§’é¢ï¼ŒFPS &gt; 60ï¼‰</li>
</ul>
<hr />
<h2 id="åæ‰©å±•èµ„æºä¸è¿›é˜¶å»ºè®®"><a class="header" href="#åæ‰©å±•èµ„æºä¸è¿›é˜¶å»ºè®®">åã€æ‰©å±•èµ„æºä¸è¿›é˜¶å»ºè®®</a></h2>
<h3 id="101-å®˜æ–¹èµ„æº"><a class="header" href="#101-å®˜æ–¹èµ„æº">10.1 å®˜æ–¹èµ„æº</a></h3>
<p><strong>å®˜æ–¹ç½‘ç«™</strong>: https://www.babylonjs.com/</p>
<ul>
<li>å®Œæ•´æ–‡æ¡£å’ŒAPIå‚è€ƒ</li>
<li>äº¤äº’å¼ç¤ºä¾‹ï¼ˆPlaygroundï¼‰</li>
<li>è§†é¢‘æ•™ç¨‹å’Œåšå®¢æ–‡ç« </li>
</ul>
<p><strong>æ ¸å¿ƒå·¥å…·</strong>:</p>
<ul>
<li>
<p><strong>Babylon.js Playground</strong>: https://playground.babylonjs.com/
åœ¨çº¿ä»£ç ç¼–è¾‘å™¨ï¼Œå³æ—¶é¢„è§ˆæ•ˆæœ</p>
</li>
<li>
<p><strong>Babylon.js Inspector</strong>: å†…ç½®è°ƒè¯•å·¥å…·</p>
<pre><code class="language-javascript">scene.debugLayer.show();
</code></pre>
</li>
<li>
<p><strong>Node Material Editor</strong>: å¯è§†åŒ–æè´¨ç¼–è¾‘å™¨
https://nme.babylonjs.com/</p>
</li>
</ul>
<h3 id="102-å­¦ä¹ è·¯å¾„å»ºè®®"><a class="header" href="#102-å­¦ä¹ è·¯å¾„å»ºè®®">10.2 å­¦ä¹ è·¯å¾„å»ºè®®</a></h3>
<p><strong>åˆçº§é˜¶æ®µï¼ˆ1-2ä¸ªæœˆï¼‰</strong>:</p>
<ol>
<li>å®Œæˆå®˜æ–¹æ–‡æ¡£çš„Getting Startedæ•™ç¨‹</li>
<li>åœ¨Playgroundä¸Šç»ƒä¹ è‡³å°‘50ä¸ªç¤ºä¾‹</li>
<li>é˜…è¯»ã€ŠWebGLç¼–ç¨‹æŒ‡å—ã€‹äº†è§£åº•å±‚åŸç†</li>
</ol>
<p><strong>ä¸­çº§é˜¶æ®µï¼ˆ3-4ä¸ªæœˆï¼‰</strong>:</p>
<ol>
<li>æ·±å…¥å­¦ä¹ PBRæè´¨å’Œå…‰ç…§ç³»ç»Ÿ</li>
<li>æŒæ¡æ€§èƒ½ä¼˜åŒ–æŠ€å·§</li>
<li>å­¦ä¹ 3Då»ºæ¨¡è½¯ä»¶ï¼ˆBlenderï¼‰åŸºç¡€</li>
</ol>
<p><strong>é«˜çº§é˜¶æ®µï¼ˆ5-6ä¸ªæœˆï¼‰</strong>:</p>
<ol>
<li>å­¦ä¹ è‡ªå®šä¹‰ç€è‰²å™¨ï¼ˆGLSLï¼‰</li>
<li>ç ”ç©¶å¼•æ“æºç ï¼Œç†è§£æ¸²æŸ“ç®¡çº¿</li>
<li>å¼€å‘å¤æ‚çš„WebXRåº”ç”¨</li>
</ol>
<h3 id="103-æ¨èä¹¦ç±"><a class="header" href="#103-æ¨èä¹¦ç±">10.3 æ¨èä¹¦ç±</a></h3>
<ol>
<li><strong>ã€ŠWebGLç¼–ç¨‹æŒ‡å—ã€‹</strong> - ç³»ç»Ÿå­¦ä¹ WebGLåŸºç¡€</li>
<li><strong>ã€ŠReal-Time Renderingã€‹</strong> - å®æ—¶æ¸²æŸ“åœ£ç»</li>
<li><strong>ã€ŠGame Engine Architectureã€‹</strong> - æ¸¸æˆå¼•æ“æ¶æ„</li>
</ol>
<h3 id="104-ç¤¾åŒºä¸èµ„æº"><a class="header" href="#104-ç¤¾åŒºä¸èµ„æº">10.4 ç¤¾åŒºä¸èµ„æº</a></h3>
<p><strong>è®ºå›å’Œç¤¾åŒº</strong>:</p>
<ul>
<li>Babylon.jså®˜æ–¹è®ºå›: https://forum.babylonjs.com/</li>
<li>GitHubä»“åº“: https://github.com/BabylonJS/Babylon.js</li>
<li>Discordç¤¾åŒº: https://discord.gg/babylonjs</li>
</ul>
<p><strong>ä¼˜ç§€æ¡ˆä¾‹</strong>:</p>
<ul>
<li>https://www.babylonjs.com/community/ - ç¤¾åŒºä½œå“å±•ç¤º</li>
<li>https://doc.babylonjs.com/guidedLearning - åˆ†ç±»æ•™ç¨‹</li>
</ul>
<h3 id="105-å¸¸è§é—®é¢˜è§£å†³"><a class="header" href="#105-å¸¸è§é—®é¢˜è§£å†³">10.5 å¸¸è§é—®é¢˜è§£å†³</a></h3>
<p><strong>é—®é¢˜1</strong>: æ¨¡å‹åŠ è½½åæ˜¾ç¤ºé»‘è‰²</p>
<ul>
<li><strong>åŸå› </strong>: ç¼ºå°‘å…‰æºæˆ–æè´¨é—®é¢˜</li>
<li><strong>è§£å†³</strong>: æ·»åŠ HemisphericLightï¼Œæ£€æŸ¥æè´¨é…ç½®</li>
</ul>
<p><strong>é—®é¢˜2</strong>: æ€§èƒ½ä½ä¸‹ï¼ŒFPSä¸è¶³</p>
<ul>
<li><strong>åŸå› </strong>: å¤šè¾¹å½¢æ•°è¿‡å¤šï¼ŒDraw Callè¿‡å¤š</li>
<li><strong>è§£å†³</strong>: ä½¿ç”¨LODã€å®ä¾‹åŒ–æ¸²æŸ“ã€ç½‘æ ¼åˆå¹¶</li>
</ul>
<p><strong>é—®é¢˜3</strong>: çº¹ç†æ˜¾ç¤ºæ¨¡ç³Š</p>
<ul>
<li><strong>åŸå› </strong>: çº¹ç†åˆ†è¾¨ç‡ä½æˆ–é‡‡æ ·æ¨¡å¼ä¸å½“</li>
<li><strong>è§£å†³</strong>: ä½¿ç”¨é«˜åˆ†è¾¨ç‡çº¹ç†ï¼Œå¯ç”¨ä¸‰çº¿æ€§è¿‡æ»¤</li>
</ul>
<p><strong>é—®é¢˜4</strong>: ç§»åŠ¨ç«¯é€‚é…é—®é¢˜</p>
<ul>
<li><strong>åŸå› </strong>: æ€§èƒ½ä¸è¶³æˆ–è§¦æ§äº‹ä»¶æœªå¤„ç†</li>
<li><strong>è§£å†³</strong>: é™ä½æ¸²æŸ“ç²¾åº¦ï¼Œä½¿ç”¨<code>camera.inputs.attached.pointers</code></li>
</ul>
<hr />
<h2 id="åä¸€æŒç»­å­¦ä¹ è®¡åˆ’"><a class="header" href="#åä¸€æŒç»­å­¦ä¹ è®¡åˆ’">åä¸€ã€æŒç»­å­¦ä¹ è®¡åˆ’</a></h2>
<h3 id="ç¬¬1å‘¨åŸºç¡€å…¥é—¨"><a class="header" href="#ç¬¬1å‘¨åŸºç¡€å…¥é—¨">ç¬¬1å‘¨ï¼šåŸºç¡€å…¥é—¨</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å®Œæˆç¯å¢ƒæ­å»º</li>
<li><input disabled="" type="checkbox"/>
ç†è§£Sceneã€Cameraã€Lightã€Meshæ ¸å¿ƒæ¦‚å¿µ</li>
<li><input disabled="" type="checkbox"/>
åˆ›å»º5ä¸ªåŸºç¡€åœºæ™¯ç¤ºä¾‹</li>
</ul>
<h3 id="ç¬¬2å‘¨æè´¨çº¹ç†"><a class="header" href="#ç¬¬2å‘¨æè´¨çº¹ç†">ç¬¬2å‘¨ï¼šæè´¨çº¹ç†</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
æŒæ¡StandardMaterialå’ŒPBRMaterial</li>
<li><input disabled="" type="checkbox"/>
å­¦ä¹ çº¹ç†åŠ è½½å’Œé…ç½®</li>
<li><input disabled="" type="checkbox"/>
å®Œæˆ3ä¸ªæè´¨åº”ç”¨æ¡ˆä¾‹</li>
</ul>
<h3 id="ç¬¬3å‘¨åŠ¨ç”»ç³»ç»Ÿ"><a class="header" href="#ç¬¬3å‘¨åŠ¨ç”»ç³»ç»Ÿ">ç¬¬3å‘¨ï¼šåŠ¨ç”»ç³»ç»Ÿ</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å­¦ä¹ å…³é”®å¸§åŠ¨ç”»</li>
<li><input disabled="" type="checkbox"/>
æŒæ¡åŠ¨ç”»ç»„ç®¡ç†</li>
<li><input disabled="" type="checkbox"/>
åŠ è½½å’Œæ§åˆ¶éª¨éª¼åŠ¨ç”»</li>
</ul>
<h3 id="ç¬¬4å‘¨ç‰©ç†å¼•æ“"><a class="header" href="#ç¬¬4å‘¨ç‰©ç†å¼•æ“">ç¬¬4å‘¨ï¼šç‰©ç†å¼•æ“</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
é›†æˆCannon.js</li>
<li><input disabled="" type="checkbox"/>
å®ç°ç¢°æ’æ£€æµ‹</li>
<li><input disabled="" type="checkbox"/>
å¼€å‘ç‰©ç†å°æ¸¸æˆ</li>
</ul>
<h3 id="ç¬¬5å‘¨æ€§èƒ½ä¼˜åŒ–"><a class="header" href="#ç¬¬5å‘¨æ€§èƒ½ä¼˜åŒ–">ç¬¬5å‘¨ï¼šæ€§èƒ½ä¼˜åŒ–</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å­¦ä¹ LODã€å®ä¾‹åŒ–ã€åˆå¹¶æŠ€æœ¯</li>
<li><input disabled="" type="checkbox"/>
æŒæ¡æ€§èƒ½ç›‘æ§æ–¹æ³•</li>
<li><input disabled="" type="checkbox"/>
ä¼˜åŒ–ç°æœ‰é¡¹ç›®</li>
</ul>
<h3 id="ç¬¬6å‘¨ç»¼åˆé¡¹ç›®"><a class="header" href="#ç¬¬6å‘¨ç»¼åˆé¡¹ç›®">ç¬¬6å‘¨ï¼šç»¼åˆé¡¹ç›®</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å¼€å‘å®Œæ•´çš„3Däº§å“å±•ç¤ºåº”ç”¨</li>
<li><input disabled="" type="checkbox"/>
é›†æˆUIäº¤äº’åŠŸèƒ½</li>
<li><input disabled="" type="checkbox"/>
éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<hr />
<h2 id="é™„å½•å¸¸ç”¨ä»£ç ç‰‡æ®µ"><a class="header" href="#é™„å½•å¸¸ç”¨ä»£ç ç‰‡æ®µ">é™„å½•ï¼šå¸¸ç”¨ä»£ç ç‰‡æ®µ</a></h2>
<h3 id="a-å¿«é€Ÿåœºæ™¯æ¨¡æ¿"><a class="header" href="#a-å¿«é€Ÿåœºæ™¯æ¨¡æ¿">A. å¿«é€Ÿåœºæ™¯æ¨¡æ¿</a></h3>
<pre><code class="language-javascript">const createQuickScene = (canvas) =&gt; {
    const engine = new BABYLON.Engine(canvas, true);
    const scene = new BABYLON.Scene(engine);

    const camera = new BABYLON.ArcRotateCamera("camera", 0, 0, 10, BABYLON.Vector3.Zero(), scene);
    camera.attachControl(canvas, true);

    new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);

    const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", {diameter: 2}, scene);

    engine.runRenderLoop(() =&gt; scene.render());
    window.addEventListener("resize", () =&gt; engine.resize());

    return { engine, scene, camera };
};
</code></pre>
<h3 id="b-å¸¸ç”¨æè´¨é¢„è®¾"><a class="header" href="#b-å¸¸ç”¨æè´¨é¢„è®¾">B. å¸¸ç”¨æè´¨é¢„è®¾</a></h3>
<pre><code class="language-javascript">const materials = {
    glass: () =&gt; {
        const mat = new BABYLON.PBRMaterial("glass", scene);
        mat.metallic = 0;
        mat.roughness = 0;
        mat.alpha = 0.5;
        mat.indexOfRefraction = 1.5;
        return mat;
    },

    metal: () =&gt; {
        const mat = new BABYLON.PBRMaterial("metal", scene);
        mat.metallic = 1;
        mat.roughness = 0.3;
        mat.albedoColor = new BABYLON.Color3(0.8, 0.8, 0.8);
        return mat;
    },

    plastic: () =&gt; {
        const mat = new BABYLON.PBRMaterial("plastic", scene);
        mat.metallic = 0;
        mat.roughness = 0.5;
        mat.albedoColor = new BABYLON.Color3(1, 0, 0);
        return mat;
    }
};
</code></pre>
<h3 id="c-æ€§èƒ½ç›‘æ§é¢æ¿"><a class="header" href="#c-æ€§èƒ½ç›‘æ§é¢æ¿">C. æ€§èƒ½ç›‘æ§é¢æ¿</a></h3>
<pre><code class="language-javascript">const showPerformancePanel = (scene) =&gt; {
    const advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");
    const panel = new BABYLON.GUI.StackPanel();
    panel.width = "220px";
    panel.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;
    panel.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;
    advancedTexture.addControl(panel);

    const fpsText = new BABYLON.GUI.TextBlock();
    fpsText.height = "30px";
    fpsText.color = "white";
    panel.addControl(fpsText);

    scene.onBeforeRenderObservable.add(() =&gt; {
        fpsText.text = `FPS: ${engine.getFps().toFixed()}`;
    });
};
</code></pre>
<hr />
<h2 id="ç»“è¯­"><a class="header" href="#ç»“è¯­">ç»“è¯­</a></h2>
<p>BabylonJSæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä¸Šæ‰‹çš„3Då¼•æ“ï¼Œé€šè¿‡ç³»ç»Ÿå­¦ä¹ å’Œå®è·µï¼Œæ‚¨å°†èƒ½å¤Ÿå¼€å‘å‡ºä¸“ä¸šçº§çš„3D Webåº”ç”¨ã€‚è®°ä½ï¼š</p>
<ul>
<li>ğŸ’» <strong>å¤šåŠ¨æ‰‹å®è·µ</strong>ï¼Œåœ¨Playgroundä¸Šå¿«é€ŸéªŒè¯æƒ³æ³•</li>
<li>ğŸ“š <strong>é˜…è¯»å®˜æ–¹æ–‡æ¡£</strong>ï¼Œå®ƒæ˜¯æœ€æƒå¨çš„å­¦ä¹ èµ„æ–™</li>
<li>ğŸ¤ <strong>å‚ä¸ç¤¾åŒºäº¤æµ</strong>ï¼Œè®ºå›ä¸Šæœ‰è®¸å¤šçƒ­å¿ƒçš„å¼€å‘è€…</li>
<li>ğŸ¯ <strong>ä»å°é¡¹ç›®å¼€å§‹</strong>ï¼Œé€æ­¥ç§¯ç´¯ç»éªŒ</li>
</ul>
<p>ç¥æ‚¨å­¦ä¹ æ„‰å¿«ï¼Œåˆ›é€ å‡ºç²¾å½©çš„3Dä½œå“ï¼</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ç¼–ç¨‹/Content.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ç¼–ç¨‹/3d/CesiumJS.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ç¼–ç¨‹/Content.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ç¼–ç¨‹/3d/CesiumJS.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../theme/segmentit.umd.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../theme/searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>



    </div>
    </body>
</html>

