<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Next.jsï¼ˆApp Routerï¼‰å®æˆ˜å­¦ä¹ ç¬”è®° - å¼€å‘</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">
        <link rel="stylesheet" href="../../theme/help-overlay.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">å¼€å‘</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="æœç´¢æœ¬ä¹¦å†…å®¹..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="nextjsapp-routerå®æˆ˜å­¦ä¹ ç¬”è®°"><a class="header" href="#nextjsapp-routerå®æˆ˜å­¦ä¹ ç¬”è®°">Next.jsï¼ˆApp Routerï¼‰å®æˆ˜å­¦ä¹ ç¬”è®°</a></h1>
<blockquote>
<p>é€‚ç”¨èŒƒå›´ï¼šNext.js 14.x/15.xï¼ˆApp Router é»˜è®¤å¯ç”¨ React Server Componentsï¼‰ã€React 18+ã€TypeScript 5+ã€Node.js 18 LTS åŠä»¥ä¸Šã€‚
é¢å‘å¯¹è±¡ï¼š0-5 å¹´ç»éªŒçš„å‰ç«¯ / å…¨æ ˆå¼€å‘è€…ã€å¸Œæœ›ç”¨ Next.js æ„å»ºç”Ÿäº§çº§åº”ç”¨çš„è½¬è¡Œå­¦ä¹ è€…ã€‚
å­¦ä¹ ç›®æ ‡ï¼šæ‰“é€šä»é¡¹ç›®åˆå§‹åŒ–ã€è·¯ç”±ç³»ç»Ÿã€æ•°æ®è·å–ä¸ç¼“å­˜ã€æœåŠ¡å™¨èƒ½åŠ›ï¼ˆRoute Handlers / Server Actionsï¼‰ã€UI ä¼˜åŒ–ã€éƒ¨ç½²è¿ç»´åˆ°æµ‹è¯•ç›‘æ§çš„å®Œæ•´é—­ç¯ï¼Œèƒ½å¤Ÿç‹¬ç«‹äº¤ä»˜é«˜è´¨é‡ Next.js Web åº”ç”¨ã€‚</p>
</blockquote>
<hr />
<h2 id="å­¦ä¹ è€…ç”»åƒä¸æŠ€æœ¯é¢†åŸŸåˆ†æ"><a class="header" href="#å­¦ä¹ è€…ç”»åƒä¸æŠ€æœ¯é¢†åŸŸåˆ†æ">å­¦ä¹ è€…ç”»åƒä¸æŠ€æœ¯é¢†åŸŸåˆ†æ</a></h2>
<ul>
<li><strong>è§’è‰²å®šä½</strong>ï¼šæŒæ¡ Reactã€TypeScript åŸºç¡€ä½†ç¼ºä¹æœåŠ¡ç«¯æ¸²æŸ“ä¸å…¨æ ˆååŒç»éªŒçš„å‰ç«¯å¼€å‘è€…ï¼›éœ€è¦å¿«é€Ÿä» CSR åº”ç”¨è¿‡æ¸¡åˆ° RSC + æ··åˆæ¸²æŸ“æ¨¡å¼çš„å›¢é˜Ÿæˆå‘˜ï¼›å¸Œæœ›åœ¨å›¢é˜Ÿä¸­è´Ÿè´£ SSRã€SEOã€BFF GateWay æˆ–è¾¹ç¼˜æ¸²æŸ“çš„å·¥ç¨‹å¸ˆã€‚</li>
<li><strong>å…³é”®éœ€æ±‚</strong>ï¼š
<ul>
<li>æŒæ¡ App Router æ€ç»´æ¨¡å‹ï¼ˆæ–‡ä»¶ç³»ç»Ÿè·¯ç”± + Server/Client ç»„ä»¶åˆ†å±‚ + æ•°æ®æµæ•´åˆï¼‰ã€‚</li>
<li>è§£å†³â€œéƒ¨ç½²å³ä¸Šçº¿â€çš„è½åœ°éš¾é¢˜ï¼ŒåŒ…æ‹¬ç¼“å­˜ã€ç¯å¢ƒå˜é‡ã€æ•°æ®åº“ã€é‰´æƒä»¥åŠ CI/CDã€‚</li>
<li>åœ¨ä¸ç‰ºç‰²å¼€å‘æ•ˆç‡çš„å‰æä¸‹å®ç° SEOã€æ€§èƒ½ä¸å¯è§‚æµ‹æ€§çš„ç”Ÿäº§æ ‡å‡†ã€‚</li>
</ul>
</li>
<li><strong>å­¦ä¹ æŒ‘æˆ˜</strong>ï¼š
<ul>
<li>RSC çš„æ‰§è¡Œæ—¶æœºä¸ç¼“å­˜ç­–ç•¥å¤æ‚ï¼Œæ˜“å¯¼è‡´æ•°æ®é”™ä½æˆ–é‡å¤è¯·æ±‚ã€‚</li>
<li>Route Handlerã€Edge Runtime ä¸ Node Runtime çš„å·®å¼‚æ˜“æ··æ·†ã€‚</li>
<li>App Router è·¯ç”±ã€Segmentã€å¹¶è¡Œ/æ‹¦æˆªæœºåˆ¶ä¸ä¼ ç»Ÿ SPA å·®å¼‚å¤§ï¼Œéœ€è¦é‡æ–°å»ºç«‹ä¿¡æ¯æ¶æ„æ€ç»´ã€‚</li>
<li>éƒ¨ç½²é˜¶æ®µæ¶‰åŠ Vercel å¹³å°ç‰¹æ€§ã€Docker è‡ªæ‰˜ç®¡ã€CI/CD æ„å»ºå‚æ•°ï¼Œå®¹æ˜“åœ¨å®æˆ˜ä¸­è¸©å‘ã€‚</li>
</ul>
</li>
<li><strong>å­¦ä¹ ç­–ç•¥</strong>ï¼š
<ul>
<li>é‡‡ç”¨â€œæ¦‚å¿µâ€”æ¡ˆä¾‹â€”è¿›é˜¶â€”éªŒè¯â€çš„å››æ®µå¼ç»“æ„ï¼Œå°†ç†è®ºç«‹å³æ˜ å°„ä¸ºå¯æ‰§è¡Œæ“ä½œå†æ·±åŒ–ã€‚</li>
<li>æ¯ä¸ªæ¨¡å—éƒ½é™„å¸¦ Checklistã€å¸¸è§é”™è¯¯é€ŸæŸ¥ä¸å¯é‡åŒ–çš„äº§å‡ºæŒ‡æ ‡ï¼Œé™ä½å­¦ä¹ ä¸­æ–­é£é™©ã€‚</li>
<li>æä¾›æ¨ªå‘å¯¹æ¯”ï¼ˆä¾‹å¦‚ä¸ Pages Routerã€ä¼ ç»Ÿ SSR æ¡†æ¶çš„å·®å¼‚ï¼‰ï¼Œå¸®åŠ©å»ºç«‹è¿ç§»çš„è®¤çŸ¥æ¡†æ¶ã€‚</li>
</ul>
</li>
</ul>
<hr />
<h2 id="å­¦ä¹ åœ°å›¾æ€»è§ˆ"><a class="header" href="#å­¦ä¹ åœ°å›¾æ€»è§ˆ">å­¦ä¹ åœ°å›¾æ€»è§ˆ</a></h2>
<div class="table-wrapper"><table><thead><tr><th>é˜¶æ®µ</th><th>æ—¶é—´é¢„ä¼°</th><th>æ ¸å¿ƒç›®æ ‡</th><th>äº§å‡ºç‰©</th><th>èƒ½åŠ›æŒ‡æ ‡</th></tr></thead><tbody>
<tr><td><strong>å…¥é—¨é“ºå«</strong></td><td>1-2 å‘¨</td><td>ç†è§£ RSCã€App Routerã€ç›®å½•ç»“æ„ä¸åŸºç¡€æ¸²æŸ“æ¨¡å¼</td><td>åˆå§‹åŒ–é¡¹ç›®ã€å®ŒæˆåŸºç¡€è·¯ç”±å’Œå¸ƒå±€</td><td>ç†Ÿç»ƒåŒºåˆ† Server / Client Componentï¼ŒæŒæ¡ <code>layout.tsx</code>ã€<code>page.tsx</code> ç”Ÿå‘½å‘¨æœŸ</td></tr>
<tr><td><strong>è·¯ç”±ä¸æ•°æ®</strong></td><td>2-3 å‘¨</td><td>æŒæ¡åŠ¨æ€è·¯ç”±ã€å¤šæ®µè·¯ç”±ã€å…ƒæ•°æ®ã€ç¼“å­˜ä¸å†éªŒè¯</td><td>åšå®¢ / è¥é”€ç«™åœºæ™¯çš„åŠ¨æ€é¡µé¢ï¼Œèƒ½é…ç½® SEO å…ƒä¿¡æ¯</td><td>ä½¿ç”¨ <code>generateStaticParams</code>ã€<code>revalidateTag</code>ã€<code>draftMode()</code> å®Œæˆæ•°æ®é“¾è·¯</td></tr>
<tr><td><strong>æœåŠ¡å™¨èƒ½åŠ›</strong></td><td>2-3 å‘¨</td><td>å»ºç«‹ BFF æ€ç»´ï¼ŒæŒæ¡ Route Handlerã€Server Actionsã€Middleware</td><td>æ„å»ºä¸€ä¸ªæ”¯æŒé‰´æƒä¸æ•°æ®å†™å…¥çš„ä»ªè¡¨ç›˜ç³»ç»Ÿ</td><td>èƒ½æ­£ç¡®åŒºåˆ† Edge/Node Runtimeï¼ŒæŒæ¡ä¼šè¯ç®¡ç†ä¸è¡¨å•å˜æ›´åç¼“å­˜åˆ·æ–°</td></tr>
<tr><td><strong>å·¥ç¨‹åŒ–ä¸ä¼˜åŒ–</strong></td><td>2-3 å‘¨</td><td>æ€§èƒ½ä¼˜åŒ–ã€å›¾ç‰‡/å­—ä½“ç­–ç•¥ã€ç›‘æ§æ—¥å¿—ã€CI/CD æµæ°´çº¿</td><td>å¯éƒ¨ç½²çš„ç”Ÿäº§çº§é¡¹ç›®ã€æ€§èƒ½é¢„ç®—åŠç›‘æ§çœ‹æ¿</td><td>Core Web Vitals è¾¾æ ‡ã€å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ã€å»ºç«‹éƒ¨ç½² Pipeline</td></tr>
<tr><td><strong>ç»¼åˆå®æˆ˜</strong></td><td>æŒç»­è¿­ä»£</td><td>å°†ä¸Šè¿°èƒ½åŠ›æ•´åˆåˆ°ä¸šåŠ¡é¡¹ç›®</td><td>å®Œæ•´çš„â€œå…¬å…±åšå®¢ + åå°ä»ªè¡¨ç›˜ + æœåŠ¡ç«¯ APIâ€åº”ç”¨</td><td>å¯æŒç»­è¿ç»´ã€å…·å¤‡æ‰©å±•è‡³å¤šç§Ÿæˆ· / å›½é™…åŒ– / å¤šè¿è¡Œæ—¶çš„èƒ½åŠ›</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="æ ¸å¿ƒæ¨¡å—æ¦‚è§ˆ"><a class="header" href="#æ ¸å¿ƒæ¨¡å—æ¦‚è§ˆ">æ ¸å¿ƒæ¨¡å—æ¦‚è§ˆ</a></h2>
<p>æœ¬ç¬”è®°å°†æŠ€æœ¯çŸ¥è¯†æ‹†è§£ä¸ºå…­ä¸ªé€’è¿›æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éµå¾ªâ€œåŸºç¡€æ¦‚å¿µ â†’ å®æˆ˜æ¡ˆä¾‹ â†’ è¿›é˜¶æ‰©å±• â†’ å¸¸è§é™·é˜± â†’ éªŒè¯æ¸…å•â€çš„ç»“æ„ï¼Œç¡®ä¿å­¦ä¹ è€…æ—¢èƒ½å¿«é€Ÿä¸Šæ‰‹åˆèƒ½ç¨³å¥è¿›é˜¶ã€‚</p>
<div class="table-wrapper"><table><thead><tr><th>æ¨¡å—ç¼–å·</th><th>æ¨¡å—åç§°</th><th>å­¦ä¹ ç„¦ç‚¹</th><th>äº§å‡ºç‰©æè¿°</th><th>åç»­æ¨¡å—ä¾èµ–</th></tr></thead><tbody>
<tr><td>æ¨¡å—ä¸€</td><td>App Router åŸºç¡€ä¸å¼€å‘ç¯å¢ƒ</td><td>æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ã€RSC æ‹†è§£ã€é¡¹ç›®é…ç½®</td><td>åˆå§‹åŒ–å®Œæˆçš„ Next.js é¡¹ç›®ï¼ˆTS + Tailwind + ESLintï¼‰ï¼ŒåŒ…å«åŸºç¡€é¡µé¢ä¸å¸ƒå±€</td><td>æ‰€æœ‰æ¨¡å—</td></tr>
<tr><td>æ¨¡å—äºŒ</td><td>è·¯ç”±ä½“ç³»ä¸ç•Œé¢ç¼–æ’</td><td>åŠ¨æ€/å¯é€‰è·¯å¾„ã€å¹¶è¡Œ/æ‹¦æˆªè·¯ç”±ã€å…ƒä¿¡æ¯ã€é”™è¯¯/åŠ è½½ UI</td><td>å®Œæ•´çš„å¤šå±‚æ¬¡é¡µé¢ç»“æ„ï¼ˆè¥é”€ç«™ + åšå®¢ï¼‰</td><td>æ¨¡å—ä¸‰ã€å››</td></tr>
<tr><td>æ¨¡å—ä¸‰</td><td>æ•°æ®è·å–ã€ç¼“å­˜ä¸å†éªŒè¯</td><td>RSC æ•°æ®è¯·æ±‚ã€ç¼“å­˜å±‚ã€æµå¼æ¸²æŸ“ã€SWR/React Query</td><td>æ•°æ®é©±åŠ¨é¡µé¢ã€è‡ªåŠ¨å†éªŒè¯ç­–ç•¥ã€æŒ‰ Tag åˆ·æ–°æ–¹æ¡ˆ</td><td>æ¨¡å—å››ã€äº”</td></tr>
<tr><td>æ¨¡å—å››</td><td>Server Actions ä¸ Route Handlers</td><td>BFF æ¥å£è®¾è®¡ã€è¡¨å•å¤„ç†ã€é‰´æƒã€Middlewareã€è¾¹ç¼˜è¿è¡Œæ—¶</td><td>æ”¯æŒå†™æ“ä½œä¸é‰´æƒçš„ä»ªè¡¨ç›˜ï¼Œå« API ä¸è¡ŒåŠ¨åé¦ˆ</td><td>æ¨¡å—äº”ã€å…­</td></tr>
<tr><td>æ¨¡å—äº”</td><td>å‰ç«¯è¡¨ç°ã€SEO ä¸ä½“éªŒä¼˜åŒ–</td><td>UI ä½“ç³»ã€PPRã€å›¾ç‰‡å­—ä½“ã€metadataã€å›½é™…åŒ–ã€å¯è®¿é—®æ€§</td><td>æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Šã€SEO é…ç½®ã€å›½é™…åŒ–ç¤ºä¾‹</td><td>æ¨¡å—å…­</td></tr>
<tr><td>æ¨¡å—å…­</td><td>å·¥ç¨‹åŒ–ã€æµ‹è¯•ä¸éƒ¨ç½²</td><td>å•å…ƒ/é›†æˆ/E2E æµ‹è¯•ã€æ—¥å¿—ç›‘æ§ã€CI/CDã€éƒ¨ç½²ç­–ç•¥</td><td>Vercel/Docker éƒ¨ç½²æµæ°´çº¿ã€ç›‘æ§æŠ¥è­¦é…ç½®ã€è¿è¡Œæ‰‹å†Œ</td><td>ç»¼åˆå®æˆ˜</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="æ¨¡å—ä¸€app-router-åŸºç¡€ä¸å¼€å‘ç¯å¢ƒæ­å»º"><a class="header" href="#æ¨¡å—ä¸€app-router-åŸºç¡€ä¸å¼€å‘ç¯å¢ƒæ­å»º">æ¨¡å—ä¸€ï¼šApp Router åŸºç¡€ä¸å¼€å‘ç¯å¢ƒæ­å»º</a></h2>
<h3 id="11-åŸºç¡€æ¦‚å¿µæ¢³ç†"><a class="header" href="#11-åŸºç¡€æ¦‚å¿µæ¢³ç†">1.1 åŸºç¡€æ¦‚å¿µæ¢³ç†</a></h3>
<ol>
<li><strong>App Router æ€ç»´æ¨¡å‹</strong>
<ul>
<li>åŸºäº <code>app/</code> ç›®å½•çš„æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼Œ<code>layout.tsx</code> è´Ÿè´£å…±äº« UIï¼Œ<code>page.tsx</code> è´Ÿè´£ Segment å†…å®¹ï¼›å¯åµŒå¥—å¸ƒå±€æ„å»º UI æ ‘ã€‚</li>
<li>Server Component é»˜è®¤æ‰§è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼ŒProsï¼šè‡ªåŠ¨æ•°æ®è¯·æ±‚ã€å‡å°‘ bundle ä½“ç§¯ï¼›Consï¼šä»…èƒ½è°ƒç”¨è¿è¡Œæ—¶å®‰å…¨ APIã€‚</li>
<li>Client Component é€šè¿‡ <code>"use client"</code> æŒ‡ä»¤å£°æ˜ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ç«¯ï¼Œé€‚åˆäº¤äº’é€»è¾‘ã€çŠ¶æ€ç®¡ç†ã€äº‹ä»¶å¤„ç†ã€‚</li>
</ul>
</li>
<li><strong>RSC æ¸²æŸ“æµæ°´çº¿</strong>
<ul>
<li>è¯·æ±‚å‘½ä¸­ï¼šæœåŠ¡å™¨æ ¹æ® routing è§£æï¼Œæ‰§è¡Œå¯¹åº”çš„ Server Componentã€‚</li>
<li>æ•°æ®é˜¶æ®µï¼šServer Component å¯ä»¥ç›´æ¥ <code>await fetch</code>ï¼ŒNext.js è‡ªåŠ¨ç¼“å­˜ç»“æœå¹¶ç”Ÿæˆ RSC Payloadã€‚</li>
<li>ä¼ è¾“é˜¶æ®µï¼šRSC Payloadï¼ˆStreamï¼‰é€šè¿‡ Flight Protocol ä¼ è‡³å®¢æˆ·ç«¯ï¼Œç”± React è§£æå¹¶ç»„åˆ Client ç»„ä»¶ã€‚</li>
</ul>
</li>
<li><strong>é¡¹ç›®ç»“æ„</strong>
<ul>
<li><code>app/</code>ï¼šé¡µé¢ + å¸ƒå±€ + Loading/Error/NotFound ç»„ä»¶ + Route Handlersã€‚</li>
<li><code>src/</code>ï¼šåœ¨ create-next-app å‹¾é€‰ <code>--src-dir</code> åï¼Œæ¨èå°†å…±äº«åº“ã€hooksã€utilsã€æœåŠ¡ä¾§ä»£ç æ”¾ç½®åœ¨ <code>src</code>ã€‚</li>
<li><code>lib/</code>ï¼šå¸¸ç”¨å·¥å…·ä¸æœåŠ¡å®ä¾‹ï¼ˆPrismaã€Redisã€supabase å®¢æˆ·ç«¯ï¼‰ã€‚</li>
<li><code>components/</code>ï¼š<code>"use client"</code> å®¢æˆ·ç«¯ç»„ä»¶æˆ–è·¨é¡µé¢ UIã€‚</li>
</ul>
</li>
<li><strong>ç±»å‹ç³»ç»Ÿä¸åˆ«å</strong>
<ul>
<li>é»˜è®¤é›†æˆ TSï¼Œæ¨èåœ¨ <code>tsconfig.json</code> ä¸­æ·»åŠ  <code>@/*</code>ã€<code>@server/*</code>ã€<code>@components/*</code> åˆ«åï¼Œåˆ©ç”¨è·¯å¾„éš”ç¦»æå‡æ˜“ç»´æŠ¤æ€§ã€‚</li>
<li>å¯¹ RSC é™åˆ¶è¿›è¡Œç±»å‹çº¦æŸï¼šServer Component ä¸­ä¸è¦ import Client-only æ¨¡å—ï¼›åœ¨ ESLint é…ç½®ä¸­å¯ç”¨ <code>eslint-config-next</code> å¯è‡ªåŠ¨æ£€æŸ¥ã€‚</li>
</ul>
</li>
<li><strong>å·¥ç¨‹å·¥å…·é“¾</strong>
<ul>
<li><code>next dev</code> å¼€å‘æ¨¡å¼é»˜è®¤å¼€å¯ Fast Refresh ä¸é”™è¯¯ Overlayã€‚</li>
<li><code>next lint</code> é›†æˆ ESLintï¼›<code>next build</code> ç”Ÿæˆ <code>.next</code> æ„å»ºäº§ç‰©ï¼›<code>next start</code> æœåŠ¡ç«¯è¿è¡Œã€‚</li>
<li>æ¨èæ­é… <code>pnpm</code> æˆ– <code>bun</code> è·å–æ›´å¿«çš„å®‰è£…é€Ÿåº¦ä¸ Monorepo æ”¯æŒã€‚</li>
</ul>
</li>
</ol>
<h3 id="12-å®æˆ˜æ¡ˆä¾‹åˆå§‹åŒ–å¤šåŒºåŸŸè¥é”€ç«™--åšå®¢éª¨æ¶"><a class="header" href="#12-å®æˆ˜æ¡ˆä¾‹åˆå§‹åŒ–å¤šåŒºåŸŸè¥é”€ç«™--åšå®¢éª¨æ¶">1.2 å®æˆ˜æ¡ˆä¾‹ï¼šåˆå§‹åŒ–â€œå¤šåŒºåŸŸè¥é”€ç«™ + åšå®¢â€éª¨æ¶</a></h3>
<p>ç›®æ ‡ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å¤š Segmentï¼ˆè¥é”€é¡µ + åšå®¢ï¼‰çš„åŸºç¡€é¡¹ç›®ï¼Œä½“ç° App Router çš„å¸ƒå±€èƒ½åŠ›ä¸ RSC æ•°æ®åŠ è½½ã€‚</p>
<p>æ“ä½œæ­¥éª¤ï¼š</p>
<pre><code class="language-bash">npx create-next-app@latest next-pro-app \
  --ts --tailwind --eslint --app --src-dir --import-alias "@/*"
cd next-pro-app
npm run dev
</code></pre>
<p>å…³é”®é…ç½®ï¼š</p>
<pre><code class="language-jsonc">// tsconfig.json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"],
      "@components/*": ["./src/components/*"],
      "@lib/*": ["./src/lib/*"]
    }
  }
}
</code></pre>
<p>æ„å»ºé¡µé¢ç»“æ„ï¼š</p>
<pre><code class="language-text">app/
â”œâ”€â”€ layout.tsx
â”œâ”€â”€ page.tsx
â”œâ”€â”€ (marketing)/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ about/page.tsx
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ [slug]/page.tsx
â”‚   â””â”€â”€ loading.tsx
â””â”€â”€ api/health/route.ts
</code></pre>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="language-tsx">// app/layout.tsx
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import '@styles/globals.css'

const inter = Inter({ subsets: ['latin'], variable: '--font-inter' })

export const metadata: Metadata = {
  title: {
    default: 'Next Pro App',
    template: '%s | Next Pro App'
  },
  description: 'App Router å…¥é—¨é¡¹ç›®',
  metadataBase: new URL('https://example.com')
}

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    &lt;html lang="zh-Hans"&gt;
      &lt;body className={`${inter.className} bg-slate-950 text-slate-100`}&gt;{children}&lt;/body&gt;
    &lt;/html&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// app/page.tsx â€” Server Component + æ•°æ®è¯·æ±‚
async function getFeatured() {
  const res = await fetch('https://api.example.com/featured', {
    next: { revalidate: 60 }, // åŸºç¡€ ISR
    cache: 'force-cache'
  })
  if (!res.ok) throw new Error('è·å– featured æ•°æ®å¤±è´¥')
  return res.json()
}

export default async function HomePage() {
  const featured = await getFeatured()
  return (
    &lt;main className="px-8 py-16 space-y-12"&gt;
      &lt;section&gt;
        &lt;h1 className="text-4xl font-bold"&gt;Next Pro App&lt;/h1&gt;
        &lt;p className="mt-4 text-lg text-slate-300"&gt;
          ä½¿ç”¨ App Router æ„å»ºçš„è¥é”€ç«™ + åšå®¢éª¨æ¶ï¼Œå±•ç¤º RSC æ•°æ®åŠ è½½ä¸å¸ƒå±€åµŒå¥—ã€‚
        &lt;/p&gt;
      &lt;/section&gt;
      &lt;section className="grid grid-cols-1 md:grid-cols-2 gap-6"&gt;
        {featured.items.map((item: any) =&gt; (
          &lt;article key={item.id} className="rounded border border-slate-800 p-6"&gt;
            &lt;h2 className="text-xl font-semibold"&gt;{item.title}&lt;/h2&gt;
            &lt;p className="mt-2 text-slate-400"&gt;{item.summary}&lt;/p&gt;
          &lt;/article&gt;
        ))}
      &lt;/section&gt;
    &lt;/main&gt;
  )
}
</code></pre>
<p>é€šè¿‡åˆå§‹æ¡ˆä¾‹ï¼Œå­¦ä¹ è€…å¯ä»¥ç›´è§‚ä½“éªŒï¼š</p>
<ul>
<li>Server Component ç›´æ¥ <code>await fetch</code> çš„ä½“éªŒï¼›</li>
<li><code>next: { revalidate }</code> å‚æ•°ç”¨äºé™æ€è·¯å¾„çš„å¢é‡é¢„æ„å»ºï¼›</li>
<li>Tailwind ä¸å…¨å±€æ ·å¼æ•´åˆæ–¹å¼ï¼›</li>
<li>åœ¨ <code>app/(marketing)</code> ä¸­ä½¿ç”¨è·¯ç”±åˆ†ç»„å®ç° URL ä¸å˜çš„å¸ƒå±€å·®å¼‚ã€‚</li>
</ul>
<h3 id="13-è¿›é˜¶æ‰©å±•å¼€å‘æ•ˆç‡ä¸é…ç½®"><a class="header" href="#13-è¿›é˜¶æ‰©å±•å¼€å‘æ•ˆç‡ä¸é…ç½®">1.3 è¿›é˜¶æ‰©å±•ï¼šå¼€å‘æ•ˆç‡ä¸é…ç½®</a></h3>
<ol>
<li><strong>è·¯å¾„åˆ«åä¸ ESLint</strong>
<ul>
<li><code>eslint-config-next</code> é»˜è®¤æ£€æŸ¥ RSC é™åˆ¶ï¼šé¿å… Server Component å¼•å…¥ Client ç»„ä»¶ã€‚</li>
<li>æ–°å¢ <code>@server/*</code> åˆ«åï¼Œå¹¶ä½¿ç”¨ <code>"server-only"</code> åŒ…é˜»æ–­æ„å¤–å¯¼å…¥ï¼š</li>
</ul>
</li>
</ol>
<pre><code class="language-ts">// src/lib/server-only.ts
import 'server-only'

export const serverEnv = {
  databaseUrl: process.env.DATABASE_URL ?? '',
  sentryDsn: process.env.SENTRY_DSN ?? ''
}
</code></pre>
<ol start="2">
<li><strong>ç¯å¢ƒå˜é‡ä¸ç±»å‹å®‰å…¨</strong>
<ul>
<li>ä½¿ç”¨ <code>zod</code> + <code>@t3-oss/env-nextjs</code> æˆ– <code>envsafe</code> ä¿éšœç¯å¢ƒå˜é‡ç±»å‹ï¼š</li>
</ul>
</li>
</ol>
<pre><code class="language-ts">// src/config/env.ts
import { createEnv } from '@t3-oss/env-nextjs'
import { z } from 'zod'

export const env = createEnv({
  server: {
    DATABASE_URL: z.string().url(),
    RESEND_KEY: z.string().min(1)
  },
  client: {
    NEXT_PUBLIC_ANALYTICS_ID: z.string().regex(/^ga-/i)
  },
  runtimeEnv: process.env
})
</code></pre>
<ol start="3">
<li>
<p><strong>é€Ÿåº¦ä¼˜åŒ–</strong></p>
<ul>
<li>æ¨èä½¿ç”¨ <code>pnpm install</code> / <code>bun install</code> åŠ é€Ÿä¾èµ–å®‰è£…ã€‚</li>
<li>å¦‚æœå›¢é˜Ÿé‡‡ç”¨ Monorepoï¼Œè€ƒè™‘ <code>turborepo</code> + <code>changeset</code> ç®¡ç†å¤šåŒ…ç‰ˆæœ¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¼–ç è§„èŒƒä¸ Git Hooks</strong></p>
<ul>
<li>é›†æˆ <code>lint-staged</code> + <code>husky</code> å®ç°æäº¤å‰æ ¡éªŒï¼›</li>
<li><code>prettier</code> + <code>@ianvs/prettier-plugin-sort-imports</code> å¸®åŠ©ä¿æŒ import è¯­åºã€‚</li>
</ul>
</li>
<li>
<p><strong>å›¢é˜Ÿåä½œå»ºè®®</strong></p>
<ul>
<li>åœ¨æ–‡æ¡£ä¸­æ˜ç¡® Server Component / Client Component è¾¹ç•Œï¼Œçº¦å®šå‘½åï¼ˆä¾‹å¦‚ <code>Button.client.tsx</code>ï¼‰ï¼›</li>
<li>ä¸ºç¯å¢ƒå˜é‡ã€è·¯ç”± Segmentã€ç¼“å­˜ Tag å»ºç«‹æ–‡æ¡£è®°å½•ï¼Œé™ä½å¤šäººåä½œå†²çªã€‚</li>
</ul>
</li>
</ol>
<h3 id="14-å¸¸è§é™·é˜±ä¸æ’æŸ¥"><a class="header" href="#14-å¸¸è§é™·é˜±ä¸æ’æŸ¥">1.4 å¸¸è§é™·é˜±ä¸æ’æŸ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>åœºæ™¯</th><th>é—®é¢˜è¡¨ç°</th><th>è§£å†³ç­–ç•¥</th></tr></thead><tbody>
<tr><td>Server Component ä¸­ç›´æ¥ä½¿ç”¨ <code>window</code></td><td>æ„å»ºæ—¶æŠ¥é”™ <code>window is not defined</code></td><td>ä»…åœ¨ Client Component ä¸­ä½¿ç”¨æµè§ˆå™¨ APIï¼›æˆ–æ‹†åˆ†ä¸º <code>@components/client/</code> ç»„ä»¶</td></tr>
<tr><td>Tailwind æœªç”Ÿæ•ˆ</td><td>æ ·å¼ä¸æ¸²æŸ“ã€ç±»åè¢« Purge</td><td>ç¡®ä¿ <code>tailwind.config.js</code> ä¸­çš„ <code>content</code> åŒ…å« <code>./src/**/*.{ts,tsx}</code> ä¸ <code>./app/**/*.{ts,tsx}</code></td></tr>
<tr><td>è·‘ <code>npm run dev</code> æŠ¥ ESLint é”™è¯¯</td><td>æ–°å¢åˆ«åæœªé…ç½®</td><td>æ£€æŸ¥ <code>eslint.config.js</code> æˆ– <code>.eslintrc.js</code> çš„ <code>settings['import/resolver']</code></td></tr>
<tr><td>ä½¿ç”¨ <code>fetch</code> æ—¶ç¼“å­˜è¡Œä¸ºä¸ç¬¦é¢„æœŸ</td><td>æ•°æ®æœªæ›´æ–°æˆ–é‡å¤è¯·æ±‚</td><td>æ˜ç¡® <code>cache</code> å‚æ•°ï¼ˆ<code>force-cache</code> / <code>no-store</code>ï¼‰ä¸ <code>next.revalidate</code> è®¾ç½®ï¼›å¯¹åŠ¨æ€è·¯å¾„ä½¿ç”¨ <code>draftMode</code> è°ƒè¯•</td></tr>
<tr><td><code>process.env</code> å˜é‡æœªå®šä¹‰</td><td>å®¢æˆ·ç«¯è®¿é—® undefined</td><td>å®¢æˆ·ç«¯ç¯å¢ƒå˜é‡éœ€ä»¥ <code>NEXT_PUBLIC_</code> å¼€å¤´ï¼›ä½¿ç”¨ <code>env</code> ç®¡ç†å™¨ç»Ÿä¸€çº¦æŸ</td></tr>
</tbody></table>
</div>
<h3 id="15-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º"><a class="header" href="#15-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º">1.5 é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º</a></h3>
<ul>
<li>å®Œæˆ <code>next-pro-app</code> åˆå§‹åŒ–é¡¹ç›®ï¼Œå…·å¤‡ <code>app/</code> å±‚çº§ç»“æ„ä¸åŸºæœ¬æ ·å¼ã€‚</li>
<li>èƒ½å¤Ÿå‡†ç¡®è§£é‡Š Server Component ä¸ Client Component å·®å¼‚ï¼Œèƒ½å¤Ÿä¸ºæ¨¡å—æ­£ç¡®æ·»åŠ  <code>"use client"</code>ã€‚</li>
<li>åœ¨ <code>app/page.tsx</code> ä¸­å®ç°ä¸€æ¬¡æ•°æ®è¯·æ±‚å¹¶è®¾ç½®ç¼“å­˜ç­–ç•¥ï¼Œç†è§£ <code>revalidate</code>ã€<code>cache</code>ã€<code>tags</code> çš„åŸºç¡€ç”¨æ³•ã€‚</li>
<li>é…ç½® ESLint + Prettier + Huskyï¼ˆå¯é€‰ï¼‰å¹¶é€šè¿‡ä¸€æ¬¡æäº¤ã€‚</li>
<li>æ’°å†™ä¸€ä»½å›¢é˜Ÿçº¦å®šæ–‡æ¡£ï¼ˆREADMEï¼‰è®°å½•ç›®å½•ç»“æ„ã€å‘½åè§„åˆ™ä¸å¼€å‘å‘½ä»¤ã€‚</li>
</ul>
<h3 id="16-å»¶ä¼¸é˜…è¯»ä¸èµ„æº"><a class="header" href="#16-å»¶ä¼¸é˜…è¯»ä¸èµ„æº">1.6 å»¶ä¼¸é˜…è¯»ä¸èµ„æº</a></h3>
<ul>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://nextjs.org/docs/app">https://nextjs.org/docs/app</a></li>
<li>Next.js Architecture æ·±åº¦è§£è¯»ï¼ˆVercel Blogï¼‰ï¼šè¯¦è§£ RSC æ¸²æŸ“æµç¨‹ã€‚</li>
<li>React Compiler ä¸ Server Components çš„ååŒï¼ˆReact Conf 2024 è§†é¢‘ï¼‰ã€‚</li>
<li>Tailwind CSS å®˜æ–¹ç¤ºä¾‹ï¼ˆ<code>with-tailwindcss</code>ï¼‰äº†è§£ CSS-in-JS ä¸åŸå­åŒ–çš„å–èˆã€‚</li>
</ul>
<hr />
<h2 id="æ¨¡å—äºŒè·¯ç”±ä½“ç³»ä¸ç•Œé¢ç¼–æ’"><a class="header" href="#æ¨¡å—äºŒè·¯ç”±ä½“ç³»ä¸ç•Œé¢ç¼–æ’">æ¨¡å—äºŒï¼šè·¯ç”±ä½“ç³»ä¸ç•Œé¢ç¼–æ’</a></h2>
<h3 id="21-åŸºç¡€æ¦‚å¿µæ¢³ç†"><a class="header" href="#21-åŸºç¡€æ¦‚å¿µæ¢³ç†">2.1 åŸºç¡€æ¦‚å¿µæ¢³ç†</a></h3>
<ol>
<li><strong>Segment ä¸ URL å¯¹åº”å…³ç³»</strong>
<ul>
<li><code>app/&lt;segment&gt;/page.tsx</code> å¯¹åº” <code>/segment</code> è·¯å¾„ï¼›åµŒå¥—ç›®å½•æ˜ å°„åµŒå¥—è·¯å¾„ã€‚</li>
<li><code>layout.tsx</code> å…·å¤‡â€œåŒ…è£¹â€è¯­ä¹‰ï¼Œå¯å±‚å±‚åµŒå¥—ï¼Œå½¢æˆ UI æ ‘ã€‚</li>
</ul>
</li>
<li><strong>åŠ¨æ€è·¯ç”±ä¸ç”Ÿæˆç­–ç•¥</strong>
<ul>
<li><code>[slug]</code>ï¼šå¿…éœ€å‚æ•°ï¼›<code>generateStaticParams</code> ç”¨äº SSGã€‚</li>
<li><code>[[...slug]]</code>ï¼šå¯é€‰ catch-allï¼Œå¯ç”¨äº 404 å®¹é”™ã€‚</li>
<li><code>route segment config</code>ï¼ˆ<code>generateMetadata</code>ã€<code>revalidate</code> ç­‰ï¼‰å¯åœ¨æ–‡ä»¶çº§åˆ«å¯¼å‡ºã€‚</li>
</ul>
</li>
<li><strong>å¹¶è¡Œä¸æ‹¦æˆªè·¯ç”±</strong>
<ul>
<li>å¹¶è¡Œè·¯ç”±ï¼šåˆ©ç”¨ <code>@slot</code> å®ç°åŒä¸€è·¯å¾„ä¸‹å¤š UI åŒºå—ï¼Œé€‚åˆå¤šé¢æ¿ä»ªè¡¨ç›˜ã€‚</li>
<li>æ‹¦æˆªè·¯ç”±ï¼š<code>(..)</code>ã€<code>(...)</code> è¯­æ³•å…è®¸è·¨å±‚æ•è·è·¯å¾„ï¼ˆä¾‹å¦‚ Modal åœ¨å½“å‰è·¯å¾„ä¸Šå±•ç¤ºè¯¦æƒ…ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ç‰¹æ®Šæ–‡ä»¶</strong>
<ul>
<li><code>loading.tsx</code>ï¼šSegment çº§ Suspense Loadingã€‚</li>
<li><code>error.tsx</code>ï¼šè¾¹ç•Œé”™è¯¯å¤„ç†ï¼Œå¿…é¡»æ˜¯ Client Componentã€‚</li>
<li><code>not-found.tsx</code>ï¼š404 å…œåº•ï¼Œè°ƒç”¨ <code>notFound()</code> è§¦å‘ã€‚</li>
</ul>
</li>
<li><strong>Metadata ä¸ SEO</strong>
<ul>
<li><code>export const metadata</code> æ”¯æŒé™æ€é…ç½®ï¼›<code>generateMetadata</code> é€‚ç”¨äºåŠ¨æ€ã€‚</li>
<li>å¯é€šè¿‡ <code>robots</code>ã€<code>alternates</code>ã€<code>openGraph</code> ç­‰å±æ€§å¢å¼º SEOã€‚</li>
</ul>
</li>
</ol>
<h3 id="22-å®æˆ˜æ¡ˆä¾‹è¥é”€ç«™--åšå®¢çš„è·¯ç”±ç¼–æ’"><a class="header" href="#22-å®æˆ˜æ¡ˆä¾‹è¥é”€ç«™--åšå®¢çš„è·¯ç”±ç¼–æ’">2.2 å®æˆ˜æ¡ˆä¾‹ï¼šè¥é”€ç«™ + åšå®¢çš„è·¯ç”±ç¼–æ’</a></h3>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>åœ¨ <code>/</code> ä¸‹å±•ç¤ºè¥é”€å†…å®¹ï¼›</li>
<li><code>/blog</code> æä¾›åˆ—è¡¨é¡µï¼›</li>
<li><code>/blog/[slug]</code> å±•ç¤ºè¯¦æƒ…ï¼Œæ”¯æŒé™æ€ç”Ÿæˆä¸é”™è¯¯å›é€€ï¼›</li>
<li><code>/blog/(...)</code> é…ç½®æ‹¦æˆªè·¯ç”±ï¼Œå®ç°è¯¦æƒ… Modalï¼›</li>
<li><code>/dashboard</code> ä½¿ç”¨å¹¶è¡Œè·¯ç”±ï¼Œæ ¹æ®ç™»å½•çŠ¶æ€æ¸²æŸ“ä¸åŒ Slotã€‚</li>
</ul>
<p>å…³é”®ç›®å½•ï¼š</p>
<pre><code class="language-text">app/
â”œâ”€â”€ (marketing)/page.tsx
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ [slug]/page.tsx
â”‚   â”œâ”€â”€ [slug]/loading.tsx
â”‚   â”œâ”€â”€ [slug]/error.tsx
â”‚   â””â”€â”€ (..)/preview/@modal/(.)[slug]/page.tsx
â””â”€â”€ dashboard/
    â”œâ”€â”€ layout.tsx
    â”œâ”€â”€ page.tsx
    â”œâ”€â”€ @analytics/page.tsx
    â””â”€â”€ @activity/page.tsx
</code></pre>
<p>éƒ¨åˆ†ä»£ç ï¼š</p>
<pre><code class="language-tsx">// app/blog/layout.tsx
export const metadata = {
  title: 'æŠ€æœ¯åšå®¢',
  description: 'åŸºäº Next.js App Router æ„å»ºçš„åšå®¢æ¨¡å—'
}

export default function BlogLayout({ children }: { children: React.ReactNode }) {
  return (
    &lt;section className="mx-auto max-w-4xl px-6 py-10"&gt;
      &lt;header className="mb-12"&gt;
        &lt;h1 className="text-3xl font-bold"&gt;Next.js æŠ€æœ¯åšå®¢&lt;/h1&gt;
        &lt;p className="mt-2 text-slate-500"&gt;åˆ†äº« RSCã€ç¼“å­˜ã€å…¨æ ˆå®è·µç­‰ä¸»é¢˜&lt;/p&gt;
      &lt;/header&gt;
      {children}
    &lt;/section&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// app/blog/page.tsx
import Link from 'next/link'

async function getPosts() {
  const res = await fetch('https://api.example.com/posts', {
    next: { revalidate: 60, tags: ['posts'] }
  })
  return res.json()
}

export default async function BlogIndex() {
  const posts = await getPosts()
  return (
    &lt;div className="space-y-8"&gt;
      {posts.map((post: any) =&gt; (
        &lt;article key={post.slug} className="rounded border border-slate-800 p-6"&gt;
          &lt;h2 className="text-2xl font-semibold"&gt;
            &lt;Link href={`/blog/${post.slug}`}&gt;{post.title}&lt;/Link&gt;
          &lt;/h2&gt;
          &lt;p className="mt-3 text-slate-400"&gt;{post.excerpt}&lt;/p&gt;
          &lt;time className="mt-2 block text-xs text-slate-500"&gt;{post.publishedAt}&lt;/time&gt;
        &lt;/article&gt;
      ))}
    &lt;/div&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// app/blog/[slug]/page.tsx
import { Metadata } from 'next'
import { notFound } from 'next/navigation'

interface PostPageProps {
  params: { slug: string }
}

export async function generateStaticParams() {
  const posts = await fetch('https://api.example.com/posts').then(r =&gt; r.json())
  return posts.slice(0, 50).map((post: any) =&gt; ({ slug: post.slug }))
}

export async function generateMetadata({ params }: PostPageProps): Promise&lt;Metadata&gt; {
  const res = await fetch(`https://api.example.com/posts/${params.slug}`, { next: { revalidate: 300 } })
  if (!res.ok) return {}
  const post = await res.json()
  return {
    title: post.title,
    description: post.seoDescription,
    openGraph: {
      title: post.title,
      description: post.seoDescription,
      type: 'article'
    }
  }
}

export default async function PostPage({ params }: PostPageProps) {
  const res = await fetch(`https://api.example.com/posts/${params.slug}`, {
    next: { revalidate: 300, tags: ['post', params.slug] }
  })
  if (!res.ok) notFound()
  const post = await res.json()
  return (
    &lt;article className="prose prose-invert"&gt;
      &lt;h1&gt;{post.title}&lt;/h1&gt;
      &lt;p className="text-sm text-slate-500"&gt;å‘å¸ƒäº {post.publishedAt}&lt;/p&gt;
      &lt;div dangerouslySetInnerHTML={{ __html: post.contentHtml }} /&gt;
    &lt;/article&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// app/blog/[slug]/loading.tsx
export default function PostLoading() {
  return (
    &lt;div className="space-y-4"&gt;
      &lt;div className="h-10 w-2/3 animate-pulse rounded bg-slate-800" /&gt;
      &lt;div className="h-4 w-full animate-pulse rounded bg-slate-800" /&gt;
      &lt;div className="h-4 w-5/6 animate-pulse rounded bg-slate-800" /&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>å¹¶è¡Œè·¯ç”±ç¤ºä¾‹ï¼š</p>
<pre><code class="language-tsx">// app/dashboard/layout.tsx
export default function DashboardLayout({
  children,
  analytics,
  activity
}: {
  children: React.ReactNode
  analytics: React.ReactNode
  activity: React.ReactNode
}) {
  return (
    &lt;div className="grid min-h-screen grid-cols-[240px,1fr]"&gt;
      &lt;aside className="border-r border-slate-900 p-6"&gt;/* ...ä¾§è¾¹æ ... */&lt;/aside&gt;
      &lt;main className="grid grid-cols-1 lg:grid-cols-2"&gt;
        &lt;section className="p-6"&gt;{children}&lt;/section&gt;
        &lt;section className="border-l border-slate-900 p-6"&gt;{analytics}&lt;/section&gt;
        &lt;section className="border-t border-slate-900 p-6 lg:col-span-2"&gt;{activity}&lt;/section&gt;
      &lt;/main&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h3 id="23-è¿›é˜¶æ‰©å±•ç‰¹æ®Šåœºæ™¯ä¸ä¿¡æ¯æ¶æ„"><a class="header" href="#23-è¿›é˜¶æ‰©å±•ç‰¹æ®Šåœºæ™¯ä¸ä¿¡æ¯æ¶æ„">2.3 è¿›é˜¶æ‰©å±•ï¼šç‰¹æ®Šåœºæ™¯ä¸ä¿¡æ¯æ¶æ„</a></h3>
<ol>
<li><strong>æ‹¦æˆªè·¯ç”±å®ç° Modal è¯¦æƒ…</strong>
<ul>
<li>ä½¿ç”¨ <code>(..)</code> è¯­æ³•åœ¨å½“å‰ Segment ä¸Šå¼¹å‡º Modalï¼Œé¿å…è·³è½¬ç ´åä¸Šä¸‹æ–‡ï¼š</li>
</ul>
</li>
</ol>
<pre><code class="language-tsx">// app/blog/(..)preview/@modal/(.)[slug]/page.tsx
import { Suspense } from 'react'
import { Modal } from '@components/modal'

export default function PreviewModal({ params }: { params: { slug: string } }) {
  return (
    &lt;Modal&gt;
      &lt;Suspense fallback={&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}&gt;
        {/* åœ¨ Modal ä¸­å¤ç”¨è¯¦æƒ…ç»„ä»¶ */}
      &lt;/Suspense&gt;
    &lt;/Modal&gt;
  )
}
</code></pre>
<ol start="2">
<li>
<p><strong>å¤šè¯­è¨€ / å¤šåŒºåŸŸè·¯ç”±</strong></p>
<ul>
<li>åˆ©ç”¨ <code>next-intl</code> æˆ– <code>@lingui/macro</code>ï¼Œå°† <code>app/[locale]/...</code> ä½œä¸ºæ ¹ Segmentï¼›</li>
<li>é€šè¿‡ <code>generateStaticParams</code> æå‰ç”Ÿæˆ <code>['zh-CN', 'en']</code> ç­‰ localeï¼›</li>
<li>ä½¿ç”¨ <code>i18n.routing.locales</code> é…ç½® fallback è¯­è¨€ã€‚</li>
</ul>
</li>
<li>
<p><strong>èµ„æºé©±åŠ¨è·¯ç”±</strong></p>
<ul>
<li>å°† <code>app/api</code> å†…çš„ Route Handler ä¸é¡µé¢å…±äº«æ•°æ®æ¨¡å‹ï¼šå®šä¹‰ <code>resource</code> å±‚ï¼ˆ<code>src/resources/post.ts</code>ï¼‰å°è£…å¢åˆ æ”¹æŸ¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>é¢å‘ SEO çš„ URL è®¾è®¡</strong></p>
<ul>
<li>URL è¯­ä¹‰åŒ–ï¼š<code>/blog/react-server-components-guide</code> è€Œé <code>/blog/post-123</code>ï¼›</li>
<li>Segment å‘½åä¿æŒçŸ­å°ï¼Œå¿…è¦æ—¶ä½¿ç”¨ Route Group <code>(marketing)</code> éšè—ç›®å½•ã€‚</li>
</ul>
</li>
<li>
<p><strong>è·¯å¾„æ®µé…ç½®ä¸ <code>route.ts</code></strong></p>
<ul>
<li><code>export const dynamic = 'force-dynamic' | 'error' | 'force-static'</code> æ§åˆ¶ Segment æ¸²æŸ“ç­–ç•¥ï¼›</li>
<li><code>route.ts</code> å¯è¿”å›é HTML å“åº”ï¼Œé€‚åˆ BFF æ¥å£æˆ–æµå¼è¾“å‡ºã€‚</li>
</ul>
</li>
</ol>
<h3 id="24-å¸¸è§é™·é˜±ä¸æ’æŸ¥"><a class="header" href="#24-å¸¸è§é™·é˜±ä¸æ’æŸ¥">2.4 å¸¸è§é™·é˜±ä¸æ’æŸ¥</a></h3>
<ul>
<li>åŠ¨æ€è·¯å¾„å‚æ•°ç¼ºå¤±å¯¼è‡´ 404ï¼šç¡®ä¿ <code>generateStaticParams</code> è¦†ç›–å¸¸è§è·¯å¾„ï¼Œå¹¶åœ¨ <code>notFound()</code> å‘ç”Ÿæ—¶æä¾›å›é€€ UIã€‚</li>
<li>å¹¶è¡Œè·¯ç”±æ•°æ®é‡å¤è¯·æ±‚ï¼šå°†å…±äº«æ•°æ®ä¸Šç§»åˆ° <code>layout.tsx</code> å¹¶é€šè¿‡ <code>React.cloneElement</code> æˆ– Context å‘ä¸‹ä¼ é€’ï¼Œé¿å…å¤š Slot é‡å¤ fetchã€‚</li>
<li>æ¨¡æ€è·¯ç”±è¿”å›åæ»šåŠ¨ä½ç½®é‡ç½®ï¼šåœ¨ Client Component ä¸­ä½¿ç”¨ <code>useRouter().back()</code> æ­é… <code>ScrollRestoration</code> æˆ–æ‰‹åŠ¨ <code>window.history.back()</code>ã€‚</li>
<li><code>generateMetadata</code> ä¸­è¯·æ±‚è¿‡æ…¢ï¼šæ·»åŠ  <code>next: { revalidate }</code> å¹¶è®¾ç½® <code>cache</code>ï¼Œæˆ–åœ¨ <code>generateMetadata</code> ä¸­å‡å°‘è¯·æ±‚æ•°é‡ã€‚</li>
<li><code>notFound()</code> æ— æ³•è§¦å‘è‡ªå®šä¹‰ 404ï¼šç¡®ä¿ Segment å±‚çº§åŒ…å« <code>not-found.tsx</code>ï¼Œä¸” <code>notFound()</code> è°ƒç”¨ä½äºæœåŠ¡å™¨ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<h3 id="25-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º"><a class="header" href="#25-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º">2.5 é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º</a></h3>
<ul>
<li>æ„å»ºå‡º <code>/</code>ã€<code>/blog</code>ã€<code>/blog/[slug]</code> çš„å®Œæ•´é¡µé¢ä¸å¸ƒå±€ï¼›</li>
<li>å®ç°å¹¶è¡Œè·¯ç”± <code>@analytics</code> / <code>@activity</code> å¹¶ç†è§£ Slot ä¸ children çš„ç»„åˆï¼›</li>
<li>åœ¨ <code>generateMetadata</code> ä¸­æ ¹æ® slug ç”Ÿæˆ SEO é…ç½®ï¼›</li>
<li>å®Œæˆä¸€æ¬¡ Modal æ‹¦æˆªè·¯ç”±çš„å®ç°ï¼Œå¹¶å¤„ç†å…³é—­é€»è¾‘ï¼›</li>
<li>æ’°å†™ä¸€ä»½ä¿¡æ¯æ¶æ„æ–‡æ¡£ï¼šåˆ—å‡ºæ‰€æœ‰ Segmentã€Data Sourceã€è‡ªå®šä¹‰é…ç½®ã€‚</li>
</ul>
<hr />
<h2 id="æ¨¡å—ä¸‰æ•°æ®è·å–ç¼“å­˜ä½“ç³»ä¸æµå¼æ¸²æŸ“"><a class="header" href="#æ¨¡å—ä¸‰æ•°æ®è·å–ç¼“å­˜ä½“ç³»ä¸æµå¼æ¸²æŸ“">æ¨¡å—ä¸‰ï¼šæ•°æ®è·å–ã€ç¼“å­˜ä½“ç³»ä¸æµå¼æ¸²æŸ“</a></h2>
<h3 id="31-åŸºç¡€æ¦‚å¿µæ¢³ç†"><a class="header" href="#31-åŸºç¡€æ¦‚å¿µæ¢³ç†">3.1 åŸºç¡€æ¦‚å¿µæ¢³ç†</a></h3>
<ol>
<li><strong>ç»Ÿä¸€æ•°æ®å±‚ä¸ RSC Fetch</strong>
<ul>
<li>App Router ä¸­æ¨èé‡‡ç”¨â€œæ•°æ®å‡½æ•° + ç»„ä»¶â€åˆ†å±‚ï¼šæ‰€æœ‰æ•°æ®è¯·æ±‚é›†ä¸­åœ¨ <code>src/services</code> æˆ– <code>src/data-access</code> ä¸­å®ç°ï¼ŒServer Component è°ƒç”¨æ•°æ®å‡½æ•°ï¼Œä¿æŒé€»è¾‘å†…èšã€‚</li>
<li>é»˜è®¤çš„ <code>fetch</code> è°ƒç”¨ä¼šè¢« Next.js è‡ªåŠ¨ç¼“å­˜ï¼ˆCache APIï¼‰ï¼Œç¼“å­˜é”®ç”±è¯·æ±‚ URLã€headersã€<code>next</code> é…ç½®ç»„åˆå†³å®šã€‚è‹¥æœªè®¾ç½® <code>cache</code>ï¼Œé»˜è®¤ <code>force-cache</code>ï¼Œæ„å‘³ç€é™æ€åŒ–ã€‚</li>
<li>å¯ä»¥é€šè¿‡ <code>cache: 'no-store'</code> æˆ– <code>dynamic = 'force-dynamic'</code> æ˜ç¡®æŒ‡å®šåŠ¨æ€æ¸²æŸ“ã€‚</li>
</ul>
</li>
<li><strong>ç¼“å­˜å±‚çº§</strong>
<ul>
<li><strong>Request Cache</strong>ï¼š<code>fetch</code> ç¼“å­˜ï¼›æ”¯æŒ <code>revalidate</code> ä¸ <code>tags</code> æ§åˆ¶ã€‚</li>
<li><strong>Router Cache</strong>ï¼šè·¯ç”±çº§åˆ«ç¼“å­˜ï¼Œå½±å“é¡µé¢çº§çš„å†éªŒè¯è¡Œä¸ºã€‚</li>
<li><strong>Full Route Cache</strong>ï¼šSSR + Route Handler ä¹Ÿä¼šè¢«ç¼“å­˜ï¼Œæ ¹æ®é…ç½®å†³å®šæ˜¯å¦é‡ç”¨ã€‚</li>
<li><strong>CDN Cache</strong>ï¼šéƒ¨ç½²åœ¨ Vercel ç­‰å¹³å°æ—¶çš„è¾¹ç¼˜ç¼“å­˜ï¼Œéœ€è¦ç»“åˆ Response headers æ§åˆ¶ã€‚</li>
</ul>
</li>
<li><strong>å†éªŒè¯ç­–ç•¥</strong>
<ul>
<li><code>next: { revalidate: number }</code>ï¼šè®¾ç½®ç§’çº§å†éªŒè¯å‘¨æœŸï¼ˆISRï¼‰ã€‚</li>
<li><code>revalidatePath('/blog')</code>ï¼šæ‰‹åŠ¨è§¦å‘æŸ Segment ç¼“å­˜å¤±æ•ˆï¼Œå¤šç”¨äº Server Action / Route Handler å†™æ“ä½œååˆ·æ–°ã€‚</li>
<li><code>revalidateTag('posts')</code>ï¼šåŸºäº Tag çš„ç»†ç²’åº¦ç¼“å­˜åˆ·æ–°ã€‚</li>
<li><code>unstable_cache</code>ï¼šå°†ä»»æ„å¼‚æ­¥å‡½æ•°åŒ…è£…è¿›ç¼“å­˜ï¼Œå¯è‡ªå®šä¹‰ keyã€revalidateã€tagsã€‚</li>
</ul>
</li>
<li><strong>æµå¼æ¸²æŸ“ï¼ˆStreamingï¼‰</strong>
<ul>
<li>App Router é»˜è®¤æ”¯æŒ React 18 Streamingã€‚ä½¿ç”¨ <code>Suspense</code> + <code>loading.tsx</code> æˆ–ç»„ä»¶çº§ Suspense æ§åˆ¶åˆ‡ç‰‡åŠ è½½ã€‚</li>
<li>å¯ä»¥ä¸º <code>fetch</code> è®¾ç½® <code>next: { revalidate }</code> å¹¶æ­é… Suspenseï¼Œå®ç° PPRï¼ˆPartial Prerenderingï¼‰ï¼šé¦–å±é™æ€ + åŠ¨æ€ç‰‡æ®µã€‚</li>
<li>åœ¨ Route Handler ä¸­å¯ä»¥è¿”å› <code>ReadableStream</code> å®ç° Server-Sent Events æˆ– Chat æµå¼å“åº”ã€‚</li>
</ul>
</li>
<li><strong>ä¿¡æ¯ä¸€è‡´æ€§ä¸å¹¶å‘å®‰å…¨</strong>
<ul>
<li>å¯¹äºå†™æ“ä½œï¼Œä½¿ç”¨ <code>startTransition</code> + <code>useOptimistic</code> å¯æ”¹å–„ä¹è§‚ UIã€‚Server Action ä¸­è°ƒç”¨ <code>revalidateTag</code> ç¡®ä¿æ•°æ®åŒæ­¥ã€‚</li>
<li>æ›´æ–°æ•°æ®åº“æ—¶éœ€æ³¨æ„äº‹åŠ¡ï¼Œä½¿ç”¨ Prisma çš„ <code>prisma.$transaction</code> æˆ– Drizzle çš„ <code>transaction</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 id="32-å®æˆ˜æ¡ˆä¾‹æ„å»ºå¤šæ•°æ®æºåšå®¢--ä»ªè¡¨ç›˜"><a class="header" href="#32-å®æˆ˜æ¡ˆä¾‹æ„å»ºå¤šæ•°æ®æºåšå®¢--ä»ªè¡¨ç›˜">3.2 å®æˆ˜æ¡ˆä¾‹ï¼šæ„å»ºâ€œå¤šæ•°æ®æºåšå®¢ + ä»ªè¡¨ç›˜â€</a></h3>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>åšå®¢åˆ—è¡¨æ¥è‡ª CMS APIï¼ˆé™æ€ + ISRï¼‰ã€‚</li>
<li>ä»ªè¡¨ç›˜ç»Ÿè®¡æ•°æ®æ¥è‡ªå†…éƒ¨ APIï¼ˆåŠ¨æ€ï¼‰ã€‚</li>
<li>å…¬å‘Šæ æ¥è‡ª Redisï¼ˆTag ç¼“å­˜ + æ‰‹åŠ¨åˆ·æ–°ï¼‰ã€‚</li>
<li>åˆ©ç”¨ <code>SWR</code> åœ¨å®¢æˆ·ç«¯è¿›è¡Œå¢é‡åˆ·æ–°ï¼Œæé«˜äº¤äº’ä½“éªŒã€‚</li>
</ul>
<h4 id="321-æ•°æ®è®¿é—®å±‚æŠ½è±¡"><a class="header" href="#321-æ•°æ®è®¿é—®å±‚æŠ½è±¡">3.2.1 æ•°æ®è®¿é—®å±‚æŠ½è±¡</a></h4>
<pre><code class="language-ts">// src/services/blog.ts
import 'server-only'
import { cache } from 'react'
import { env } from '@/config/env'

const BLOG_API = `${env.CMS_ENDPOINT}/posts`

export const getPosts = cache(async () =&gt; {
  const res = await fetch(BLOG_API, {
    next: { revalidate: 120, tags: ['posts'] }
  })
  if (!res.ok) throw new Error('è·å–æ–‡ç« åˆ—è¡¨å¤±è´¥')
  return res.json() as Promise&lt;Post[]&gt;
})

export async function getPostBySlug(slug: string) {
  const res = await fetch(`${BLOG_API}/${slug}`, {
    next: { revalidate: 300, tags: ['post', slug] }
  })
  if (res.status === 404) return null
  if (!res.ok) throw new Error('è·å–æ–‡ç« è¯¦æƒ…å¤±è´¥')
  return res.json() as Promise&lt;Post&gt;
}
</code></pre>
<pre><code class="language-ts">// src/services/dashboard.ts
import 'server-only'

export async function getDashboardStats(userId: string) {
  const res = await fetch(`${process.env.DASHBOARD_API}/users/${userId}/stats`, {
    cache: 'no-store' // ç¡®ä¿å®æ—¶æ€§
  })
  if (!res.ok) throw new Error('ä»ªè¡¨ç›˜ç»Ÿè®¡è·å–å¤±è´¥')
  return res.json() as Promise&lt;{ views: number; clicks: number; conversion: number }&gt;
}
</code></pre>
<pre><code class="language-ts">// src/services/announcement.ts
import 'server-only'
import { redis } from '@/lib/redis'

export async function getAnnouncements() {
  const cacheKey = 'announcement:list'
  const cached = await redis.get(cacheKey)
  if (cached) return JSON.parse(cached)
  const latest = await redis.zrange('announcement:sorted', 0, 9)
  await redis.set(cacheKey, JSON.stringify(latest), { ex: 60 })
  return latest
}

export async function invalidateAnnouncements() {
  await redis.del('announcement:list')
}
</code></pre>
<h4 id="322-é¡µé¢é›†æˆ"><a class="header" href="#322-é¡µé¢é›†æˆ">3.2.2 é¡µé¢é›†æˆ</a></h4>
<pre><code class="language-tsx">// app/(marketing)/page.tsx
import { Suspense } from 'react'
import { FeaturedPosts } from '@/components/featured-posts'
import { AnnouncementPanel } from '@/components/announcement-panel'

export default function MarketingHome() {
  return (
    &lt;main className="space-y-16 px-8 py-20"&gt;
      &lt;section className="text-center"&gt;
        &lt;h1 className="text-5xl font-black"&gt;Deep Dive Next.js&lt;/h1&gt;
        &lt;p className="mt-6 text-lg text-slate-400"&gt;
          ä» App Router åˆ°è¾¹ç¼˜æ¸²æŸ“ï¼ŒæŒæ¡å…¨é“¾è·¯èƒ½åŠ›çš„å®æˆ˜æ‰‹å†Œã€‚
        &lt;/p&gt;
      &lt;/section&gt;
      &lt;section className="grid gap-8 md:grid-cols-3"&gt;
        &lt;Suspense fallback={&lt;div className="col-span-3"&gt;ç²¾é€‰æ–‡ç« åŠ è½½ä¸­...&lt;/div&gt;}&gt;
          &lt;FeaturedPosts /&gt;
        &lt;/Suspense&gt;
        &lt;Suspense fallback={&lt;div className="col-span-3"&gt;å…¬å‘ŠåŠ è½½ä¸­...&lt;/div&gt;}&gt;
          &lt;AnnouncementPanel /&gt;
        &lt;/Suspense&gt;
      &lt;/section&gt;
    &lt;/main&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// src/components/featured-posts.tsx â€” Server Component
import { getPosts } from '@/services/blog'

export async function FeaturedPosts() {
  const posts = await getPosts()
  return (
    &lt;div className="col-span-2 space-y-6"&gt;
      {posts.slice(0, 3).map(post =&gt; (
        &lt;article key={post.slug} className="rounded border border-slate-800 px-6 py-5"&gt;
          &lt;h2 className="text-2xl font-semibold"&gt;{post.title}&lt;/h2&gt;
          &lt;p className="mt-2 text-sm text-slate-400"&gt;{post.summary}&lt;/p&gt;
        &lt;/article&gt;
      ))}
    &lt;/div&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// src/components/announcement-panel.tsx
import { getAnnouncements } from '@/services/announcement'

export async function AnnouncementPanel() {
  const announcements = await getAnnouncements()
  return (
    &lt;aside className="rounded border border-slate-800 p-6"&gt;
      &lt;h3 className="text-xl font-semibold"&gt;æœ€æ–°å…¬å‘Š&lt;/h3&gt;
      &lt;ul className="mt-4 space-y-3 text-sm text-slate-400"&gt;
        {announcements.map((item: string, index: number) =&gt; (
          &lt;li key={index}&gt;ğŸ“£ {item}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/aside&gt;
  )
}
</code></pre>
<h4 id="323-å®¢æˆ·ç«¯å¢å¼ºswr-ä¸-react-query"><a class="header" href="#323-å®¢æˆ·ç«¯å¢å¼ºswr-ä¸-react-query">3.2.3 å®¢æˆ·ç«¯å¢å¼ºï¼šSWR ä¸ React Query</a></h4>
<pre><code class="language-tsx">// src/components/dashboard/overview.client.tsx
'use client'

import useSWR from 'swr'

const fetcher = (url: string) =&gt; fetch(url).then(res =&gt; res.json())

export function DashboardOverview({ userId }: { userId: string }) {
  const { data, error, isLoading, mutate } = useSWR(`/api/dashboard/${userId}`, fetcher, {
    refreshInterval: 60_000
  })

  if (isLoading) return &lt;div&gt;ç»Ÿè®¡åŠ è½½ä¸­...&lt;/div&gt;
  if (error) return &lt;div&gt;åŠ è½½å¤±è´¥ï¼š{error.message}&lt;/div&gt;

  return (
    &lt;div className="grid grid-cols-3 gap-4"&gt;
      &lt;StatBlock label="è®¿é—®é‡" value={data.views} /&gt;
      &lt;StatBlock label="ç‚¹å‡»é‡" value={data.clicks} /&gt;
      &lt;StatBlock label="è½¬åŒ–ç‡" value={`${(data.conversion * 100).toFixed(1)}%`} /&gt;
      &lt;button
        onClick={() =&gt; mutate()}
        className="col-span-3 rounded bg-slate-800 px-4 py-2 text-sm"
      &gt;
        æ‰‹åŠ¨åˆ·æ–°
      &lt;/button&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h3 id="33-è¿›é˜¶ä¸»é¢˜"><a class="header" href="#33-è¿›é˜¶ä¸»é¢˜">3.3 è¿›é˜¶ä¸»é¢˜</a></h3>
<ol>
<li><strong><code>unstable_cache</code> è‡ªå®šä¹‰ç¼“å­˜å±‚</strong></li>
</ol>
<pre><code class="language-ts">import { unstable_cache } from 'next/cache'

const getTopPosts = unstable_cache(
  async (limit: number) =&gt; {
    const res = await fetch(`${BLOG_API}?limit=${limit}`)
    return res.json()
  },
  ['top-posts'],
  { revalidate: 180, tags: ['posts', 'top-posts'] }
)
</code></pre>
<ul>
<li>ä¼˜åŠ¿ï¼šå¯å¯¹ä»»æ„å‡½æ•°ï¼ˆé fetchï¼‰æ·»åŠ ç¼“å­˜ï¼›å¯é…åˆæ•°æ®åº“æŸ¥è¯¢ã€‚</li>
<li>æ³¨æ„ï¼šç¼“å­˜ç»“æœåŸºäºå‡½æ•°å‚æ•°åºåˆ—åŒ–ï¼ˆJSON.stringifyï¼‰ï¼Œé¿å…ä¼ å…¥å‡½æ•°ã€Symbolã€‚</li>
</ul>
<ol start="2">
<li><strong>Draft Mode</strong></li>
</ol>
<ul>
<li>é€‚ç”¨äº CMS é¢„è§ˆï¼›ä½¿ç”¨ <code>next/headers</code> ä¸­çš„ <code>draftMode()</code> åˆ¤æ–­æ˜¯å¦å¤„äºè‰ç¨¿æ¨¡å¼ã€‚</li>
<li>Route Handler å†™æ³•ï¼š</li>
</ul>
<pre><code class="language-ts">// app/api/draft/route.ts
import { draftMode } from 'next/headers'

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const enable = searchParams.get('enable') === 'true'
  draftMode().set({ enable })
  return new Response(null, { status: 307, headers: { Location: '/' } })
}
</code></pre>
<ol start="3">
<li><strong>å¹¶å‘æ•°æ®è·å–</strong></li>
</ol>
<ul>
<li>ä½¿ç”¨ <code>Promise.all</code> æˆ– <code>parallel</code> ç»„ä»¶æå‡æ•ˆç‡ï¼›</li>
<li>åˆ©ç”¨ <code>React.cache</code> åŒ…è£…å‡½æ•°é¿å…é‡å¤è¯·æ±‚ï¼›</li>
<li>å¤„ç†ä¸²è¡Œä¾èµ–æ—¶ä½¿ç”¨ <code>await</code> ä¿è¯é¡ºåºã€‚</li>
</ul>
<ol start="4">
<li><strong><code>fetch</code> Advanced Options</strong></li>
</ol>
<ul>
<li><code>next: { tags: ['posts'], revalidate: 60 }</code></li>
<li><code>next: { revalidate: 0 }</code> ç­‰ä»· <code>cache: 'no-store'</code></li>
<li><code>next: { fetchOptions: { method: 'POST' } }</code> é€‚ç”¨äº POST è¯·æ±‚ï¼Œä½† SSR éœ€è°¨æ…ã€‚</li>
</ul>
<ol start="5">
<li><strong>æµå¼æ¸²æŸ“ä¸ Suspense</strong></li>
</ol>
<ul>
<li><code>app/blog/[slug]/page.tsx</code> ä¸­å¯¹è¯„è®ºåŒºå¯ç”¨ Suspenseï¼š</li>
</ul>
<pre><code class="language-tsx">&lt;Suspense fallback={&lt;CommentsSkeleton /&gt;}&gt;
  &lt;CommentsSection slug={params.slug} /&gt;
&lt;/Suspense&gt;
</code></pre>
<ul>
<li>å°†è¯„è®ºåŒºå®šä¹‰ä¸º Client Componentï¼Œä¸ WebSocket æˆ– SSE æ¥å…¥ã€‚</li>
</ul>
<ol start="6">
<li><strong>Optimistic UI ä¸è¡¨å•åé¦ˆ</strong></li>
</ol>
<ul>
<li><code>useOptimistic</code> å…è®¸åœ¨ Server Action æäº¤å‰æ›´æ–° UIï¼›</li>
<li>åœ¨ mutate æ“ä½œä¸­è°ƒç”¨ <code>revalidateTag</code>ï¼Œé¿å… stale UIã€‚</li>
</ul>
<ol start="7">
<li><strong>æ•°æ®å®‰å…¨ä¸é˜²æŠ¤</strong></li>
</ol>
<ul>
<li>Route Handler éœ€éªŒè¯èº«ä»½ï¼Œé¿å… <code>fetch</code> å°†æ•æ„Ÿä¿¡æ¯æš´éœ²ç»™å®¢æˆ·ç«¯ã€‚</li>
<li>ä½¿ç”¨ <code>server-only</code> å’Œ <code>env</code> çº¦æŸç¡®ä¿ Server Component ä¸å¯¼å‡ºå¯†é’¥ã€‚</li>
</ul>
<h3 id="34-å¸¸è§é™·é˜±ä¸æ’æŸ¥"><a class="header" href="#34-å¸¸è§é™·é˜±ä¸æ’æŸ¥">3.4 å¸¸è§é™·é˜±ä¸æ’æŸ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>åœºæ™¯</th><th>å…¸å‹é”™è¯¯</th><th>æ’æŸ¥åŠæ³•</th><th>è§£å†³ç­–ç•¥</th></tr></thead><tbody>
<tr><td>ç¼“å­˜ä¸ç”Ÿæ•ˆ</td><td><code>cache: 'no-store'</code> ä¸ <code>revalidate</code> å†²çª</td><td>æ£€æŸ¥ <code>fetch</code> é…ç½®ï¼›<code>no-store</code> ä¼šå¿½ç•¥ <code>revalidate</code></td><td>å°† <code>cache</code> æ”¹ä¸º <code>force-cache</code> æˆ–ç§»é™¤ <code>no-store</code></td></tr>
<tr><td>é‡å¤è¯·æ±‚</td><td>åŒä¸€è¯·æ±‚åœ¨å¤šä¸ªç»„ä»¶è§¦å‘</td><td>ä½¿ç”¨ <code>React.cache</code> æˆ–åœ¨ <code>layout.tsx</code> æå‰è¯·æ±‚</td><td>å»ºç«‹æ•°æ®å±‚å¤ç”¨å‡½æ•°</td></tr>
<tr><td>SSE/Stream ä¸­æ–­</td><td>Edge Runtime ä¸æ”¯æŒéƒ¨åˆ† Node API</td><td>æ£€æŸ¥è¿è¡Œæ—¶é…ç½®ï¼›SSE åœ¨ Edge éœ€è¦ <code>ReadableStream</code></td><td>åˆ‡æ¢ <code>export const runtime = 'nodejs'</code> æˆ–ä½¿ç”¨å…¼å®¹ API</td></tr>
<tr><td>ä½¿ç”¨æ•°æ®åº“è¿æ¥å¤±è´¥</td><td>Server Component å¤šæ¬¡åˆ›å»ºè¿æ¥</td><td>é‡‡ç”¨å…¨å±€å•ä¾‹ï¼ˆPrisma Clientï¼‰æˆ–è¿æ¥æ± </td><td>åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨ <code>global</code> å¤ç”¨å®ä¾‹</td></tr>
<tr><td><code>revalidateTag</code> æ— æ•ˆ</td><td>Tag æœªç»‘å®šåˆ° <code>fetch</code> è¯·æ±‚</td><td>æ£€æŸ¥ <code>next: { tags }</code></td><td>ç¡®ä¿ Tag ä¸ revalidate ä¸€è‡´</td></tr>
<tr><td><code>draftMode</code> æ— æ³•å¯ç”¨</td><td>æœªåœ¨ Route Handler ä¸­è®¾ç½®</td><td>ä»…åœ¨ Route Handler å¯è°ƒç”¨ <code>draftMode().set</code></td><td>æ·»åŠ  <code>/api/draft</code> è·¯ç”±</td></tr>
</tbody></table>
</div>
<h3 id="35-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º"><a class="header" href="#35-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º">3.5 é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º</a></h3>
<ul>
<li>åœ¨ <code>/blog</code> ä¸­å®ç° <code>revalidate: 60</code> + <code>tags: ['posts']</code>ï¼Œå¹¶é€šè¿‡ API æ£€æŸ¥ç¼“å­˜æ˜¯å¦æŒ‰æ—¶åˆ·æ–°ã€‚</li>
<li>åœ¨ <code>/dashboard</code> ä¸­é›†æˆåŠ¨æ€æ•°æ®ï¼ˆä¸ç¼“å­˜ï¼‰ï¼Œä½¿ç”¨ <code>SWR</code> è¿›è¡Œå®¢æˆ·ç«¯åˆ·æ–°ã€‚</li>
<li>å®Œæˆä¸€æ¬¡ <code>revalidateTag('posts')</code> è°ƒç”¨ï¼ˆä¾‹å¦‚åœ¨ Server Action å‘å¸ƒæ–‡ç« åï¼‰ã€‚</li>
<li>èƒ½å¤Ÿè§£é‡Š Request Cache / Router Cache / Full Route Cache çš„å·®å¼‚ï¼Œå¹¶ç»™å‡ºå‘½ä¸­ç¤ºä¾‹ã€‚</li>
<li>æ„å»ºä¸€å¥—â€œæ•°æ®å±‚æ–‡æ¡£â€ï¼Œåˆ—å‡ºæ¯ä¸ªæ•°æ®å‡½æ•°çš„ç¼“å­˜ç­–ç•¥ã€å¤±æ•ˆè§¦å‘æ–¹å¼ã€ä¾èµ–åç«¯æ¥å£ã€‚</li>
</ul>
<h3 id="36-å»¶ä¼¸é˜…è¯»ä¸èµ„æº"><a class="header" href="#36-å»¶ä¼¸é˜…è¯»ä¸èµ„æº">3.6 å»¶ä¼¸é˜…è¯»ä¸èµ„æº</a></h3>
<ul>
<li><a href="https://nextjs.org/docs/app/building-your-application/data-fetching">Next.js Data Fetching</a> å®˜æ–¹æ–‡æ¡£ã€‚</li>
<li>Vercel Caching Guideï¼šæ·±å…¥ç†è§£å¹³å°ç¼“å­˜é“¾è·¯ã€‚</li>
<li>Guillermo Rauchã€ŠThe Road to React Server Componentsã€‹æ¼”è®²ã€‚</li>
<li>SWR å®˜æ–¹æ–‡æ¡£ä¸ç¤ºä¾‹ä»“åº“ï¼Œäº†è§£å®¢æˆ·ç«¯æ•°æ®åŒæ­¥ç­–ç•¥ã€‚</li>
<li>Prisma Data Platformã€PlanetScaleã€Supabase ç­‰æ•°æ®æºä¸ Next.js é›†æˆæ¡ˆä¾‹ã€‚</li>
</ul>
<hr />
<h2 id="æ¨¡å—å››server-actionsroute-handlers-ä¸åå°èƒ½åŠ›"><a class="header" href="#æ¨¡å—å››server-actionsroute-handlers-ä¸åå°èƒ½åŠ›">æ¨¡å—å››ï¼šServer Actionsã€Route Handlers ä¸åå°èƒ½åŠ›</a></h2>
<h3 id="41-åŸºç¡€æ¦‚å¿µæ¢³ç†"><a class="header" href="#41-åŸºç¡€æ¦‚å¿µæ¢³ç†">4.1 åŸºç¡€æ¦‚å¿µæ¢³ç†</a></h3>
<ol>
<li><strong>Route Handlers (<code>app/api/*/route.ts</code>)</strong>
<ul>
<li>æ›¿ä»£ Pages Router ä¸­çš„ <code>pages/api</code>ï¼Œæ”¯æŒ <code>GET/POST/PUT/DELETE</code> ç­‰ HTTP æ–¹æ³•ã€‚</li>
<li>é»˜è®¤è¿è¡Œåœ¨ Node.js Runtimeï¼Œå¯é€šè¿‡ <code>export const runtime = 'edge'</code> åˆ‡æ¢ã€‚</li>
<li>é€‚ç”¨äº BFFã€Webhookã€åå°ç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ ç­‰åœºæ™¯ã€‚</li>
</ul>
</li>
<li><strong>Server Actions</strong>
<ul>
<li>åœ¨ Server Component æˆ– <code>"use client"</code> ç»„ä»¶ä¸­ç›´æ¥å®šä¹‰æœåŠ¡å™¨å‡½æ•°ï¼Œé€šè¿‡ <code>"use server"</code> æŒ‡ä»¤æ ‡è®°ã€‚</li>
<li>æ”¯æŒ <code>form</code> æäº¤æˆ–åœ¨ Client Component ä¸­é€šè¿‡ <code>startTransition(() =&gt; action())</code> è°ƒç”¨ã€‚</li>
<li>è‡ªåŠ¨ä¸ RSC payload é›†æˆï¼Œæ— éœ€é¢å¤– API è°ƒç”¨ï¼Œå®ç°æœåŠ¡å™¨å†™æ“ä½œä¸ UI æ›´æ–°é«˜å†…èšã€‚</li>
</ul>
</li>
<li><strong>Middleware (<code>middleware.ts</code>)</strong>
<ul>
<li>è¿è¡Œäº Edgeï¼Œé€‚åˆåšé‡å®šå‘ã€é‡å†™ã€é‰´æƒé—¨ç¦ã€AB Testã€å®éªŒå¼€å…³ç­‰ã€‚</li>
<li>ä½¿ç”¨ <code>NextResponse</code> æ§åˆ¶æµç¨‹ï¼Œ<code>request.nextUrl</code> æä¾› URL ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li><strong>Edge vs Node Runtime</strong>
<ul>
<li>Edge Runtime é™åˆ¶ï¼šä¸æ”¯æŒ Node åŸç”Ÿæ¨¡å—ï¼ˆå¦‚ <code>fs</code>ã€<code>crypto</code> éƒ¨åˆ† APIï¼‰ï¼Œä»…å¯ä½¿ç”¨ Web APIã€‚</li>
<li>Node Runtime å¯è®¿é—®æ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“é©±åŠ¨ï¼Œä½†å“åº”é€Ÿåº¦ç•¥æ…¢ã€‚</li>
<li>å†³ç­–ç­–ç•¥ï¼šå¯¹å»¶è¿Ÿæ•æ„Ÿã€éœ€å…¨çƒåŠ é€Ÿçš„åŠŸèƒ½ç½®äº Edgeï¼›æ¶‰åŠæ•°æ®åº“äº‹åŠ¡ã€å¤æ‚é€»è¾‘ç•™åœ¨ Nodeã€‚</li>
</ul>
</li>
<li><strong>è¡¨å•ä¸éªŒè¯</strong>
<ul>
<li>Server Action é€‚åˆå¤„ç† <code>formData</code>ï¼Œå¯æ­é… <code>zod</code> æ ¡éªŒï¼›å¯¹å®æ—¶éªŒè¯éœ€æ±‚å¯åœ¨å®¢æˆ·ç«¯é…åˆ <code>useForm</code> åº“ã€‚</li>
<li>å¯¹æ–‡ä»¶ä¸Šä¼ ä½¿ç”¨ <code>Route Handler</code> + <code>FormData</code> + Storageï¼ˆS3/R2/Vercel Blobï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 id="42-å®æˆ˜æ¡ˆä¾‹åå°å‘å¸ƒä¸é‰´æƒç³»ç»Ÿ"><a class="header" href="#42-å®æˆ˜æ¡ˆä¾‹åå°å‘å¸ƒä¸é‰´æƒç³»ç»Ÿ">4.2 å®æˆ˜æ¡ˆä¾‹ï¼šåå°å‘å¸ƒä¸é‰´æƒç³»ç»Ÿ</a></h3>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>æ„å»ºä¸€ä¸ªæ”¯æŒç”¨æˆ·ç™»å½•ã€å‘å¸ƒæ–‡ç« ã€ç¼“å­˜å†éªŒè¯çš„åå°ã€‚</li>
<li>ä½¿ç”¨ Server Action å¤„ç†è¡¨å•æäº¤ï¼›Route Handler æä¾› APIï¼›Middleware å®ç°è®¿é—®æ§åˆ¶ã€‚</li>
<li>æ”¯æŒ Edge + Node æ··åˆéƒ¨ç½²ï¼šç™»å½•é‰´æƒåœ¨ Edgeï¼›æ•°æ®åº“æ“ä½œåœ¨ Nodeã€‚</li>
</ul>
<h4 id="421-é‰´æƒä¸-session"><a class="header" href="#421-é‰´æƒä¸-session">4.2.1 é‰´æƒä¸ Session</a></h4>
<p>ä½¿ç”¨ <code>Auth.js</code>ï¼ˆNextAuthï¼‰æˆ–è‡ªå®šä¹‰ JWTã€‚</p>
<pre><code class="language-ts">// app/api/auth/[...nextauth]/route.ts
import NextAuth from 'next-auth'
import GitHub from 'next-auth/providers/github'
import Credentials from 'next-auth/providers/credentials'
import { verifyPassword } from '@/lib/hash'
import { findUserByEmail } from '@/services/user'

const handler = NextAuth({
  providers: [
    GitHub,
    Credentials({
      name: 'credentials',
      credentials: {
        email: { label: 'Email', type: 'email' },
        password: { label: 'Password', type: 'password' }
      },
      async authorize(credentials) {
        if (!credentials) return null
        const user = await findUserByEmail(credentials.email)
        if (!user) return null
        const valid = await verifyPassword(credentials.password, user.password)
        if (!valid) return null
        return { id: user.id, name: user.name, email: user.email }
      }
    })
  ],
  session: { strategy: 'jwt' }
})

export { handler as GET, handler as POST }
</code></pre>
<p>åœ¨ Server Component ä¸­è·å– Sessionï¼š</p>
<pre><code class="language-ts">// app/dashboard/page.tsx
import { getServerSession } from 'next-auth'
import { redirect } from 'next/navigation'
import { authOptions } from '@/lib/auth'

export default async function DashboardHome() {
  const session = await getServerSession(authOptions)
  if (!session) redirect('/login')
  return &lt;DashboardShell user={session.user} /&gt;
}
</code></pre>
<h4 id="422-middleware-æ§åˆ¶è®¿é—®"><a class="header" href="#422-middleware-æ§åˆ¶è®¿é—®">4.2.2 Middleware æ§åˆ¶è®¿é—®</a></h4>
<pre><code class="language-ts">// middleware.ts
import { NextResponse } from 'next/server'
import { getToken } from 'next-auth/jwt'

const AUTH_PATHS = ['/dashboard', '/settings']

export async function middleware(request: Request) {
  const { pathname } = new URL(request.url)
  if (!AUTH_PATHS.some(path =&gt; pathname.startsWith(path))) return NextResponse.next()
  const token = await getToken({ req: request as any })
  if (!token) {
    const loginUrl = new URL('/login', request.url)
    loginUrl.searchParams.set('callbackUrl', pathname)
    return NextResponse.redirect(loginUrl)
  }
  return NextResponse.next()
}

export const config = {
  matcher: ['/dashboard/:path*', '/settings/:path*']
}
</code></pre>
<h4 id="423-server-action-å‘å¸ƒæ–‡ç« "><a class="header" href="#423-server-action-å‘å¸ƒæ–‡ç« ">4.2.3 Server Action å‘å¸ƒæ–‡ç« </a></h4>
<pre><code class="language-tsx">// app/dashboard/posts/new/page.tsx
import { createPostAction } from '@/app/dashboard/posts/actions'
import { redirect } from 'next/navigation'

export default function NewPostPage() {
  return (
    &lt;form action={createPostAction} className="space-y-6 rounded border border-slate-900 p-8"&gt;
      &lt;label className="block"&gt;
        &lt;span className="text-sm text-slate-400"&gt;æ ‡é¢˜&lt;/span&gt;
        &lt;input name="title" required className="mt-1 w-full rounded bg-slate-900 p-3" /&gt;
      &lt;/label&gt;
      &lt;label className="block"&gt;
        &lt;span className="text-sm text-slate-400"&gt;å†…å®¹&lt;/span&gt;
        &lt;textarea name="content" rows={10} className="mt-1 w-full rounded bg-slate-900 p-3" /&gt;
      &lt;/label&gt;
      &lt;button type="submit" className="rounded bg-lime-500 px-4 py-2 text-sm font-semibold text-slate-950"&gt;
        å‘å¸ƒæ–‡ç« 
      &lt;/button&gt;
    &lt;/form&gt;
  )
}
</code></pre>
<pre><code class="language-ts">// app/dashboard/posts/actions.ts
'use server'

import { revalidatePath, revalidateTag } from 'next/cache'
import { z } from 'zod'
import { createPost } from '@/services/post'
import { auth } from '@/lib/auth'

const PostSchema = z.object({
  title: z.string().min(3),
  content: z.string().min(10)
})

export async function createPostAction(formData: FormData) {
  const session = await auth()
  if (!session) throw new Error('æœªç™»å½•ç”¨æˆ·')

  const payload = PostSchema.parse({
    title: formData.get('title'),
    content: formData.get('content')
  })

  await createPost({ ...payload, authorId: session.user.id })

  revalidatePath('/blog')
  revalidateTag('posts')

  return { success: true }
}
</code></pre>
<h4 id="424-route-handler-æ–‡ä»¶ä¸Šä¼ edge--s3"><a class="header" href="#424-route-handler-æ–‡ä»¶ä¸Šä¼ edge--s3">4.2.4 Route Handler æ–‡ä»¶ä¸Šä¼ ï¼ˆEdge + S3ï¼‰</a></h4>
<pre><code class="language-ts">// app/api/upload/route.ts
import { NextResponse } from 'next/server'
import { PutObjectCommand } from '@aws-sdk/client-s3'
import { s3 } from '@/lib/s3'

export const runtime = 'nodejs'

export async function POST(request: Request) {
  const formData = await request.formData()
  const file = formData.get('file') as File | null
  if (!file) return NextResponse.json({ error: 'ç¼ºå°‘æ–‡ä»¶' }, { status: 400 })

  const arrayBuffer = await file.arrayBuffer()
  const key = `uploads/${Date.now()}-${file.name}`

  await s3.send(
    new PutObjectCommand({
      Bucket: process.env.S3_BUCKET,
      Key: key,
      Body: Buffer.from(arrayBuffer),
      ContentType: file.type
    })
  )

  return NextResponse.json({ url: `https://cdn.example.com/${key}` })
}
</code></pre>
<h4 id="425-æ— -api-å½¢æ€çš„-server-action"><a class="header" href="#425-æ— -api-å½¢æ€çš„-server-action">4.2.5 æ—  API å½¢æ€çš„ Server Action</a></h4>
<pre><code class="language-tsx">'use client'
import { useFormStatus } from 'react-dom'
import { deletePostAction } from '@/app/dashboard/posts/actions'

function DeleteButton({ postId }: { postId: string }) {
  const { pending } = useFormStatus()
  return (
    &lt;button type="submit" disabled={pending} className="text-sm text-red-400"&gt;
      {pending ? 'åˆ é™¤ä¸­...' : 'åˆ é™¤'}
    &lt;/button&gt;
  )
}

export function PostItem({ post }: { post: Post }) {
  return (
    &lt;form action={deletePostAction.bind(null, { id: post.id })} className="flex items-center justify-between"&gt;
      &lt;span&gt;{post.title}&lt;/span&gt;
      &lt;DeleteButton postId={post.id} /&gt;
    &lt;/form&gt;
  )
}
</code></pre>
<pre><code class="language-ts">// app/dashboard/posts/actions.ts
'use server'

import { deletePostById } from '@/services/post'

export async function deletePostAction({ id }: { id: string }) {
  await deletePostById(id)
  revalidatePath('/dashboard/posts')
  revalidateTag('posts')
}
</code></pre>
<h3 id="43-è¿›é˜¶ä¸»é¢˜å®‰å…¨æ€§èƒ½ä¸å¯-observability"><a class="header" href="#43-è¿›é˜¶ä¸»é¢˜å®‰å…¨æ€§èƒ½ä¸å¯-observability">4.3 è¿›é˜¶ä¸»é¢˜ï¼šå®‰å…¨ã€æ€§èƒ½ä¸å¯ observability</a></h3>
<ol>
<li>
<p><strong>å®‰å…¨ç­–ç•¥</strong></p>
<ul>
<li>åœ¨ Route Handler ä¸­éªŒè¯åŸç‚¹ï¼ˆOriginï¼‰ã€CSRF Tokenï¼›æˆ–ä½¿ç”¨ <code>next-safe-middleware</code> è‡ªåŠ¨æ³¨å…¥å®‰å…¨å¤´éƒ¨ã€‚</li>
<li>å¯¹ä¸Šä¼ æ–‡ä»¶æ‰§è¡Œ MIME ç±»å‹éªŒè¯ã€å¤§å°é™åˆ¶ï¼›äº§å“ä¸­éœ€ä½¿ç”¨ç—…æ¯’æ‰«æï¼ˆå¦‚ Cloudflare R2 + Scanningï¼‰ã€‚</li>
<li>ä½¿ç”¨ <code>Rate Limiting</code> é˜²æ­¢åˆ·æ¥å£ï¼Œå¯å¼•å…¥ <code>@upstash/ratelimit</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>å¯¹äºé¢‘ç¹è°ƒç”¨çš„æ¥å£ï¼Œå¯ç”¨ CDN ç¼“å­˜ï¼ˆ<code>Cache-Control</code>ï¼‰ã€‚</li>
<li>å°†å¤§è®¡ç®—ä»»åŠ¡è¿ç§»åˆ° Edge Function / Serverless Function workerã€‚</li>
<li>Server Action é¿å…åœ¨å‡½æ•°å†…éƒ¨åšæ˜‚è´µè®¡ç®—ï¼Œä¿æŒå¹‚ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>Observability</strong></p>
<ul>
<li>åœ¨ Route Handler å†…é›†æˆæ—¥å¿—ï¼ˆ<code>pino</code>ã€<code>winston</code>ï¼‰å†™å…¥å¯è§‚æµ‹å¹³å°ã€‚</li>
<li>ä½¿ç”¨ OpenTelemetryï¼ˆNext.js 14.2 å¼€å§‹æ”¯æŒï¼‰æ”¶é›† traceï¼š</li>
</ul>
</li>
</ol>
<pre><code class="language-ts">// instrumentation.ts
export async function register() {
  if (process.env.NEXT_RUNTIME === 'nodejs') {
    await import('./src/otel/tracing')
  }
}
</code></pre>
<ol start="4">
<li>
<p><strong>æ··åˆè¿è¡Œæ—¶ç­–ç•¥</strong></p>
<ul>
<li>åœ¨åŒä¸€é¡¹ç›®ä¸­ï¼Œ<code>app/api</code> ä¸‹éƒ¨åˆ†è·¯ç”±è®¾ä¸º <code>edge</code>ï¼Œéƒ¨åˆ† <code>node</code>ã€‚</li>
<li>Edge è·¯ç”±é€‚åˆå¤„ç†ç½‘é¡µé‡å†™ã€AB å®éªŒã€åœ°ç†åˆ†å‘ï¼›Node è·¯ç”±å¤„ç†æ•°æ®åº“ã€‚</li>
</ul>
</li>
<li>
<p><strong>Server Action ä¸å®¢æˆ·ç«¯çŠ¶æ€åº“ç»“åˆ</strong></p>
<ul>
<li>ä½¿ç”¨ <code>useTransition</code> æ­é… <code>zustand</code> æˆ– <code>redux</code> æ›´æ–°æœ¬åœ°çŠ¶æ€ï¼›</li>
<li><code>useOptimistic</code> + <code>form</code> è§£è€¦ï¼š</li>
</ul>
</li>
</ol>
<pre><code class="language-tsx">'use client'
import { useOptimistic } from 'react'

export function CommentsForm({ addComment }: { addComment: (text: string) =&gt; Promise&lt;void&gt; }) {
  const [optimisticComments, addOptimisticComment] = useOptimistic&lt;Comment[]&gt;([], (state, value) =&gt; [value, ...state])
  const action = async (formData: FormData) =&gt; {
    const text = formData.get('comment') as string
    addOptimisticComment({ id: Date.now().toString(), text })
    await addComment(text)
  }
  return (
    &lt;form action={action} className="space-y-4"&gt;
      &lt;textarea name="comment" required className="w-full rounded bg-slate-900 p-3" /&gt;
      &lt;button type="submit" className="rounded bg-lime-500 px-4 py-2 text-sm font-semibold text-slate-950"&gt;
        æäº¤è¯„è®º
      &lt;/button&gt;
      &lt;ul className="space-y-2"&gt;
        {optimisticComments.map(item =&gt; (
          &lt;li key={item.id}&gt;{item.text}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/form&gt;
  )
}
</code></pre>
<ol start="6">
<li><strong>é”™è¯¯å¤„ç†ä¸å›é€€</strong>
<ul>
<li>Server Action æŠ›å‡ºçš„é”™è¯¯ä¼šè¢«ç›´æ¥æš´éœ²ç»™å®¢æˆ·ç«¯ï¼Œæ¨èæ•è·å¹¶è¿”å›ç»“æ„åŒ–ç»“æœï¼š</li>
</ul>
</li>
</ol>
<pre><code class="language-ts">export async function createPostAction(formData: FormData) {
  try {
    // ...ä¸šåŠ¡é€»è¾‘
    return { ok: true }
  } catch (error: any) {
    return { ok: false, message: error.message }
  }
}
</code></pre>
<ol start="7">
<li><strong>ä¸ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ</strong>
<ul>
<li>Stripe Checkoutï¼šåœ¨ Route Handler ä¸­åˆ›å»º Sessionï¼Œé‡å®šå‘åˆ° Stripeã€‚</li>
<li>GitHub Webhookï¼šå®šä¹‰ <code>/api/webhooks/github</code>ï¼ŒéªŒè¯ signatureã€‚</li>
<li>Resend / Postmarkï¼šServer Action é‡Œè°ƒç”¨é‚®ä»¶å‘é€æœåŠ¡ã€‚</li>
</ul>
</li>
</ol>
<h3 id="44-å¸¸è§é™·é˜±ä¸æ’æŸ¥"><a class="header" href="#44-å¸¸è§é™·é˜±ä¸æ’æŸ¥">4.4 å¸¸è§é™·é˜±ä¸æ’æŸ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>åœºæ™¯</th><th>å…¸å‹é”™è¯¯</th><th>æ’æŸ¥æ­¥éª¤</th><th>è§£å†³å»ºè®®</th></tr></thead><tbody>
<tr><td>Server Action ä¸æ‰§è¡Œ</td><td>æœªåœ¨å‡½æ•°é¡¶éƒ¨å†™ <code>"use server"</code></td><td>æ£€æŸ¥ action æ–‡ä»¶æˆ–å‡½æ•°æ˜¯å¦è¢« tree-shaking</td><td>ç¡®ä¿ <code>"use server"</code> ä½äºæ¨¡å—é¡¶å±‚</td></tr>
<tr><td>Server Action æˆä¸ºå®¢æˆ·ç«¯ bundle</td><td>æ„å¤–åœ¨ Client Component ä¸­ <code>import</code> action</td><td>ç¼–è¯‘è¾“å‡ºä¸­ <code>bundle</code> è­¦å‘Š</td><td>ä½¿ç”¨ <code>server-only</code> æ ‡è®°ï¼Œä»…é€šè¿‡ <code>action</code> å±æ€§ç»‘å®š</td></tr>
<tr><td>Middleware è¯»å– cookie å¤±è´¥</td><td>Edge Runtime ä¸‹ <code>request.cookies</code> å¼‚å¸¸</td><td>ä½¿ç”¨ <code>cookies()</code> API</td><td>éµå¾ª Next.js æ–‡æ¡£ä½¿ç”¨ <code>cookies().get</code></td></tr>
<tr><td>Route Handler è¿”å› JSON æŠ¥é”™</td><td>è¿”å›é Response å¯¹è±¡</td><td>æ£€æŸ¥æ˜¯å¦ <code>return NextResponse.json(...)</code></td><td>å§‹ç»ˆä½¿ç”¨ <code>NextResponse</code> æ„é€ </td></tr>
<tr><td>æ–‡ä»¶ä¸Šä¼ ä½“ç§¯è¿‡å¤§å¯¼è‡´ 413</td><td>Serverless å‡½æ•°è¶…å‡ºé™åˆ¶</td><td>æŸ¥çœ‹å¹³å°é™åˆ¶ï¼ˆVercel é»˜è®¤ 4.5MB Edgeï¼Œ10MB Nodeï¼‰</td><td>ä½¿ç”¨å¤–éƒ¨å­˜å‚¨çš„ç­¾åä¸Šä¼ ç­–ç•¥</td></tr>
<tr><td>Auth Session å¤±æ•ˆ</td><td><code>NEXTAUTH_URL</code> é…ç½®é”™è¯¯</td><td>æ£€æŸ¥ç¯å¢ƒå˜é‡</td><td>åœ¨éƒ¨ç½²ç¯å¢ƒå‡†ç¡®è®¾ç½®åŸŸå</td></tr>
</tbody></table>
</div>
<h3 id="45-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º"><a class="header" href="#45-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º">4.5 é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º</a></h3>
<ul>
<li>å®ç°ä¸€ä¸ª Server Action æäº¤è¡¨å•å¹¶åˆ·æ–°ç¼“å­˜ï¼ˆ<code>revalidatePath</code>ï¼‰ï¼›</li>
<li>åœ¨ <code>/api</code> ä¸‹åˆ›å»ºè‡³å°‘ 2 ä¸ª Route Handlerï¼Œå¹¶åˆ†åˆ«éƒ¨ç½²åœ¨ Edge/Nodeï¼›</li>
<li>é€šè¿‡ Middleware æ§åˆ¶ <code>/dashboard</code> è®¿é—®ï¼Œæœªç™»å½•æ—¶é‡å®šå‘åˆ° <code>/login</code>ï¼›</li>
<li>é…ç½®æ—¥å¿—è¾“å‡ºåˆ°å¤–éƒ¨æœåŠ¡ï¼ˆå¦‚ Sentryã€Logtailï¼‰ï¼›</li>
<li>è®°å½•ä¸€ä»½è¿è¡Œæ—¶å·®å¼‚è¡¨ï¼Œè¯´æ˜æ¯ä¸ªæ¥å£å¯¹åº”çš„è¿è¡Œæ—¶ã€ä¾èµ–ã€ä½¿ç”¨é™åˆ¶ã€‚</li>
</ul>
<h3 id="46-å»¶ä¼¸é˜…è¯»ä¸èµ„æº"><a class="header" href="#46-å»¶ä¼¸é˜…è¯»ä¸èµ„æº">4.6 å»¶ä¼¸é˜…è¯»ä¸èµ„æº</a></h3>
<ul>
<li><a href="https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions">Server Actions æ–‡æ¡£</a></li>
<li>Auth.js å®˜æ–¹ç¤ºä¾‹ï¼ˆ<code>next-auth</code>ï¼‰ï¼š<code>with-drizzle</code>ã€<code>with-prisma</code> ç­‰æ¨¡æ¿ã€‚</li>
<li>Edge Middleware å®è·µæ¡ˆä¾‹ï¼šVercel å®˜æ–¹åšå®¢ã€ŠEdge Middleware Patternsã€‹ã€‚</li>
<li>Stripe + Next.js é›†æˆæŒ‡å—ï¼ˆå®˜æ–¹ docs / exampleï¼‰ã€‚</li>
<li>OpenTelemetry + Next.js Observability å·¥ä½œåŠèµ„æ–™ã€‚</li>
</ul>
<hr />
<h2 id="æ¨¡å—äº”å‰ç«¯è¡¨ç°ä¼˜åŒ–seo-ä¸ç”¨æˆ·ä½“éªŒ"><a class="header" href="#æ¨¡å—äº”å‰ç«¯è¡¨ç°ä¼˜åŒ–seo-ä¸ç”¨æˆ·ä½“éªŒ">æ¨¡å—äº”ï¼šå‰ç«¯è¡¨ç°ä¼˜åŒ–ã€SEO ä¸ç”¨æˆ·ä½“éªŒ</a></h2>
<h3 id="51-åŸºç¡€æ¦‚å¿µæ¢³ç†"><a class="header" href="#51-åŸºç¡€æ¦‚å¿µæ¢³ç†">5.1 åŸºç¡€æ¦‚å¿µæ¢³ç†</a></h3>
<ol>
<li><strong>Partial Prerenderingï¼ˆPPRï¼‰</strong>
<ul>
<li>Next.js 14 å¼•å…¥ï¼Œå…è®¸å°†é¡µé¢ä¸­çš„é™æ€ç‰‡æ®µæå‰ Prerenderï¼ŒåŒæ—¶ä¿ç•™åŠ¨æ€ç‰‡æ®µåœ¨è¯·æ±‚æ—¶æ¸²æŸ“ã€‚</li>
<li><code>export const dynamic = 'force-static'</code> + Suspense åŒ…è£¹åŠ¨æ€ç»„ä»¶å³å¯æ¿€æ´» PPRã€‚</li>
</ul>
</li>
<li><strong>Core Web Vitalsï¼ˆCWVï¼‰</strong>
<ul>
<li>CLSã€LCPã€FID/FCPï¼šè¡¡é‡é¡µé¢æ€§èƒ½çš„å…³é”®æŒ‡æ ‡ã€‚</li>
<li>Next.js æä¾› <code>next/script</code>ã€<code>next/font</code>ã€<code>next/image</code> ç­‰ä¼˜åŒ–å·¥å…·ã€‚</li>
</ul>
</li>
<li><strong>å›¾ç‰‡ä¼˜åŒ–</strong>
<ul>
<li><code>next/image</code> æ”¯æŒè‡ªé€‚åº”å°ºå¯¸ã€å»¶è¿ŸåŠ è½½ï¼›ç»“åˆ Image CDNï¼ˆVercel Image Optimizationï¼‰å‡å°‘è´Ÿè½½ã€‚</li>
<li>è‡ªæ‰˜ç®¡æ—¶éœ€é…ç½® <code>loader</code>ã€‚</li>
</ul>
</li>
<li><strong>å­—ä½“ä¼˜åŒ–</strong>
<ul>
<li><code>next/font/local</code> ä¸ <code>next/font/google</code>ï¼šåœ¨æ„å»ºæ—¶æ‰“åŒ…å­—ä½“ï¼Œé¿å… FOUT/FOITã€‚</li>
</ul>
</li>
<li><strong>Metadata ç³»ç»Ÿ</strong>
<ul>
<li><code>export const metadata</code> + <code>generateMetadata</code> ç”Ÿæˆ SEO ä¿¡æ¯ã€‚</li>
<li><code>robots</code>, <code>sitemap</code>, <code>openGraph</code>, <code>twitter</code> ç­‰å­—æ®µéœ€æ ¹æ®ä¸šåŠ¡ç»†åŒ–ã€‚</li>
</ul>
</li>
<li><strong>å¯è®¿é—®æ€§ / å›½é™…åŒ–</strong>
<ul>
<li>é€šè¿‡ <code>next-intl</code>ã€<code>react-aria</code> ç­‰åº“ä¿è¯å¤šè¯­è¨€ä¸æ— éšœç¢ã€‚</li>
<li>App Router æ”¯æŒ <code>app/[locale]/</code> è·¯ç”±ç»“æ„ï¼›metadata äº¦å¯å¯¹åº”å¤šè¯­è¨€ã€‚</li>
</ul>
</li>
<li><strong>å®¢æˆ·ç«¯æ€§èƒ½</strong>
<ul>
<li>åˆ©ç”¨ RSC é™ä½ bundleï¼›é…åˆ <code>useTransition</code>ã€æ‡’åŠ è½½ç»„ä»¶è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</li>
<li>ä¿æŒ Client Component è½»é‡ï¼Œé¿å…å†…è”å¤§å‹æ•°æ®ç»“æ„ã€‚</li>
</ul>
</li>
</ol>
<h3 id="52-å®æˆ˜æ¡ˆä¾‹æ‰“é€ é«˜æ€§èƒ½è¥é”€ç«™"><a class="header" href="#52-å®æˆ˜æ¡ˆä¾‹æ‰“é€ é«˜æ€§èƒ½è¥é”€ç«™">5.2 å®æˆ˜æ¡ˆä¾‹ï¼šæ‰“é€ é«˜æ€§èƒ½è¥é”€ç«™</a></h3>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>ä½¿ç”¨ PPR ä¸ Suspense ä¼˜åŒ–é¦–å±åŠ è½½ï¼›</li>
<li>å¼•å…¥ <code>next/image</code> ä¸ <code>next/font</code>ï¼›</li>
<li>é…ç½® metadataã€ç»“æ„åŒ–æ•°æ®ï¼ˆSchema.orgï¼‰ã€Sitemapã€‚</li>
</ul>
<h4 id="521-ppr--suspense"><a class="header" href="#521-ppr--suspense">5.2.1 PPR + Suspense</a></h4>
<pre><code class="language-tsx">// app/(marketing)/page.tsx
export const revalidate = 300
export const dynamic = 'force-static'

export default function MarketingPage() {
  return (
    &lt;main&gt;
      &lt;HeroSection /&gt;
      &lt;Suspense fallback={&lt;TestimonialsSkeleton /&gt;}&gt;
        &lt;Testimonials /&gt;
      &lt;/Suspense&gt;
      &lt;Suspense fallback={&lt;PricingSkeleton /&gt;}&gt;
        &lt;PricingTable /&gt;
      &lt;/Suspense&gt;
    &lt;/main&gt;
  )
}
</code></pre>
<pre><code class="language-tsx">// app/(marketing)/_components/testimonials.tsx
import { cache } from 'react'

const getTestimonials = cache(async () =&gt; {
  const res = await fetch('https://api.example.com/testimonials', { next: { revalidate: 600 } })
  return res.json()
})

export async function Testimonials() {
  const testimonials = await getTestimonials()
  return (
    &lt;section className="bg-slate-900 py-16"&gt;
      &lt;div className="mx-auto max-w-6xl px-6"&gt;
        &lt;h2 className="text-3xl font-bold"&gt;å®¢æˆ·è§è¯&lt;/h2&gt;
        &lt;div className="mt-10 grid gap-10 md:grid-cols-3"&gt;
          {testimonials.map((item: any) =&gt; (
            &lt;blockquote key={item.id} className="rounded border border-slate-800 p-6 shadow-lg shadow-slate-950/50"&gt;
              &lt;p className="text-sm text-slate-300"&gt;â€œ{item.quote}â€&lt;/p&gt;
              &lt;footer className="mt-4 text-xs text-slate-500"&gt;â€” {item.author}&lt;/footer&gt;
            &lt;/blockquote&gt;
          ))}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/section&gt;
  )
}
</code></pre>
<h4 id="522-å›¾ç‰‡ä¸å­—ä½“"><a class="header" href="#522-å›¾ç‰‡ä¸å­—ä½“">5.2.2 å›¾ç‰‡ä¸å­—ä½“</a></h4>
<pre><code class="language-tsx">// src/components/hero.tsx
import Image from 'next/image'
import { Fira_Code, Inter } from 'next/font/google'

const inter = Inter({ subsets: ['latin'], variable: '--font-inter' })
const fira = Fira_Code({ subsets: ['latin'], weight: ['400', '500', '700'], variable: '--font-code' })

export function HeroSection() {
  return (
    &lt;section className={`${inter.variable} ${fira.variable} relative overflow-hidden bg-slate-950 py-20`}&gt; 
      &lt;div className="mx-auto flex max-w-6xl flex-col items-center gap-12 px-6 text-center"&gt;
        &lt;h1 className="text-5xl font-black tracking-tight"&gt;ä¸‹ä¸€ä»£ Web åº”ç”¨ï¼Œå°½åœ¨ Next.js&lt;/h1&gt;
        &lt;p className="max-w-2xl text-lg text-slate-400"&gt;
          åˆ©ç”¨ App Routerã€Server Actionsã€Edge Functionï¼Œå°†æ€§èƒ½ä¸ä½“éªŒæå‡åˆ°æ–°æ°´å¹³ã€‚
        &lt;/p&gt;
        &lt;Image src="/assets/hero.png" alt="Next.js Dashboard" width={960} height={540} priority className="rounded shadow-2xl shadow-lime-500/10" /&gt;
      &lt;/div&gt;
    &lt;/section&gt;
  )
}
</code></pre>
<h4 id="523-metadata-ä¸ç»“æ„åŒ–æ•°æ®"><a class="header" href="#523-metadata-ä¸ç»“æ„åŒ–æ•°æ®">5.2.3 Metadata ä¸ç»“æ„åŒ–æ•°æ®</a></h4>
<pre><code class="language-ts">// app/(marketing)/layout.tsx
import type { Metadata } from 'next'

export const metadata: Metadata = {
  title: {
    default: 'Next Pro Marketing',
    template: '%s | Next Pro Marketing'
  },
  description: 'App Router + Edge + Server Actions çš„å…¨æµç¨‹è§£å†³æ–¹æ¡ˆ',
  keywords: ['Next.js', 'App Router', 'Server Actions', 'SSR', 'SEO'],
  openGraph: {
    title: 'Next Pro Marketing',
    description: 'æ·±å…¥æŒæ¡ Next.js 14/15 çš„æ ¸å¿ƒèƒ½åŠ›',
    images: [{ url: '/og-image.png', width: 1200, height: 630 }]
  },
  alternates: {
    canonical: 'https://example.com',
    languages: {
      'zh-CN': 'https://example.com/zh-cn',
      en: 'https://example.com/en'
    }
  }
}
</code></pre>
<pre><code class="language-tsx">// app/(marketing)/page.tsx
import Script from 'next/script'

const schema = {
  '@context': 'https://schema.org',
  '@type': 'SoftwareApplication',
  name: 'Next Pro App',
  applicationCategory: 'WebApplication',
  offers: {
    '@type': 'Offer',
    price: '0',
    priceCurrency: 'USD'
  }
}

export default function MarketingPage() {
  return (
    &lt;&gt;
      &lt;Script id="structured-data" type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }} /&gt;
      {/* é¡µé¢å†…å®¹ */}
    &lt;/&gt;
  )
}
</code></pre>
<h4 id="524-å›½é™…åŒ–ä¸å¯è®¿é—®æ€§"><a class="header" href="#524-å›½é™…åŒ–ä¸å¯è®¿é—®æ€§">5.2.4 å›½é™…åŒ–ä¸å¯è®¿é—®æ€§</a></h4>
<ul>
<li>ä½¿ç”¨ <code>next-intl</code>ï¼š</li>
</ul>
<pre><code class="language-tsx">// app/[locale]/layout.tsx
import { NextIntlClientProvider } from 'next-intl'
import { notFound } from 'next/navigation'

export async function generateStaticParams() {
  return [{ locale: 'zh-CN' }, { locale: 'en' }]
}

export default async function LocaleLayout({ children, params: { locale } }: any) {
  let messages
  try {
    messages = (await import(`@/messages/${locale}.json`)).default
  } catch (error) {
    notFound()
  }
  return (
    &lt;html lang={locale}&gt;
      &lt;body&gt;
        &lt;NextIntlClientProvider locale={locale} messages={messages}&gt;
          {children}
        &lt;/NextIntlClientProvider&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  )
}
</code></pre>
<ul>
<li>å¯è®¿é—®æ€§æ³¨æ„äº‹é¡¹ï¼š
<ul>
<li>ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ <code>&lt;section&gt;</code>ã€<code>&lt;nav&gt;</code>ï¼›</li>
<li>ä¸ºæ‰€æœ‰äº¤äº’å…ƒç´ æä¾› <code>aria</code> å±æ€§ï¼›</li>
<li>ä½¿ç”¨ <code>next/head</code> <code>meta</code> <code>viewport</code> <code>lang</code>ï¼›</li>
<li>é€šè¿‡ Lighthouse / Axe å·¥å…·æ£€æµ‹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="53-è¿›é˜¶ä¸»é¢˜æ€§èƒ½è°ƒä¼˜ä¸å‰ç«¯å·¥ç¨‹æ²»ç†"><a class="header" href="#53-è¿›é˜¶ä¸»é¢˜æ€§èƒ½è°ƒä¼˜ä¸å‰ç«¯å·¥ç¨‹æ²»ç†">5.3 è¿›é˜¶ä¸»é¢˜ï¼šæ€§èƒ½è°ƒä¼˜ä¸å‰ç«¯å·¥ç¨‹æ²»ç†</a></h3>
<ol>
<li><strong>æ€§èƒ½ Profiling</strong>
<ul>
<li>ä½¿ç”¨ <code>next/script</code> çš„ <code>strategy="lazyOnload"</code> æ§åˆ¶ç¬¬ä¸‰æ–¹è„šæœ¬åŠ è½½ã€‚</li>
<li><code>React Profiler</code> + <code>why-did-you-render</code> æ’æŸ¥æ¸²æŸ“æµªè´¹ã€‚</li>
<li><code>Bundle Analyzer</code> (<code>next-bundle-analyzer</code>) è¯„ä¼° Client bundleã€‚</li>
</ul>
</li>
</ol>
<pre><code class="language-js">// next.config.mjs
const withBundleAnalyzer = require('@next/bundle-analyzer')({ enabled: process.env.ANALYZE === 'true' })
module.exports = withBundleAnalyzer({ reactStrictMode: true })
</code></pre>
<ol start="2">
<li>
<p><strong>æ•°æ®å¯è§†åŒ–ä¸ Dashboard</strong></p>
<ul>
<li>é€šè¿‡ <code>Vercel Speed Insights</code> æ”¶é›†çœŸå®ç”¨æˆ·æ€§èƒ½æŒ‡æ ‡ï¼ˆRUMï¼‰ã€‚</li>
<li>é›†æˆ <code>Sentry Performance</code>ã€<code>Datadog RUM</code> ç›‘æ§ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‰ç«¯èµ„äº§ç­–ç•¥</strong></p>
<ul>
<li>å›¾ç‰‡ CDNï¼ˆVercelã€Cloudinaryï¼‰ï¼›</li>
<li>å­—ä½“å­é›†åŒ–ï¼ˆSubsetï¼‰ï¼›</li>
<li><code>next/script</code> ä¼˜åŒ–ç¬¬ä¸‰æ–¹è„šæœ¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>UI ç»„ä»¶ä½“ç³»</strong></p>
<ul>
<li>é€‰å‹ï¼š<code>shadcn/ui</code> + Radixï¼›</li>
<li>RSC ä¸‹çš„ç»„ä»¶è®¾è®¡ï¼šServer ç»„ä»¶ç”¨äº Data + Layoutï¼ŒClient ç»„ä»¶å¤„ç†äº¤äº’ï¼›</li>
<li>ç»„ä»¶ Storybookï¼šä½¿ç”¨ <code>storybook@7</code>ï¼Œåœ¨ App Router ä¸­éœ€è¦ <code>nextjs</code> frameworkã€‚</li>
</ul>
</li>
<li>
<p><strong>SEO æ‰©å±•</strong></p>
<ul>
<li>Sitemapï¼š<code>app/sitemap.ts</code> è¿”å›ç«™ç‚¹åœ°å›¾ã€‚</li>
</ul>
</li>
</ol>
<pre><code class="language-ts">// app/sitemap.ts
import { MetadataRoute } from 'next'

export default async function sitemap(): Promise&lt;MetadataRoute.Sitemap&gt; {
  const posts = await getPosts()
  return [
    { url: 'https://example.com', lastModified: new Date() },
    ...posts.map(post =&gt; ({
      url: `https://example.com/blog/${post.slug}`,
      lastModified: post.updatedAt
    }))
  ]
}
</code></pre>
<ul>
<li>Robotsï¼š<code>app/robots.ts</code> å®šä¹‰çˆ¬è™«ç­–ç•¥ã€‚</li>
<li>å¤šè¯­è¨€ SEOï¼š<code>hreflang</code>ã€<code>x-default</code>ã€‚</li>
</ul>
<ol start="6">
<li>
<p><strong>å¯è®¿é—®æ€§ï¼ˆA11yï¼‰æ·±åº¦</strong></p>
<ul>
<li>åˆ©ç”¨ <code>aria-live</code> å…¬å¸ƒåŠ¨æ€å†…å®¹ï¼›</li>
<li>é¢œè‰²å¯¹æ¯”åº¦ï¼ˆWCAG AA/AAAï¼‰ï¼›</li>
<li>é”®ç›˜å¯¼èˆª &amp; ç„¦ç‚¹ç®¡ç†ï¼šModal éœ€æ•è·ç„¦ç‚¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯è§‚æµ‹æ€§</strong></p>
<ul>
<li>ç»“åˆ <code>next/headers</code> è·å– <code>user-agent</code>ã€<code>geo</code> ä¿¡æ¯è®°å½•æ—¥å¿—ã€‚</li>
<li>ç›‘æ§ CWVï¼šé€šè¿‡ <code>reportWebVitals</code> è‡ªå®šä¹‰ä¸ŠæŠ¥ã€‚</li>
</ul>
</li>
</ol>
<pre><code class="language-ts">// app/reportWebVitals.ts
export function reportWebVitals(metric: any) {
  fetch('/api/metrics', {
    method: 'POST',
    body: JSON.stringify(metric)
  })
}
</code></pre>
<h3 id="54-å¸¸è§é™·é˜±ä¸æ’æŸ¥"><a class="header" href="#54-å¸¸è§é™·é˜±ä¸æ’æŸ¥">5.4 å¸¸è§é™·é˜±ä¸æ’æŸ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>åœºæ™¯</th><th>é—®é¢˜è¡¨ç°</th><th>è§£å†³ç­–ç•¥</th></tr></thead><tbody>
<tr><td>FOUT / FOIT</td><td>å­—ä½“é—ªçƒ</td><td>ä½¿ç”¨ <code>next/font</code>ï¼Œæˆ–åœ¨ CSS ä¸­æ·»åŠ  <code>font-display: swap</code></td></tr>
<tr><td>å›¾ç‰‡åŠ è½½æ…¢</td><td>LCP åå¤§</td><td>ä½¿ç”¨ <code>next/image</code> + é¢„åŠ è½½ + CDN</td></tr>
<tr><td>ç¬¬ä¸‰æ–¹è„šæœ¬é˜»å¡</td><td>FID å·®</td><td><code>next/script</code> <code>strategy="afterInteractive"</code> æˆ– <code>lazyOnload</code></td></tr>
<tr><td>SEO æœªç”Ÿæ•ˆ</td><td>Google æœªæŠ“å–</td><td>æ£€æŸ¥ <code>robots</code>ã€<code>sitemap</code>ã€<code>canonical</code>ï¼Œä½¿ç”¨ Search Console</td></tr>
<tr><td>Suspense ä¸å·¥ä½œ</td><td>ç»„ä»¶æœª Suspense å…¼å®¹</td><td>ç¡®ä¿ Suspense å­ç»„ä»¶è¿”å› Promiseï¼Œæˆ–ä½¿ç”¨ <code>React.lazy</code></td></tr>
<tr><td>PPR ä¸åŠ¨æ€å†²çª</td><td><code>dynamic = 'force-dynamic'</code> å¤±æ•ˆ</td><td>ç¡®è®¤ <code>revalidate</code>ã€Suspense åŒºåŸŸï¼Œä¸€å®šè¦åœ¨åŠ¨æ€ç‰‡æ®µå†…ä½¿ç”¨</td></tr>
<tr><td>å›½é™…åŒ– 404</td><td>æœªç”Ÿæˆ locale Params</td><td><code>generateStaticParams</code> è¦†ç›–æ‰€æœ‰è¯­è¨€</td></tr>
</tbody></table>
</div>
<h3 id="55-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º"><a class="header" href="#55-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º">5.5 é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º</a></h3>
<ul>
<li>åœ¨è¥é”€é¡µå¯ç”¨ PPR + Suspenseï¼Œå®ç°é¦–å±é™æ€ã€åŠ¨æ€åŒºå—æµå¼åŠ è½½ï¼›</li>
<li>æ‰€æœ‰å›¾ç‰‡å‡ä½¿ç”¨ <code>next/image</code>ï¼Œå¹¶åœ¨ Lighthouse ä¸­éªŒè¯ LCP &lt; 2.5sï¼›</li>
<li>é…ç½® metadataã€OpenGraphã€ç»“æ„åŒ–æ•°æ®ï¼Œä½¿ç”¨ Google Rich Result Test éªŒè¯ï¼›</li>
<li>å®Œæˆå¤šè¯­è¨€åˆ‡æ¢ï¼ˆè‡³å°‘ä¸¤ç§è¯­è¨€ï¼‰ï¼Œå¯¹æ¯”ä¸åŒè¯­è¨€çš„ metadataï¼›</li>
<li>è®°å½•æ€§èƒ½åŸºå‡†æŠ¥å‘Šï¼š<code>npm run analyze</code>ã€Lighthouseã€Web Vitals æ•°æ®ã€‚</li>
</ul>
<h3 id="56-å»¶ä¼¸é˜…è¯»ä¸èµ„æº"><a class="header" href="#56-å»¶ä¼¸é˜…è¯»ä¸èµ„æº">5.6 å»¶ä¼¸é˜…è¯»ä¸èµ„æº</a></h3>
<ul>
<li><code>next/image</code> ä¸ <code>next/font</code> å®˜æ–¹æŒ‡å—ã€‚</li>
<li>Web.devï¼šCore Web Vitals æ·±åº¦æ–‡ç« ã€‚</li>
<li>Vercel Speed Insightsã€Calibreã€DebugBear ç­‰æ€§èƒ½ç›‘æ§å·¥å…·ã€‚</li>
<li>a11y é¡¹ç›®ï¼š<code>testing-library/jest-dom</code>ã€<code>axe-core</code>ã€‚</li>
<li>å›½å®¶ï¼ˆåœ°åŒºï¼‰çº§ SEO è¦æ±‚ï¼ˆä¾‹å¦‚ ICPã€GDPRï¼‰çš„åˆè§„æŒ‡å—ã€‚</li>
</ul>
<hr />
<h2 id="æ¨¡å—å…­å·¥ç¨‹åŒ–æµ‹è¯•éƒ¨ç½²ä¸è¿ç»´"><a class="header" href="#æ¨¡å—å…­å·¥ç¨‹åŒ–æµ‹è¯•éƒ¨ç½²ä¸è¿ç»´">æ¨¡å—å…­ï¼šå·¥ç¨‹åŒ–ã€æµ‹è¯•ã€éƒ¨ç½²ä¸è¿ç»´</a></h2>
<h3 id="61-åŸºç¡€æ¦‚å¿µæ¢³ç†"><a class="header" href="#61-åŸºç¡€æ¦‚å¿µæ¢³ç†">6.1 åŸºç¡€æ¦‚å¿µæ¢³ç†</a></h3>
<ol>
<li><strong>æµ‹è¯•é‡‘å­—å¡”</strong>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼ˆç»„ä»¶é€»è¾‘ã€æ•°æ®å‡½æ•°ï¼‰ â†’ é›†æˆæµ‹è¯•ï¼ˆé¡µé¢ã€Server Actionï¼‰ â†’ E2E æµ‹è¯•ï¼ˆçœŸå®ç”¨æˆ·æµç¨‹ï¼‰ã€‚</li>
<li>Next.js æ¨èä½¿ç”¨ <code>Vitest</code> / <code>Jest</code> æ­é… <code>@testing-library/react</code>ã€‚</li>
</ul>
</li>
<li><strong>CI/CD æµç¨‹</strong>
<ul>
<li>Buildï¼š<code>next build</code>ï¼›Lintï¼š<code>next lint</code>ï¼›Testï¼š<code>pnpm test</code>ï¼›E2Eï¼š<code>playwright test</code>ã€‚</li>
<li>å¸¸è§å¹³å°ï¼šVercelã€GitHub Actionsã€GitLab CIã€CircleCIã€‚</li>
</ul>
</li>
<li><strong>éƒ¨ç½²ç­–ç•¥</strong>
<ul>
<li>Vercel ä¸€é”®éƒ¨ç½²ï¼ˆé»˜è®¤ Edge + Serverless å‡½æ•°ç»„åˆï¼‰ã€‚</li>
<li>Docker è‡ªå»ºï¼š<code>node:20-alpine</code> æ„å»ºç”Ÿäº§é•œåƒã€‚</li>
<li>æ··åˆéƒ¨ç½²ï¼šé™æ€èµ„æº + SSR æœåŠ¡åˆ†ç¦»ã€‚</li>
</ul>
</li>
<li><strong>å¯è§‚æµ‹æ€§ä¸æ—¥å¿—</strong>
<ul>
<li>Sentry/Logtail/Datadog/Axiom è®°å½•é”™è¯¯ä¸æ€§èƒ½ã€‚</li>
<li>OpenTelemetry + OTLP Collector + Grafana Tempoã€‚</li>
</ul>
</li>
<li><strong>é…ç½®ç®¡ç†</strong>
<ul>
<li>ç¯å¢ƒå˜é‡æŒ‰ç¯å¢ƒåˆ†å±‚ï¼š<code>.env.local</code>ï¼ˆå¼€å‘ï¼‰ã€<code>.env.production</code>ã€‚</li>
<li><code>doppler</code>ã€<code>1Password</code>ã€<code>AWS Secrets Manager</code> ç­‰å·¥å…·é›†ä¸­ç®¡ç†ã€‚</li>
</ul>
</li>
<li><strong>æŒç»­ç»´æŠ¤</strong>
<ul>
<li>ä¾èµ–å‡çº§ï¼šä½¿ç”¨ <code>Renovate</code>ã€<code>Dependabot</code>ã€‚</li>
<li>è‡ªåŠ¨åŒ–æ£€æŸ¥ï¼š<code>eslint --max-warnings=0</code>ã€<code>tsc --noEmit</code>ã€<code>pnpm dedupe</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 id="62-å®æˆ˜æ¡ˆä¾‹cicd--éƒ¨ç½²æµæ°´çº¿"><a class="header" href="#62-å®æˆ˜æ¡ˆä¾‹cicd--éƒ¨ç½²æµæ°´çº¿">6.2 å®æˆ˜æ¡ˆä¾‹ï¼šCI/CD + éƒ¨ç½²æµæ°´çº¿</a></h3>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>å»ºç«‹ GitHub Actions workflowï¼Œæ‰§è¡Œ Lint/Unit/E2Eã€‚</li>
<li>æ„å»º Docker é•œåƒå¹¶æ¨é€åˆ° Registryã€‚</li>
<li>éƒ¨ç½²åˆ° Vercel + è‡ªæ‰˜ç®¡å¤‡é€‰ã€‚</li>
</ul>
<h4 id="621-github-actions-workflow"><a class="header" href="#621-github-actions-workflow">6.2.1 GitHub Actions Workflow</a></h4>
<pre><code class="language-yaml"># .github/workflows/ci.yml
name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  lint-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'
      - uses: pnpm/action-setup@v3
        with:
          version: 8
      - run: pnpm install --frozen-lockfile
      - run: pnpm lint
      - run: pnpm test

  e2e:
    needs: lint-test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'
      - uses: pnpm/action-setup@v3
        with:
          version: 8
      - run: pnpm install --frozen-lockfile
      - run: pnpm build
      - run: pnpm start &amp;
      - run: pnpm playwright install --with-deps
      - run: pnpm playwright test
</code></pre>
<h4 id="622-vitest--testing-library-å•å…ƒæµ‹è¯•"><a class="header" href="#622-vitest--testing-library-å•å…ƒæµ‹è¯•">6.2.2 Vitest + Testing Library å•å…ƒæµ‹è¯•</a></h4>
<pre><code class="language-ts">// src/components/__tests__/hero.test.tsx
import { render, screen } from '@testing-library/react'
import { HeroSection } from '../hero'

describe('HeroSection', () =&gt; {
  it('renders headline and description', () =&gt; {
    render(&lt;HeroSection /&gt;)
    expect(screen.getByRole('heading', { name: /ä¸‹ä¸€ä»£ Web åº”ç”¨/i })).toBeInTheDocument()
    expect(screen.getByText(/App Router/)).toBeInTheDocument()
  })
})
</code></pre>
<h4 id="623-playwright-e2e-æµ‹è¯•"><a class="header" href="#623-playwright-e2e-æµ‹è¯•">6.2.3 Playwright E2E æµ‹è¯•</a></h4>
<pre><code class="language-ts">// tests/blog.spec.ts
import { test, expect } from '@playwright/test'

test.describe('åšå®¢æ¨¡å—', () =&gt; {
  test('åˆ—è¡¨åŠ è½½ä¸è¯¦æƒ…å¯¼èˆª', async ({ page }) =&gt; {
    await page.goto('http://localhost:3000/blog')
    await expect(page.getByRole('heading', { level: 1 })).toHaveText('Next.js æŠ€æœ¯åšå®¢')
    const firstCard = page.getByRole('link').first()
    const href = await firstCard.getAttribute('href')
    await firstCard.click()
    await page.waitForURL(`**${href}`)
    await expect(page.getByRole('article')).toBeVisible()
  })
})
</code></pre>
<h4 id="624-docker-éƒ¨ç½²"><a class="header" href="#624-docker-éƒ¨ç½²">6.2.4 Docker éƒ¨ç½²</a></h4>
<pre><code class="language-dockerfile"># Dockerfile
FROM node:20-alpine AS deps
WORKDIR /app
COPY package.json pnpm-lock.yaml ./
RUN npm install -g pnpm &amp;&amp; pnpm install --frozen-lockfile

FROM node:20-alpine AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN npm install -g pnpm &amp;&amp; pnpm build

FROM node:20-alpine AS runner
WORKDIR /app
ENV NODE_ENV=production
COPY --from=builder /app/public ./public
COPY --from=builder /app/.next ./.next
COPY --from=builder /app/package.json ./package.json
COPY --from=builder /app/pnpm-lock.yaml ./pnpm-lock.yaml
RUN npm install -g pnpm &amp;&amp; pnpm install --prod --frozen-lockfile
EXPOSE 3000
CMD ["pnpm", "start"]
</code></pre>
<h4 id="625-éƒ¨ç½²æ–‡æ¡£"><a class="header" href="#625-éƒ¨ç½²æ–‡æ¡£">6.2.5 éƒ¨ç½²æ–‡æ¡£</a></h4>
<ul>
<li><strong>Vercel</strong>
<ol>
<li>è¿æ¥ GitHub ä»“åº“ã€‚</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆ<code>DATABASE_URL</code>ã€<code>NEXTAUTH_SECRET</code> ç­‰ï¼‰ã€‚</li>
<li>é…ç½® <code>vercel.json</code> æ§åˆ¶æ„å»ºå‘½ä»¤ã€Edge / Node å‡½æ•°é…ç½®ã€‚</li>
<li>ä½¿ç”¨ <code>Preview</code> + <code>Production</code> ç¯å¢ƒåˆ†æ”¯ç­–ç•¥ã€‚</li>
</ol>
</li>
<li><strong>è‡ªæ‰˜ç®¡</strong>
<ol>
<li>æ„å»º Docker é•œåƒ <code>docker build -t next-pro-app .</code></li>
<li>æ¨é€åˆ° Registryï¼š<code>docker tag next-pro-app registry.example.com/next-pro-app:latest</code></li>
<li>éƒ¨ç½²è‡³ Kubernetesï¼ˆHelm Chartï¼‰æˆ– Docker Composeã€‚</li>
<li>é…ç½®åå‘ä»£ç†ï¼ˆNginx / Traefikï¼‰ + TLSã€‚</li>
</ol>
</li>
</ul>
<h3 id="63-è¿›é˜¶ä¸»é¢˜å¯è§‚æµ‹æ€§è¿è¥ä¸æ‰©å±•"><a class="header" href="#63-è¿›é˜¶ä¸»é¢˜å¯è§‚æµ‹æ€§è¿è¥ä¸æ‰©å±•">6.3 è¿›é˜¶ä¸»é¢˜ï¼šå¯è§‚æµ‹æ€§ã€è¿è¥ä¸æ‰©å±•</a></h3>
<ol>
<li>
<p><strong>æ—¥å¿—ç­–ç•¥</strong></p>
<ul>
<li>ç»“æ„åŒ–æ—¥å¿—ï¼ˆJSON æ ¼å¼ï¼‰ï¼ŒåŒ…å« requestIdã€userIdã€pathã€durationã€‚</li>
<li>åœ¨ Route Handler ä¸­ä½¿ç”¨ <code>AsyncLocalStorage</code> ä¿å­˜ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç›‘æ§ä½“ç³»</strong></p>
<ul>
<li>é”™è¯¯ç›‘æ§ï¼šSentry DSNã€‚</li>
<li>æ€§èƒ½ç›‘æ§ï¼š<code>reportWebVitals</code> + åˆ†ææœåŠ¡ã€‚</li>
<li>ä¸šåŠ¡æŒ‡æ ‡ï¼šPrometheus + Grafanaï¼Œæˆ– Vercel Analyticsã€‚</li>
</ul>
</li>
<li>
<p><strong>æ•…éšœé¢„æ¡ˆ</strong></p>
<ul>
<li>è®¾å®šã€Šé”™è¯¯é¢„ç®—ã€‹ï¼šè‹¥ 7 å¤©å†… 5xx &gt; 0.5%ï¼Œè§¦å‘å›æ»šã€‚</li>
<li>CDN ç¼“å­˜ä¸å›é€€é¡µé¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç°åº¦å‘å¸ƒ</strong></p>
<ul>
<li>åˆ©ç”¨ <code>vercel.json</code> çš„ <code>routes</code>ã€<code>header</code>ï¼›</li>
<li><code>middleware.ts</code> ä¸­è¯»å– cookieï¼Œå®ç°ç”¨æˆ·çº§ç°åº¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¤šç¯å¢ƒç®¡ç†</strong></p>
<ul>
<li>Dev / Staging / Prodï¼Œå»ºè®®ä½¿ç”¨ <code>vercel env pull</code> åŒæ­¥ã€‚</li>
<li>æ•°æ®åº“åˆ†ç¯å¢ƒï¼›é‡‡ç”¨ <code>prisma migrate diff</code> é¢„æ¼”ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼€å‘æ•ˆèƒ½</strong></p>
<ul>
<li>æ¨è <code>Turborepo</code> ä¸ <code>Remote Cache</code>ï¼›</li>
<li>VSCode é…ç½® <code>.vscode/settings.json</code>ã€<code>launch.json</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨åˆè§„</strong></p>
<ul>
<li>GDPRï¼šç”¨æˆ·æ•°æ®å¯¼å‡ºã€åˆ é™¤ã€‚</li>
<li>åˆè§„æ‰«æï¼ˆDependabot è­¦æŠ¥ã€Snykï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 id="64-å¸¸è§é™·é˜±ä¸æ’æŸ¥"><a class="header" href="#64-å¸¸è§é™·é˜±ä¸æ’æŸ¥">6.4 å¸¸è§é™·é˜±ä¸æ’æŸ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>åœºæ™¯</th><th>ç—‡çŠ¶</th><th>è§£å†³ç­–ç•¥</th></tr></thead><tbody>
<tr><td><code>next build</code> å¤±è´¥</td><td>Server Action å¯¼å…¥é”™ä½</td><td>æ£€æŸ¥ import graph</td></tr>
<tr><td>CI ç¼“å­˜æœªå‘½ä¸­</td><td>PNPM ç¼“å­˜é…ç½®é”™è¯¯</td><td>Actions è®¾ç½® <code>cache: 'pnpm'</code></td></tr>
<tr><td>Docker é•œåƒè¿‡å¤§</td><td>åŒ…å«å¼€å‘ä¾èµ–</td><td>å»ºè®®å¤šé˜¶æ®µæ„å»º + <code>pnpm install --prod</code></td></tr>
<tr><td>E2E ä¸ç¨³å®š</td><td>SSR æ•°æ®ä¾èµ–å¤–éƒ¨ API</td><td>ä½¿ç”¨ Mock Server æˆ–éŒ²åˆ¶ (MSW)</td></tr>
<tr><td>Vercel éƒ¨ç½² 504</td><td>å‡½æ•°æ‰§è¡Œè¶…æ—¶</td><td>ä¼˜åŒ– APIï¼Œæˆ–åœ¨ <code>vercel.json</code> å¢åŠ  <code>timeout</code>ï¼Œæ”¹ä¸º Edge</td></tr>
<tr><td>Prisma Client ç‰ˆæœ¬ä¸åŒ¹é…</td><td>æ„å»ºå¤±è´¥</td><td>æ„å»ºä¸è¿è¡Œ Node ç‰ˆæœ¬ä¸€è‡´ï¼Œæ‰§è¡Œ <code>prisma generate</code></td></tr>
</tbody></table>
</div>
<h3 id="65-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º"><a class="header" href="#65-é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º">6.5 é˜¶æ®µæ€§æ£€éªŒä¸è¾“å‡º</a></h3>
<ul>
<li>GitHub Actions æµæ°´çº¿è¿è¡ŒæˆåŠŸï¼ŒåŒ…å« Lintã€Unitã€E2Eã€‚</li>
<li><code>next build</code> + <code>next start</code> è¿è¡Œæ— è­¦å‘Šï¼Œå®Œæˆä¸€æ¬¡ Docker é•œåƒæ„å»ºã€‚</li>
<li>åœ¨ Vercel éƒ¨ç½²æˆåŠŸï¼Œé…ç½® Preview ç¯å¢ƒå¹¶æµ‹è¯•å›æ»šæµç¨‹ã€‚</li>
<li>å»ºç«‹ç›‘æ§é¢æ¿ï¼ˆSentry + Web Vitals ä¸ŠæŠ¥ï¼‰ã€‚</li>
<li>å®Œæˆä¸€æ¬¡ä¾èµ–å‡çº§ï¼ˆRenovate PRï¼‰ï¼Œå¹¶éªŒè¯æ— å›å½’ã€‚</li>
</ul>
<h3 id="66-å»¶ä¼¸é˜…è¯»ä¸èµ„æº"><a class="header" href="#66-å»¶ä¼¸é˜…è¯»ä¸èµ„æº">6.6 å»¶ä¼¸é˜…è¯»ä¸èµ„æº</a></h3>
<ul>
<li>Vercel å®˜æ–¹ DevOps æŒ‡å—ã€‚</li>
<li>Playwright å®˜æ–¹è¯¾ç¨‹ï¼ˆMicrosoft å­¦é™¢ï¼‰ã€‚</li>
<li><code>testing-library</code> å®è·µæ‰‹å†Œã€‚</li>
<li>OpenTelemetry å®˜æ–¹æ–‡æ¡£ã€Grafana Tempo é›†æˆç¤ºä¾‹ã€‚</li>
<li>Google SRE Handbook â€” é”™è¯¯é¢„ç®—ä¸äº‹æ•…å“åº”ç« èŠ‚ã€‚</li>
</ul>
<hr />
<h2 id="é˜¶æ®µåŒ–å­¦ä¹ è·¯å¾„ä¸è®­ç»ƒè¥è®¡åˆ’"><a class="header" href="#é˜¶æ®µåŒ–å­¦ä¹ è·¯å¾„ä¸è®­ç»ƒè¥è®¡åˆ’">é˜¶æ®µåŒ–å­¦ä¹ è·¯å¾„ä¸è®­ç»ƒè¥è®¡åˆ’</a></h2>
<p>ä¸ºäº†å¸®åŠ©å­¦ä¹ è€…åœ¨ 8-12 å‘¨å†…é«˜æ•ˆæŒæ¡ Next.js App Routerï¼Œæœ¬èŠ‚æä¾›é˜¶æ®µåŒ–å­¦ä¹ è·¯çº¿å›¾ä¸é¡¹ç›®åŒ–è®­ç»ƒè®¡åˆ’ã€‚æ¯ä¸ªé˜¶æ®µåŒ…å«ï¼šå­¦ä¹ ç›®æ ‡ã€ä»»åŠ¡æ‹†è§£ã€å®è·µäº§å‡ºã€è¯„ä¼°æ ‡å‡†ã€å¸¸è§éš¾ç‚¹ä¸è§£å†³ç­–ç•¥ã€å›¢é˜Ÿåä½œå»ºè®®ã€‚å­¦ä¹ è€…å¯æŒ‰å‘¨æ‰§è¡Œï¼Œä¹Ÿå¯ç»“åˆè‡ªèº«èŠ‚å¥è°ƒæ•´ã€‚</p>
<h3 id="é˜¶æ®µä¸€è®¤çŸ¥å»ºç«‹ä¸ç¯å¢ƒå‡†å¤‡ç¬¬-1-2-å‘¨"><a class="header" href="#é˜¶æ®µä¸€è®¤çŸ¥å»ºç«‹ä¸ç¯å¢ƒå‡†å¤‡ç¬¬-1-2-å‘¨">é˜¶æ®µä¸€ï¼šè®¤çŸ¥å»ºç«‹ä¸ç¯å¢ƒå‡†å¤‡ï¼ˆç¬¬ 1-2 å‘¨ï¼‰</a></h3>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šå®ŒæˆæŠ€æœ¯æ ˆè®¤çŸ¥è¿ç§»ï¼ˆä» CSR/Pages Router åˆ° App Routerï¼‰ï¼Œæ­å»ºå¼€å‘ç¯å¢ƒï¼Œå¼•å…¥åŸºç¡€å·¥ç¨‹è§„èŒƒã€‚</li>
<li><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼š
<ol>
<li>é˜…è¯»å®˜æ–¹æ–‡æ¡£ App Router åŸºç¡€ç« èŠ‚ï¼Œç»˜åˆ¶çŸ¥è¯†å¯¼å›¾ï¼ˆåŒ…å« layoutã€pageã€route handlerã€server/client component å…³ç³»ï¼‰ã€‚</li>
<li>å®Œæˆ <code>next-pro-app</code> åˆå§‹åŒ–é¡¹ç›®ï¼ˆå‚è§æ¨¡å—ä¸€ï¼‰ï¼Œå®ç°æœ€åŸºæœ¬çš„è¥é”€é¡µä¸åšå®¢é¦–é¡µã€‚</li>
<li>é…ç½® ESLintã€Prettierã€Huskyã€<code>lint-staged</code>ã€<code>.editorconfig</code>ï¼Œç»Ÿä¸€å›¢é˜Ÿè§„èŒƒã€‚</li>
<li>æ’°å†™ç¯å¢ƒæ­å»ºæ‰‹å†Œï¼Œè®°å½• Node ç‰ˆæœ¬ã€pnpm ä½¿ç”¨ã€ç¯å¢ƒå˜é‡é…ç½®æµç¨‹ã€‚</li>
</ol>
</li>
<li><strong>å®è·µäº§å‡º</strong>ï¼š
<ul>
<li>Git ä»“åº“ + READMEï¼ˆå«ç›®å½•ç»“æ„ã€å¼€å‘å‘½ä»¤ã€æŠ€æœ¯è¯´æ˜ï¼‰ã€‚</li>
<li>é¡¹ç›®æˆªå›¾æˆ–å½•å±ï¼Œæ¼”ç¤º <code>npm run dev</code>ã€çƒ­æ›´æ–°ã€Tailwind æ ·å¼ç”Ÿæ•ˆã€‚</li>
<li>å›¢é˜Ÿå…±äº«çš„ã€Šç¯å¢ƒå‡†å¤‡ä¸ç›®å½•çº¦å®šã€‹æ–‡æ¡£ã€‚</li>
</ul>
</li>
<li><strong>è¯„ä¼°æ ‡å‡†</strong>ï¼š
<ul>
<li>èƒ½ç‹¬ç«‹è§£é‡Š Server/Client Component åŒºåˆ«ï¼Œä¸¾å‡ºå…¸å‹ä½¿ç”¨åœºæ™¯ã€‚</li>
<li>ä½¿ç”¨ <code>next lint</code> å’Œ <code>pnpm test</code>ï¼ˆå³ä½¿ä¸ºç©ºï¼‰ä¿è¯åŸºçº¿è´¨é‡ã€‚</li>
<li>README ä¸­åŒ…å«é¡¹ç›®åˆå§‹åŒ–å‘½ä»¤ã€ç¯å¢ƒä¾èµ–ã€å¸¸è§é—®é¢˜è§£ç­”ã€‚</li>
</ul>
</li>
<li><strong>å¸¸è§éš¾ç‚¹ä¸ç­–ç•¥</strong>ï¼š
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šä¸ç†Ÿæ‚‰ App Router æ–‡ä»¶å±‚çº§ â†’ <strong>ç­–ç•¥</strong>ï¼šç»˜åˆ¶ç›®å½•æ ‘ã€é˜…è¯»å®˜æ–¹ç¤ºä¾‹ <code>with-tailwindcss</code>ã€äº²æ‰‹è¯•éªŒ layout åµŒå¥—ã€‚</li>
<li><strong>éš¾ç‚¹</strong>ï¼šTailwind æœªç”Ÿæ•ˆ â†’ <strong>ç­–ç•¥</strong>ï¼šæ£€æŸ¥ <code>tailwind.config.js</code> <code>content</code> é…ç½®ï¼Œå¤ç”¨å®˜æ–¹æ¨¡æ¿ã€‚</li>
</ul>
</li>
<li><strong>åä½œå»ºè®®</strong>ï¼š
<ul>
<li>å»ºç«‹ Slack/é£ä¹¦é¢‘é“è®°å½•é—®é¢˜ï¼Œå»ºè®®æ¯å¤©è¿›è¡ŒçŸ­ä¼šåŒæ­¥è¿›åº¦ã€‚</li>
<li>ä½¿ç”¨ Issue æ¨¡æ¿è®°å½•ç¯å¢ƒé—®é¢˜ï¼Œé¿å…é‡å¤è¸©å‘ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é˜¶æ®µäºŒè·¯ç”±ä½“ç³»ä¸ç”¨æˆ·ä½“éªŒåŸºç¡€ç¬¬-3-4-å‘¨"><a class="header" href="#é˜¶æ®µäºŒè·¯ç”±ä½“ç³»ä¸ç”¨æˆ·ä½“éªŒåŸºç¡€ç¬¬-3-4-å‘¨">é˜¶æ®µäºŒï¼šè·¯ç”±ä½“ç³»ä¸ç”¨æˆ·ä½“éªŒåŸºç¡€ï¼ˆç¬¬ 3-4 å‘¨ï¼‰</a></h3>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šæŒæ¡åŠ¨æ€è·¯ç”±ã€å¹¶è¡Œè·¯ç”±ã€æ‹¦æˆªè·¯ç”±ã€Loading/Error UIï¼Œå¹¶å®ç°åˆæ­¥ç”¨æˆ·äº¤äº’ä½“éªŒã€‚</li>
<li><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼š
<ol>
<li>å®Œæˆåšå®¢æ¨¡å—ï¼ˆåˆ—è¡¨ + è¯¦æƒ… + Loading/Error + metadataï¼‰ã€‚</li>
<li>å®ç° Dashboard å¹¶è¡Œè·¯ç”±ï¼ˆ<code>@analytics</code>ã€<code>@activity</code>ï¼‰ã€‚</li>
<li>åˆ©ç”¨æ‹¦æˆªè·¯ç”±åˆ¶ä½œ Modal é¢„è§ˆæˆ–æµ®å±‚è¯¦æƒ…ã€‚</li>
<li>ä½¿ç”¨ <code>generateStaticParams</code>ã€<code>generateMetadata</code> å®ç° SEO å®šåˆ¶ã€‚</li>
</ol>
</li>
<li><strong>å®è·µäº§å‡º</strong>ï¼š
<ul>
<li>è·¯ç”±ç¤ºæ„å›¾ï¼ˆä½¿ç”¨ Excalidraw/Mermaid æç»˜ Segment å…³ç³»ï¼‰ã€‚</li>
<li>æ¼”ç¤ºè§†é¢‘ï¼šåœ¨ <code>/blog</code> ä¸ <code>/dashboard</code> ä¸­å¯¼èˆªï¼Œå±•ç¤º Loading/Error UIã€‚</li>
<li>æ–‡æ¡£ï¼šè·¯ç”±å‘½åè§„èŒƒã€Segment é…ç½®ã€SEO ç­–ç•¥ã€‚</li>
</ul>
</li>
<li><strong>è¯„ä¼°æ ‡å‡†</strong>ï¼š
<ul>
<li><code>npm run build</code> è¾“å‡ºä¸­æ— åŠ¨æ€è·¯ç”±è­¦å‘Šã€‚</li>
<li>Lighthouse URL æ£€æµ‹ SEO å¾—åˆ† â‰¥ 90ã€‚</li>
<li>èƒ½å£è¿°å¹¶è¡Œè·¯ç”±çš„ä½¿ç”¨åœºæ™¯ä¸ä¼˜åŠ£ã€‚</li>
</ul>
</li>
<li><strong>å¸¸è§éš¾ç‚¹ä¸ç­–ç•¥</strong>ï¼š
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼š<code>generateStaticParams</code> ä¸å¤–éƒ¨ API åŒæ­¥ â†’ <strong>ç­–ç•¥</strong>ï¼šå¼•å…¥ <code>draftMode</code>ã€è®¾ç½®åˆç† <code>revalidate</code>ã€‚</li>
<li><strong>éš¾ç‚¹</strong>ï¼šæ‹¦æˆªè·¯ç”±å…³é—­å URL å¼‚å¸¸ â†’ <strong>ç­–ç•¥</strong>ï¼šä½¿ç”¨ <code>router.back()</code> + <code>useEffect</code> æ§åˆ¶ã€‚</li>
</ul>
</li>
<li><strong>åä½œå»ºè®®</strong>ï¼š
<ul>
<li>å¯¹è·¯ç”±æ–¹æ¡ˆè¿›è¡Œ Code Reviewï¼Œç¡®ä¿å‘½åç»Ÿä¸€ã€‚</li>
<li>è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼ˆPlaywrightï¼‰è¦†ç›–æ ¸å¿ƒå¯¼èˆªæµç¨‹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é˜¶æ®µä¸‰æ•°æ®å±‚ä¸åå°èƒ½åŠ›æ„å»ºç¬¬-5-7-å‘¨"><a class="header" href="#é˜¶æ®µä¸‰æ•°æ®å±‚ä¸åå°èƒ½åŠ›æ„å»ºç¬¬-5-7-å‘¨">é˜¶æ®µä¸‰ï¼šæ•°æ®å±‚ä¸åå°èƒ½åŠ›æ„å»ºï¼ˆç¬¬ 5-7 å‘¨ï¼‰</a></h3>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šæŒæ¡æ•°æ®è·å–ã€ç¼“å­˜ç­–ç•¥ã€Server Actionsã€Route Handlersã€é‰´æƒä¸çŠ¶æ€åŒæ­¥ã€‚</li>
<li><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼š
<ol>
<li>æ„å»º <code>src/services</code> æ•°æ®å±‚ï¼Œä½¿ç”¨ <code>React.cache</code>/<code>unstable_cache</code> ç®¡ç†æ•°æ®ã€‚</li>
<li>å®Œæˆæ–‡ç« å‘å¸ƒæµç¨‹ï¼šè¡¨å• â†’ Server Action â†’ Prisma â†’ ç¼“å­˜å†éªŒè¯ã€‚</li>
<li>å®ç° <code>/api/metrics</code>ã€<code>/api/upload</code> ç­‰ Route Handlersã€‚</li>
<li>ç¼–å†™ Middleware å®ç°ç™»å½•é‡å®šå‘ã€AB æµ‹è¯•ã€åœ°ç†åˆ†æµç­‰ç­–ç•¥ã€‚</li>
<li>é›†æˆ Prismaï¼ˆæˆ– Drizzleï¼‰ä¸æ•°æ®åº“ï¼Œå®è·µè¿ç§»æµç¨‹ã€‚</li>
</ol>
</li>
<li><strong>å®è·µäº§å‡º</strong>ï¼š
<ul>
<li>æ•°æ®æµåºåˆ—å›¾ï¼ˆè¯·æ±‚ã€ç¼“å­˜ã€å†éªŒè¯ã€UI æ›´æ–°ï¼‰ã€‚</li>
<li>API æ–‡æ¡£ï¼ˆæ¥å£è·¯å¾„ã€æ–¹æ³•ã€è¯·æ±‚/å“åº”ã€é‰´æƒè¦æ±‚ï¼‰ã€‚</li>
<li>Server Action å•å…ƒæµ‹è¯•æˆ–é›†æˆæµ‹è¯•ã€‚</li>
</ul>
</li>
<li><strong>è¯„ä¼°æ ‡å‡†</strong>ï¼š
<ul>
<li>å‘å¸ƒæ–‡ç« å¯è§¦å‘ <code>revalidateTag</code>ï¼Œåˆ—è¡¨å³æ—¶æ›´æ–°ã€‚</li>
<li>Route Handler å®ç°è¾“å…¥éªŒè¯ã€é”™è¯¯å¤„ç†ã€æ—¥å¿—è®°å½•ã€‚</li>
<li>Middleware é€»è¾‘è¦†ç›–ç‡ â‰¥ 80%ï¼ˆé€šè¿‡ Vitest/Playwright æµ‹è¯•ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å¸¸è§éš¾ç‚¹ä¸ç­–ç•¥</strong>ï¼š
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šRSC + Client ç»„ä»¶çŠ¶æ€åŒæ­¥ â†’ <strong>ç­–ç•¥</strong>ï¼šç»“åˆ <code>useOptimistic</code> ä¸ <code>SWR mutate</code>ã€‚</li>
</ul>
<ol start="2">
<li><strong>éš¾ç‚¹</strong>ï¼šEdge Runtime é™åˆ¶ â†’ <strong>ç­–ç•¥</strong>ï¼šæ¢³ç† Edge é€‚é… APIï¼Œå¿…è¦æ—¶é™çº§è‡³ Nodeã€‚</li>
</ol>
</li>
<li><strong>åä½œå»ºè®®</strong>ï¼š
<ul>
<li>æ¨è¿› API è®¾è®¡è¯„å®¡ï¼Œç¡®ä¿è¯·æ±‚ä½“ã€å“åº”ä½“è§„èŒƒã€‚</li>
<li>ä½¿ç”¨æ•°æ®åº“è¿ç§»è„šæœ¬ï¼Œé¿å…æ‰‹åŠ¨ä¿®æ”¹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é˜¶æ®µå››æ€§èƒ½ä¼˜åŒ–æµ‹è¯•ä½“ç³»ä¸éƒ¨ç½²ç¬¬-8-10-å‘¨"><a class="header" href="#é˜¶æ®µå››æ€§èƒ½ä¼˜åŒ–æµ‹è¯•ä½“ç³»ä¸éƒ¨ç½²ç¬¬-8-10-å‘¨">é˜¶æ®µå››ï¼šæ€§èƒ½ä¼˜åŒ–ã€æµ‹è¯•ä½“ç³»ä¸éƒ¨ç½²ï¼ˆç¬¬ 8-10 å‘¨ï¼‰</a></h3>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šæ„å»ºå®Œæ•´çš„å·¥ç¨‹åŒ–é—­ç¯ï¼ŒåŒ…æ‹¬æ€§èƒ½ä¼˜åŒ–ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€CI/CDã€éƒ¨ç½²ä¸ç›‘æ§ã€‚</li>
<li><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼š
<ol>
<li>å®æ–½ PPRã€<code>next/image</code>ã€<code>next/font</code>ã€<code>next/script</code> ä¼˜åŒ– CWVã€‚</li>
<li>æ­å»º Vitestã€Playwright æµ‹è¯•æ¡†æ¶ï¼Œè®¾è®¡å…³é”®æµç¨‹æµ‹è¯•ç”¨ä¾‹ã€‚</li>
<li>é…ç½® GitHub Actions / GitLab CIï¼Œé›†æˆ Lint + Test + Build + Deployã€‚</li>
<li>éƒ¨ç½²åˆ° Vercelï¼ˆæˆ– Docker + Kubernetesï¼‰ï¼Œé…ç½®æ—¥å¿—ç›‘æ§ã€æŠ¥è­¦ã€‚</li>
</ol>
</li>
<li><strong>å®è·µäº§å‡º</strong>ï¼š
<ul>
<li>æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Šï¼ˆå« Lighthouseã€Web Vitals æ•°æ®ï¼‰ã€‚</li>
<li>CI/CD Workflow æ–‡ä»¶ã€è¿è¡Œæˆªå›¾ã€‚</li>
<li>ç›‘æ§ä»ªè¡¨ç›˜ï¼ˆSentryã€Logtailã€Datadogã€Grafanaï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è¯„ä¼°æ ‡å‡†</strong>ï¼š
<ul>
<li>Core Web Vitals æŒ‡æ ‡ï¼ˆLCPã€CLSã€FID/FCPï¼‰è¾¾æ ‡ã€‚</li>
<li>CI æµæ°´çº¿æ—¶é•¿ &lt; 10 minï¼Œå¤±è´¥ç‡ &lt; 5%ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æˆåŠŸï¼Œå¯é€šè¿‡ URL è®¿é—®ã€‚</li>
</ul>
</li>
<li><strong>å¸¸è§éš¾ç‚¹ä¸ç­–ç•¥</strong>ï¼š
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šPlaywright E2E ä¸ç¨³å®š â†’ <strong>ç­–ç•¥</strong>ï¼šä½¿ç”¨ <code>msw</code> Mockã€<code>await expect</code> ç»†åŒ–ç­‰å¾…æ¡ä»¶ã€‚</li>
<li><strong>éš¾ç‚¹</strong>ï¼š<code>next build</code> æ—¶ Server Action æŠ¥é”™ â†’ <strong>ç­–ç•¥</strong>ï¼šä¸¥æ ¼åˆ’åˆ†å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å—ã€ä½¿ç”¨ <code>server-only</code>ã€‚</li>
</ul>
</li>
<li><strong>åä½œå»ºè®®</strong>ï¼š
<ul>
<li>è®¾ç½® QA Review æ¸…å•ï¼Œç¡®ä¿æµ‹è¯•è¦†ç›–ç‡ã€‚</li>
<li>ä¸è¿ç»´å›¢é˜Ÿåä½œï¼Œç¡®å®šæ—¥å¿—ã€å‘Šè­¦é˜ˆå€¼ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é˜¶æ®µäº”æŒç»­è¿­ä»£ä¸æ‰©å±•ç¬¬-11-12-å‘¨åŠä¹‹å"><a class="header" href="#é˜¶æ®µäº”æŒç»­è¿­ä»£ä¸æ‰©å±•ç¬¬-11-12-å‘¨åŠä¹‹å">é˜¶æ®µäº”ï¼šæŒç»­è¿­ä»£ä¸æ‰©å±•ï¼ˆç¬¬ 11-12 å‘¨åŠä¹‹åï¼‰</a></h3>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šé’ˆå¯¹ä¸šåŠ¡éœ€æ±‚æ‰©å±•ï¼Œå½¢æˆæŒç»­è¿­ä»£èƒ½åŠ›ï¼Œæ¢ç´¢ Edgeã€å›½é™…åŒ–ã€å¤šç§Ÿæˆ·ç­‰é«˜çº§ä¸»é¢˜ã€‚</li>
<li><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼š
<ol>
<li>å¼•å…¥æ–°å¢åŠŸèƒ½ï¼ˆä¾‹å¦‚å®æ—¶è¯„è®ºã€é€šçŸ¥ä¸­å¿ƒã€SaaS è®¡è´¹ï¼‰ã€‚</li>
<li>æ‰§è¡Œæ€§èƒ½ä¸å¯ç”¨æ€§å›å½’æµ‹è¯•ï¼Œæ”¶é›†ç”¨æˆ·åé¦ˆã€‚</li>
<li>æ¢³ç†æŠ€æœ¯å€ºåŠ¡ï¼Œåˆ¶å®šå‡çº§è®¡åˆ’ï¼ˆNext.js æ–°ç‰ˆæœ¬ã€React æ–°ç‰¹æ€§ï¼‰ã€‚</li>
<li>è®¾ç«‹çŸ¥è¯†åˆ†äº«æœºåˆ¶ï¼ˆTech Talkã€æŠ€æœ¯å‘¨æŠ¥ï¼‰ã€‚</li>
</ol>
</li>
<li><strong>å®è·µäº§å‡º</strong>ï¼š
<ul>
<li>è¿­ä»£è·¯çº¿å›¾ï¼ˆMiro / Notionï¼‰ã€‚</li>
<li>æŠ€æœ¯åˆ†äº«ææ–™ï¼ˆSlidesã€æ–‡æ¡£ï¼‰ã€‚</li>
<li>è¿è¡Œæ‰‹å†Œæ›´æ–°ï¼ˆåŒ…æ‹¬äº‹æ•…å“åº”æµç¨‹ã€ç›‘æ§æŒ‡æ ‡è¡¨ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è¯„ä¼°æ ‡å‡†</strong>ï¼š
<ul>
<li>è¿­ä»£åŠŸèƒ½ç¬¦åˆæ€§èƒ½é¢„ç®—ã€‚</li>
<li>ç”¨æˆ·æ»¡æ„åº¦è°ƒæŸ¥ &gt; 85%ã€‚</li>
<li>äº‹æ•…å“åº”æ—¶é—´ &lt; 30 åˆ†é’Ÿã€‚</li>
</ul>
</li>
<li><strong>å¸¸è§éš¾ç‚¹ä¸ç­–ç•¥</strong>ï¼š
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šå¤šç§Ÿæˆ·æ•°æ®éš”ç¦» â†’ <strong>ç­–ç•¥</strong>ï¼šä½¿ç”¨ <code>middleware</code> åˆ† Tenantã€æ•°æ®åº“ schema è§„åˆ’ã€‚</li>
<li><strong>éš¾ç‚¹</strong>ï¼šå›½é™…åŒ– SEO â†’ <strong>ç­–ç•¥</strong>ï¼šå®Œå–„ <code>hreflang</code>ã€<code>sitemap</code>ã€å¤šè¯­è¨€ metadataã€‚</li>
</ul>
</li>
<li><strong>åä½œå»ºè®®</strong>ï¼š
<ul>
<li>å»ºç«‹ OKR æˆ– KPI æŒ‡æ ‡ï¼ŒæŒç»­è·Ÿè¸ªæˆé•¿ã€‚</li>
<li>é‚€è¯·å¤–éƒ¨ä¸“å®¶æˆ–ç¤¾åŒºå‚ä¸ Code Reviewï¼Œè·å¾—å¤–éƒ¨è§†è§’ã€‚</li>
</ul>
</li>
</ul>
<h3 id="å­¦ä¹ èŠ‚å¥å»ºè®®å»ºè®®-12-å‘¨è®¡åˆ’"><a class="header" href="#å­¦ä¹ èŠ‚å¥å»ºè®®å»ºè®®-12-å‘¨è®¡åˆ’">å­¦ä¹ èŠ‚å¥å»ºè®®ï¼ˆå»ºè®® 12 å‘¨è®¡åˆ’ï¼‰</a></h3>
<div class="table-wrapper"><table><thead><tr><th>å‘¨æ¬¡</th><th>é‡ç‚¹ä¸»é¢˜</th><th>ç†è®ºå­¦ä¹ </th><th>å®è·µä»»åŠ¡</th><th>é‡Œç¨‹ç¢‘è¯„ä¼°</th></tr></thead><tbody>
<tr><td>Week 1</td><td>App Router æ ¸å¿ƒæ¦‚å¿µã€ç¯å¢ƒæ­å»º</td><td>é˜…è¯»å®˜æ–¹å…¥é—¨æ–‡æ¡£ã€RSC ç™½çš®ä¹¦</td><td>åˆå§‹åŒ–é¡¹ç›®ã€å®ŒæˆåŸºç¡€é¡µé¢</td><td>Git commitï¼ŒREADME å®Œæˆ</td></tr>
<tr><td>Week 2</td><td>å¸ƒå±€ä¸åŸºç¡€è·¯ç”±</td><td>ç ”ç©¶ <code>layout.tsx</code>ã€<code>page.tsx</code></td><td>æ„å»ºè¥é”€é¡µã€æ·»åŠ  Tailwind</td><td>å®Œæˆé¦–å±æˆªå›¾ä¸è¯´æ˜</td></tr>
<tr><td>Week 3</td><td>åŠ¨æ€è·¯ç”±ã€Metadata</td><td><code>generateStaticParams</code> å®è·µ</td><td>å®ç°åšå®¢åˆ—è¡¨/è¯¦æƒ…</td><td>SEO æ£€æµ‹å¾—åˆ† â‰¥ 80</td></tr>
<tr><td>Week 4</td><td>å¹¶è¡Œ/æ‹¦æˆªè·¯ç”±ã€é”™è¯¯è¾¹ç•Œ</td><td>é˜…è¯»å¹¶è¡Œè·¯ç”±å®˜æ–¹æ¡ˆä¾‹</td><td>å®Œæˆ Modal + Loading/Error</td><td>Demo æ¼”ç¤ºé€šè¿‡</td></tr>
<tr><td>Week 5</td><td>æ•°æ®è®¿é—®å±‚ã€ç¼“å­˜ç­–ç•¥</td><td>ç ”ç©¶ <code>fetch cache</code>ã€<code>revalidate</code></td><td>å»ºç«‹ <code>src/services</code>ã€ç¼“å­˜ Tag</td><td>å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 50%</td></tr>
<tr><td>Week 6</td><td>Server Actionã€Route Handler</td><td>é˜…è¯» Server Action æ–‡æ¡£</td><td>å‘å¸ƒæ–‡ç« æµç¨‹ã€API è®¾è®¡</td><td>æˆåŠŸ revalidate åˆ—è¡¨</td></tr>
<tr><td>Week 7</td><td>é‰´æƒã€Middleware</td><td>Auth.js æ–‡æ¡£</td><td>ç™»å½•æµç¨‹ã€è®¿é—®æ§åˆ¶</td><td>/dashboard ä¿æŠ¤æˆåŠŸ</td></tr>
<tr><td>Week 8</td><td>UI ä¼˜åŒ–ã€PPRã€å›¾ç‰‡å­—ä½“</td><td>Lighthouse å®æˆ˜</td><td>å¼•å…¥ <code>next/image</code>ã€<code>next/font</code></td><td>CWV æŒ‡æ ‡åˆæ ¼</td></tr>
<tr><td>Week 9</td><td>æµ‹è¯•ä½“ç³»æ„å»º</td><td>å­¦ä¹  Vitestã€Playwright</td><td>ç¼–å†™å•å…ƒ/E2E æµ‹è¯•</td><td>CI ä¸­æµ‹è¯•é€šè¿‡</td></tr>
<tr><td>Week 10</td><td>éƒ¨ç½²ä¸ç›‘æ§</td><td>é˜…è¯» Vercel Docs</td><td>éƒ¨ç½² Vercelã€é…ç½® Sentry</td><td>ç”Ÿäº§ç¯å¢ƒå¯è®¿é—®</td></tr>
<tr><td>Week 11</td><td>Edge/å›½é™…åŒ–/å®æ—¶åŒ–ä¸“é¢˜</td><td>é€‰æ‹© 1-2 ä¸ªä¸“é¢˜æ·±æŒ–</td><td>å®ç° Edge Middlewareã€i18n</td><td>ä¸“é¢˜ Demo å®Œæˆ</td></tr>
<tr><td>Week 12</td><td>å¤ç›˜ + è¾“å‡º</td><td>å½’æ¡£çŸ¥è¯†ã€æ’°å†™åšæ–‡</td><td>ç¼–å†™æŠ€æœ¯æ€»ç»“ã€çŸ¥è¯†åº“</td><td>å®ŒæˆæŠ€æœ¯åˆ†äº«ã€PR å®¡æŸ¥</td></tr>
</tbody></table>
</div>
<h3 id="è‡ªæˆ‘è¯„ä¼°æ¸…å•æ¯å‘¨ç»“æŸæ—¶"><a class="header" href="#è‡ªæˆ‘è¯„ä¼°æ¸…å•æ¯å‘¨ç»“æŸæ—¶">è‡ªæˆ‘è¯„ä¼°æ¸…å•ï¼ˆæ¯å‘¨ç»“æŸæ—¶ï¼‰</a></h3>
<ul>
<li>æœ¬å‘¨æ˜¯å¦å®Œæˆäº†å®˜æ–¹æ–‡æ¡£é˜…è¯»å¹¶åšç¬”è®°ï¼Ÿ</li>
<li>æ˜¯å¦å°†ç†è®ºè½¬åŒ–ä¸ºè‡³å°‘ä¸€ä¸ª Demo / æäº¤è®°å½•ï¼Ÿ</li>
<li>æ˜¯å¦å‘å›¢é˜ŸåŒäº‹æˆ–ç¤¾åŒºå¤è¿°äº†å…³é”®æ¦‚å¿µï¼ˆTeach-backï¼‰ï¼Ÿ</li>
<li>æ˜¯å¦æ›´æ–°äº†å­¦ä¹ æ—¥å¿—ï¼Œè®°å½•é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆï¼Ÿ</li>
<li>æ˜¯å¦åœ¨ä»£ç åº“ä¸­æ·»åŠ äº†æµ‹è¯•æˆ–æ–‡æ¡£å¢å¼ºï¼Ÿ</li>
</ul>
<h3 id="ä¸ªäºº--å›¢é˜Ÿåä½œæ¨¡å¼å»ºè®®"><a class="header" href="#ä¸ªäºº--å›¢é˜Ÿåä½œæ¨¡å¼å»ºè®®">ä¸ªäºº / å›¢é˜Ÿåä½œæ¨¡å¼å»ºè®®</a></h3>
<ul>
<li><strong>ä¸ªäººå­¦ä¹ è€…</strong>ï¼š
<ul>
<li>é‡‡ç”¨â€œæ™¨è¯» + å¤œç»ƒâ€èŠ‚å¥ï¼šæ—©ä¸Š 1 å°æ—¶é˜…è¯»æ–‡æ¡£ï¼Œæ™šä¸Š 2 å°æ—¶ç¼–ç ã€‚</li>
<li>æ¯å‘¨æ’°å†™å­¦ä¹ å‘¨æŠ¥ï¼ˆæ€»ç»“æ¦‚å¿µã€é—®é¢˜ã€ä¸‹ä¸€æ­¥è®¡åˆ’ï¼‰ã€‚</li>
<li>å®šæœŸåœ¨ç¤¾åŒºï¼ˆNext.js ä¸­æ–‡ç¤¾åŒºã€Vercel Discordï¼‰æé—®æˆ–å›ç­”é—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>å°å›¢é˜Ÿï¼ˆ2-5 äººï¼‰</strong>ï¼š
<ul>
<li>æ¯å‘¨ä¸€æ¬¡ Pair Programmingï¼Œäº’æ¢è§’è‰²ç†è§£ Server/Client ç»„ä»¶ï¼›</li>
<li>æ‰“é€ å…±äº«çŸ¥è¯†åº“ï¼ˆNotion/Jira/è¯­é›€ï¼‰ï¼Œå½’æ¡£ APIã€ç»„ä»¶ã€å†³ç­–è®°å½•ï¼›</li>
<li>é‡‡ç”¨ GitHub é¡¹ç›®æ¿è§„åˆ’ä»»åŠ¡ï¼Œè®¾ç½®æ˜ç¡®çš„ Definition of Doneï¼ˆDoDï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ä¸­å‹å›¢é˜Ÿï¼ˆ6-12 äººï¼‰</strong>ï¼š
<ul>
<li>åˆ†è§’è‰²ï¼ˆå‰ç«¯ã€åç«¯ã€DevOpsï¼‰è¿›è¡Œä¸“é¢˜åŸ¹è®­ï¼Œç¡®ä¿çŸ¥è¯†äº¤å‰ï¼›</li>
<li>åˆ¶å®š Code Review æ¨¡æ¿ï¼šå®¡æŸ¥ RSC åˆè§„ã€ç¼“å­˜ç­–ç•¥ã€æ—¥å¿—è§„èŒƒï¼›</li>
<li>å»ºç«‹æ€§èƒ½ä¸å®‰å…¨åŸºçº¿ï¼Œè®¾ç½®è‡ªåŠ¨åŒ–æ£€æµ‹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é˜¶æ®µæ€§å¤ç›˜æ¨¡æ¿"><a class="header" href="#é˜¶æ®µæ€§å¤ç›˜æ¨¡æ¿">é˜¶æ®µæ€§å¤ç›˜æ¨¡æ¿</a></h3>
<div class="table-wrapper"><table><thead><tr><th>å¤ç›˜ç»´åº¦</th><th>æŒ‡æ ‡</th><th>è¯„ä¼°é—®é¢˜</th><th>æ”¹è¿›æªæ–½</th></tr></thead><tbody>
<tr><td>æŠ€æœ¯æŒæ¡</td><td>æ¦‚å¿µç†è§£ã€å®è·µæˆæœ</td><td>æ˜¯å¦èƒ½è§£é‡Š RSCã€App Router è¿ä½œï¼Ÿæ˜¯å¦æœ‰ Demoï¼Ÿ</td><td>é’ˆå¯¹è–„å¼±ç¯èŠ‚å®‰æ’å¤ä¹ æˆ–å®è·µ</td></tr>
<tr><td>ä»£ç è´¨é‡</td><td>Lintã€æµ‹è¯•ã€æ¶æ„</td><td>æ˜¯å¦å­˜åœ¨é‡å¤ä»£ç ã€æ€§èƒ½éšæ‚£ï¼Ÿ</td><td>è¿›è¡Œé‡æ„ã€åŠ å…¥æµ‹è¯•</td></tr>
<tr><td>é¡¹ç›®æ¨è¿›</td><td>ä»»åŠ¡å®Œæˆç‡ã€é‡Œç¨‹ç¢‘</td><td>æ˜¯å¦æŒ‰è®¡åˆ’æ¨è¿›ï¼Ÿé˜»å¡ç‚¹åœ¨å“ªï¼Ÿ</td><td>è°ƒæ•´è®¡åˆ’ã€å¯»æ±‚æ”¯æŒ</td></tr>
<tr><td>çŸ¥è¯†å¤–åŒ–</td><td>æ–‡æ¡£ã€åˆ†äº«</td><td>æ˜¯å¦æœ‰æ–‡æ¡£/æŒ‡å—ï¼Ÿå›¢é˜Ÿå…±äº«æƒ…å†µï¼Ÿ</td><td>å®‰æ’åˆ†äº«ä¼šã€å®Œå–„æ–‡æ¡£</td></tr>
<tr><td>å·¥ç¨‹æµç¨‹</td><td>CIã€éƒ¨ç½²ã€ç›‘æ§</td><td>æµæ°´çº¿ç¨³å®šå—ï¼Ÿéƒ¨ç½²æ˜¯å¦é¡ºç•…ï¼Ÿ</td><td>ä¼˜åŒ–è„šæœ¬ã€å®Œå–„ç›‘æ§</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="ç»¼åˆå®æˆ˜é¡¹ç›®saas-å¤šç§Ÿæˆ·çŸ¥è¯†ç®¡ç†å¹³å°"><a class="header" href="#ç»¼åˆå®æˆ˜é¡¹ç›®saas-å¤šç§Ÿæˆ·çŸ¥è¯†ç®¡ç†å¹³å°">ç»¼åˆå®æˆ˜é¡¹ç›®ï¼šSaaS å¤šç§Ÿæˆ·çŸ¥è¯†ç®¡ç†å¹³å°</a></h2>
<p>æœ¬èŠ‚æä¾›ä¸€ä¸ªä»éœ€æ±‚åˆ†æã€æ¶æ„è®¾è®¡ã€å¼€å‘å®ç°ã€æµ‹è¯•éƒ¨ç½²åˆ°è¿ç»´è¿­ä»£çš„å®Œæ•´å®æˆ˜æ¡ˆä¾‹ã€‚é¡¹ç›®ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªé¢å‘å›¢é˜Ÿçš„çŸ¥è¯†ç®¡ç† SaaS å¹³å°ï¼Œæ”¯æŒå¤šç§Ÿæˆ·ã€æ–‡æ¡£åä½œã€æƒé™æ§åˆ¶ã€ç»Ÿè®¡åˆ†æä»¥åŠè¾¹ç¼˜åŠ é€Ÿã€‚è¯¥æ¡ˆä¾‹æ¶µç›– App Router çš„æ‰€æœ‰å…³é”®ç‰¹æ€§ï¼Œå¹¶ä¸ºæ¯ä¸ªé˜¶æ®µæä¾›è¯¦ç»†ä»»åŠ¡ã€ä»£ç ç¤ºä¾‹ã€è¿ç»´è¦ç‚¹ã€éªŒè¯æŒ‡æ ‡ã€‚</p>
<h3 id="ä¸€é¡¹ç›®æ¦‚è§ˆ"><a class="header" href="#ä¸€é¡¹ç›®æ¦‚è§ˆ">ä¸€ã€é¡¹ç›®æ¦‚è§ˆ</a></h3>
<ul>
<li><strong>é¡¹ç›®åç§°</strong>ï¼šKnowledgeFlow</li>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š
<ol>
<li>å¤šç§Ÿæˆ·ç»„ç»‡ç®¡ç†ï¼ˆç§Ÿæˆ·æ³¨å†Œã€æˆå‘˜é‚€è¯·ã€è§’è‰²æƒé™ï¼‰</li>
<li>æ–‡æ¡£åº“ï¼ˆRSC æ¸²æŸ“ markdownã€ç‰ˆæœ¬å†å²ã€è¯„è®ºï¼‰</li>
<li>å®æ—¶åä½œæ–‡æ¡£ç¼–è¾‘ï¼ˆServer Action + WebSocketï¼‰</li>
<li>ä»ªè¡¨ç›˜ï¼ˆæ•°æ®ç»Ÿè®¡ã€æ´»è·ƒåº¦åˆ†æï¼‰</li>
<li>é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆResend é‚®ä»¶ã€Stripe è®¢é˜…ã€Sentry ç›‘æ§ï¼‰</li>
</ol>
</li>
<li><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼šApp Routerã€Server Actionsã€Route Handlersã€Middlewareã€Edgeã€Prismaã€PlanetScaleã€Redisã€SWRã€Playwrightã€OpenTelemetryã€‚</li>
<li><strong>éƒ¨ç½²ç›®æ ‡</strong>ï¼šVercel + PlanetScale + Upstash Redisï¼Œå¤‡ç”¨æ–¹æ¡ˆ Docker + Kubernetesã€‚</li>
</ul>
<h3 id="äºŒæ¶æ„è®¾è®¡"><a class="header" href="#äºŒæ¶æ„è®¾è®¡">äºŒã€æ¶æ„è®¾è®¡</a></h3>
<h4 id="21-ç³»ç»Ÿç»„ä»¶"><a class="header" href="#21-ç³»ç»Ÿç»„ä»¶">2.1 ç³»ç»Ÿç»„ä»¶</a></h4>
<div class="table-wrapper"><table><thead><tr><th>å±‚çº§</th><th>æŠ€æœ¯æ ˆ</th><th>èŒè´£</th><th>è¿è¡Œæ—¶</th></tr></thead><tbody>
<tr><td>å‰ç«¯ UI</td><td>Next.js App Router + Tailwind + shadcn/ui</td><td>é¡µé¢æ¸²æŸ“ã€äº¤äº’é€»è¾‘ã€è¡¨å•æäº¤</td><td>RSC + Client Component</td></tr>
<tr><td>BFF/API</td><td>Route Handlers + Server Actions</td><td>æä¾› REST APIã€å¤„ç† Server Action</td><td>Node Runtime + Edge Runtime</td></tr>
<tr><td>æ•°æ®å±‚</td><td>Prisma + PlanetScale</td><td>æ•°æ®æŒä¹…åŒ–ï¼ˆMySQLï¼‰</td><td>Node Runtime</td></tr>
<tr><td>ç¼“å­˜å±‚</td><td>Upstash Redis</td><td>Sessionã€ä¸´æ—¶æ•°æ®ã€ä»»åŠ¡é˜Ÿåˆ—</td><td>Edge/Node</td></tr>
<tr><td>å®æ—¶é€šä¿¡</td><td>Ably / Pusher / WebSocket Server</td><td>åä½œæ–‡æ¡£åŒæ­¥</td><td>Edge (SSE)/Node</td></tr>
<tr><td>æ–‡ä»¶å­˜å‚¨</td><td>Vercel Blob / S3</td><td>æ–‡æ¡£é™„ä»¶ã€å›¾ç‰‡</td><td>Node</td></tr>
<tr><td>ç›‘æ§</td><td>Sentryã€Logtailã€Datadog</td><td>æ—¥å¿—ã€é”™è¯¯ã€æ€§èƒ½</td><td>å…¨å±€</td></tr>
</tbody></table>
</div>
<h4 id="22-ç›®å½•è§„åˆ’"><a class="header" href="#22-ç›®å½•è§„åˆ’">2.2 ç›®å½•è§„åˆ’</a></h4>
<pre><code class="language-text">src/
  app/
    (marketing)/
    (dashboard)/
    [tenant]/
      layout.tsx
      page.tsx
      documents/
        layout.tsx
        page.tsx
        [docId]/page.tsx
        [docId]/edit/page.tsx
        @activity/page.tsx
      settings/
        team/page.tsx
        billing/page.tsx
    api/
      tenants/route.ts
      invite/route.ts
      documents/[id]/route.ts
      realtime/route.ts
  components/
    server/
    client/
  lib/
    prisma.ts
    auth.ts
    redis.ts
    fetcher.ts
  services/
    tenant.ts
    document.ts
    analytics.ts
  middleware.ts
  instrumentation.ts
</code></pre>
<h4 id="23-æ•°æ®æ¨¡å‹prisma-schema"><a class="header" href="#23-æ•°æ®æ¨¡å‹prisma-schema">2.3 æ•°æ®æ¨¡å‹ï¼ˆPrisma Schemaï¼‰</a></h4>
<pre><code class="language-prisma">model Tenant {
  id           String   @id @default(cuid())
  name         String
  slug         String   @unique
  plan         Plan     @default(FREE)
  users        TenantUser[]
  documents    Document[]
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

enum Plan {
  FREE
  TEAM
  ENTERPRISE
}

model User {
  id           String        @id @default(cuid())
  email        String        @unique
  name         String
  image        String?
  tenants      TenantUser[]
  createdAt    DateTime      @default(now())
}

model TenantUser {
  tenantId   String
  userId     String
  role       Role
  createdAt  DateTime @default(now())

  tenant Tenant @relation(fields: [tenantId], references: [id])
  user   User   @relation(fields: [userId], references: [id])

  @@id([tenantId, userId])
}

enum Role {
  OWNER
  ADMIN
  MEMBER
  VIEWER
}

model Document {
  id          String      @id @default(cuid())
  tenantId    String
  title       String
  content     String
  status      DocStatus   @default(DRAFT)
  tags        String[]
  createdById String
  updatedById String
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
  tenant      Tenant      @relation(fields: [tenantId], references: [id])
  createdBy   User        @relation("CreatedBy", fields: [createdById], references: [id])
  updatedBy   User        @relation("UpdatedBy", fields: [updatedById], references: [id])
  revisions   Revision[]
  comments    Comment[]
}

enum DocStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

model Revision {
  id          String   @id @default(cuid())
  documentId  String
  content     String
  createdAt   DateTime @default(now())
  document    Document @relation(fields: [documentId], references: [id])
}

model Comment {
  id          String   @id @default(cuid())
  documentId  String
  authorId    String
  body        String
  createdAt   DateTime @default(now())
  document    Document @relation(fields: [documentId], references: [id])
  author      User     @relation(fields: [authorId], references: [id])
}
</code></pre>
<h3 id="ä¸‰åŠŸèƒ½è®¾è®¡ä¸å®ç°"><a class="header" href="#ä¸‰åŠŸèƒ½è®¾è®¡ä¸å®ç°">ä¸‰ã€åŠŸèƒ½è®¾è®¡ä¸å®ç°</a></h3>
<h4 id="31-å¤šç§Ÿæˆ·è·¯ç”±ä¸-middleware"><a class="header" href="#31-å¤šç§Ÿæˆ·è·¯ç”±ä¸-middleware">3.1 å¤šç§Ÿæˆ·è·¯ç”±ä¸ Middleware</a></h4>
<ul>
<li>è·¯ç”±ï¼š<code>/[tenant]/...</code> ä»¥ç§Ÿæˆ· slug ä¸ºå…¥å£ï¼›</li>
<li>Middlewareï¼šè§£æ cookie/session ä¸­çš„ç§Ÿæˆ·ä¿¡æ¯ï¼Œè‹¥æœªç™»å½•è·³è½¬ <code>/login</code>ï¼›</li>
<li>Edge è¿è¡Œï¼ŒåŠ é€Ÿå…¨çƒè®¿é—®ã€‚</li>
</ul>
<pre><code class="language-ts">// middleware.ts
import { NextResponse } from 'next/server'
import { getTenantFromCookie } from '@/lib/tenant-cookie'

export async function middleware(request: Request) {
  const url = new URL(request.url)
  const pathname = url.pathname
  if (pathname.startsWith('/_next') || pathname.startsWith('/api') || pathname === '/login') {
    return NextResponse.next()
  }
  const tenantSlug = pathname.split('/')[1]
  if (!tenantSlug) return NextResponse.next()
  const session = await getTenantFromCookie(request, tenantSlug)
  if (!session) {
    const loginUrl = new URL('/login', request.url)
    loginUrl.searchParams.set('tenant', tenantSlug)
    return NextResponse.redirect(loginUrl)
  }
  return NextResponse.next()
}
</code></pre>
<h4 id="32-ç§Ÿæˆ·æ³¨å†Œä¸é‚€è¯·æµç¨‹"><a class="header" href="#32-ç§Ÿæˆ·æ³¨å†Œä¸é‚€è¯·æµç¨‹">3.2 ç§Ÿæˆ·æ³¨å†Œä¸é‚€è¯·æµç¨‹</a></h4>
<ul>
<li><code>POST /api/tenants</code>ï¼šåˆ›å»ºç§Ÿæˆ·ã€ç»‘å®šç”¨æˆ·ä¸º Ownerã€‚</li>
<li><code>POST /api/invite</code>ï¼šå‘é€é‚€è¯·é‚®ä»¶ï¼ŒåŒ…å«ç­¾åé“¾æ¥ã€‚</li>
<li><code>GET /api/invite/accept</code>ï¼šéªŒè¯ tokenï¼ŒåŠ å…¥ç§Ÿæˆ·ã€‚</li>
</ul>
<pre><code class="language-ts">// app/api/tenants/route.ts
import { NextResponse } from 'next/server'
import { z } from 'zod'
import { prisma } from '@/lib/prisma'

const TenantSchema = z.object({
  name: z.string().min(2),
  slug: z.string().regex(/^[a-z0-9-]+$/)
})

export async function POST(request: Request) {
  const body = await request.json()
  const { name, slug } = TenantSchema.parse(body)
  const userId = await requireAuth(request)
  const tenant = await prisma.tenant.create({
    data: {
      name,
      slug,
      users: {
        create: {
          userId,
          role: 'OWNER'
        }
      }
    }
  })
  return NextResponse.json({ tenant })
}
</code></pre>
<p>é‚€è¯·é‚®ä»¶ä½¿ç”¨ Resendï¼š</p>
<pre><code class="language-ts">import { Resend } from 'resend'
const resend = new Resend(process.env.RESEND_API_KEY)

await resend.emails.send({
  from: 'team@knowledgeflow.dev',
  to: inviteeEmail,
  subject: `${tenant.name} é‚€è¯·ä½ åŠ å…¥`;
  react: InviteEmail({ tenant, inviter, token })
})
</code></pre>
<h4 id="33-æ–‡æ¡£åº“ä¸ç‰ˆæœ¬å†å²"><a class="header" href="#33-æ–‡æ¡£åº“ä¸ç‰ˆæœ¬å†å²">3.3 æ–‡æ¡£åº“ä¸ç‰ˆæœ¬å†å²</a></h4>
<ul>
<li>æ–‡æ¡£åˆ—è¡¨ï¼š<code>/[tenant]/documents</code>ï¼Œä½¿ç”¨ <code>revalidate: 60</code>ã€‚</li>
<li>æ–‡æ¡£è¯¦æƒ…ï¼š<code>/[tenant]/documents/[docId]</code>ï¼Œä½¿ç”¨ Suspense åŠ è½½è¯„è®ºä¸ç‰ˆæœ¬ã€‚</li>
<li>ç¼–è¾‘ï¼šServer Action ä¿å­˜æ–‡æ¡£ã€åˆ›å»º Revisionã€è§¦å‘å†éªŒè¯ã€‚</li>
</ul>
<pre><code class="language-tsx">// app/[tenant]/documents/[docId]/page.tsx
import { notFound } from 'next/navigation'
import { getDocumentById } from '@/services/document'
import { Comments } from './_components/comments'
import { RevisionHistory } from './_components/revision-history'

export default async function DocumentPage({ params }: { params: { tenant: string; docId: string } }) {
  const document = await getDocumentById(params.tenant, params.docId)
  if (!document) notFound()
  return (
    &lt;article className="space-y-12"&gt;
      &lt;header&gt;
        &lt;h1 className="text-4xl font-bold"&gt;{document.title}&lt;/h1&gt;
        &lt;p className="text-sm text-slate-500"&gt;æœ€åæ›´æ–°ï¼š{new Date(document.updatedAt).toLocaleString()}&lt;/p&gt;
      &lt;/header&gt;
      &lt;section className="prose prose-invert" dangerouslySetInnerHTML={{ __html: document.contentHtml }} /&gt;
      &lt;Suspense fallback={&lt;div&gt;è¯„è®ºåŠ è½½ä¸­...&lt;/div&gt;}&gt;
        &lt;Comments docId={params.docId} /&gt;
      &lt;/Suspense&gt;
      &lt;Suspense fallback={&lt;div&gt;ç‰ˆæœ¬å†å²åŠ è½½ä¸­...&lt;/div&gt;}&gt;
        &lt;RevisionHistory docId={params.docId} /&gt;
      &lt;/Suspense&gt;
    &lt;/article&gt;
  )
}
</code></pre>
<p>ç¼–è¾‘ Server Actionï¼š</p>
<pre><code class="language-ts">// app/[tenant]/documents/[docId]/edit/actions.ts
'use server'

import { z } from 'zod'
import { revalidatePath, revalidateTag } from 'next/cache'
import { updateDocument } from '@/services/document'
import { requireTenantSession } from '@/lib/auth'

const UpdateSchema = z.object({
  title: z.string().min(2),
  content: z.string().min(10),
  status: z.enum(['DRAFT', 'PUBLISHED', 'ARCHIVED'])
})

export async function updateDocumentAction(tenant: string, docId: string, formData: FormData) {
  const session = await requireTenantSession(tenant)
  const payload = UpdateSchema.parse({
    title: formData.get('title'),
    content: formData.get('content'),
    status: formData.get('status')
  })
  await updateDocument({ tenant, docId, payload, userId: session.user.id })
  revalidatePath(`/${tenant}/documents/${docId}`)
  revalidateTag(`documents:${tenant}`)
}
</code></pre>
<h4 id="34-å®æ—¶åä½œedge-sse--optimistic-ui"><a class="header" href="#34-å®æ—¶åä½œedge-sse--optimistic-ui">3.4 å®æ—¶åä½œï¼ˆEdge SSE + Optimistic UIï¼‰</a></h4>
<ul>
<li>ä½¿ç”¨ Route Handler æä¾› SSE æµï¼š<code>GET /api/realtime?docId=</code>ã€‚</li>
<li>å®¢æˆ·ç«¯è®¢é˜… SSEï¼Œå®æ—¶æ›´æ–°è¯„è®ºæˆ–å…‰æ ‡ä½ç½®ã€‚</li>
<li>Server Action æäº¤è¯„è®ºåé€šè¿‡ Redis å‘å¸ƒè®¢é˜…å¹¿æ’­ã€‚</li>
</ul>
<pre><code class="language-ts">// app/api/realtime/route.ts
import { NextResponse } from 'next/server'
import { redis } from '@/lib/redis'

export const runtime = 'edge'

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const docId = searchParams.get('docId')
  if (!docId) return NextResponse.json({ error: 'ç¼ºå°‘ docId' }, { status: 400 })

  const stream = new ReadableStream({
    start(controller) {
      const channel = `doc:${docId}`
      const listener = (message: string) =&gt; {
        controller.enqueue(`data: ${message}\n\n`)
      }
      redis.subscribe(channel, listener)
    }
  })
  return new Response(stream, {
    headers: {
      'Content-Type': 'text/event-stream',
      'Cache-Control': 'no-cache',
      Connection: 'keep-alive'
    }
  })
}
</code></pre>
<p>å®¢æˆ·ç«¯è®¢é˜…ï¼š</p>
<pre><code class="language-tsx">'use client'

import { useEffect } from 'react'
import { useStore } from '@/stores/document-store'

export function RealtimeSubscription({ docId }: { docId: string }) {
  const addUpdate = useStore(state =&gt; state.addUpdate)
  useEffect(() =&gt; {
    const eventSource = new EventSource(`/api/realtime?docId=${docId}`)
    eventSource.onmessage = event =&gt; {
      const payload = JSON.parse(event.data)
      addUpdate(payload)
    }
    return () =&gt; eventSource.close()
  }, [docId, addUpdate])
  return null
}
</code></pre>
<h4 id="35-stripe-è®¢é˜…ä¸è®¡è´¹"><a class="header" href="#35-stripe-è®¢é˜…ä¸è®¡è´¹">3.5 Stripe è®¢é˜…ä¸è®¡è´¹</a></h4>
<ul>
<li><code>/api/billing/session</code> åˆ›å»º Checkout Sessionã€‚</li>
<li>æˆåŠŸå›è°ƒ <code>/api/billing/webhook</code> æ›´æ–°ç§Ÿæˆ· Planã€‚</li>
</ul>
<pre><code class="language-ts">// app/api/billing/webhook/route.ts
import Stripe from 'stripe'
import { prisma } from '@/lib/prisma'

export async function POST(request: Request) {
  const signature = request.headers.get('stripe-signature')
  const rawBody = await request.text()
  const event = stripe.webhooks.constructEvent(rawBody, signature!, process.env.STRIPE_WEBHOOK_SECRET!)
  if (event.type === 'checkout.session.completed') {
    const session = event.data.object as Stripe.Checkout.Session
    const tenantId = session.metadata?.tenantId
    if (tenantId) {
      await prisma.tenant.update({
        where: { id: tenantId },
        data: { plan: 'TEAM' }
      })
    }
  }
  return new Response('ok')
}
</code></pre>
<h4 id="36-ä»ªè¡¨ç›˜ä¸åˆ†æ"><a class="header" href="#36-ä»ªè¡¨ç›˜ä¸åˆ†æ">3.6 ä»ªè¡¨ç›˜ä¸åˆ†æ</a></h4>
<ul>
<li><code>/[tenant]/dashboard</code> åµŒå¥—å¹¶è¡Œè·¯ç”±ï¼Œå±•ç¤ºè®¿å®¢åˆ†å¸ƒã€æ–‡æ¡£æ´»è·ƒåº¦ã€è¯„è®ºè¶‹åŠ¿ã€‚</li>
<li>ä½¿ç”¨ <code>@vercel/analytics</code> + å†…éƒ¨ APIã€‚</li>
</ul>
<pre><code class="language-tsx">// app/[tenant]/dashboard/page.tsx
import { Suspense } from 'react'
import { Stats } from './_components/stats'
import { ActivityFeed } from './_components/activity'
import { GeoDistribution } from './_components/geo'

export default function DashboardPage({ params }: { params: { tenant: string } }) {
  return (
    &lt;div className="grid grid-cols-1 gap-6 lg:grid-cols-2"&gt;
      &lt;Suspense fallback={&lt;div&gt;ç»Ÿè®¡åŠ è½½...&lt;/div&gt;}&gt;
        &lt;Stats tenant={params.tenant} /&gt;
      &lt;/Suspense&gt;
      &lt;Suspense fallback={&lt;div&gt;æ´»è·ƒåº¦åŠ è½½...&lt;/div&gt;}&gt;
        &lt;ActivityFeed tenant={params.tenant} /&gt;
      &lt;/Suspense&gt;
      &lt;Suspense fallback={&lt;div&gt;åœ°åŸŸæ•°æ®åŠ è½½...&lt;/div&gt;}&gt;
        &lt;GeoDistribution tenant={params.tenant} /&gt;
      &lt;/Suspense&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h3 id="å››æµ‹è¯•ä¸è´¨é‡ä¿éšœ"><a class="header" href="#å››æµ‹è¯•ä¸è´¨é‡ä¿éšœ">å››ã€æµ‹è¯•ä¸è´¨é‡ä¿éšœ</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æµ‹è¯•å±‚çº§</th><th>å·¥å…·</th><th>è¦†ç›–èŒƒå›´</th><th>æ ·ä¾‹</th></tr></thead><tbody>
<tr><td>å•å…ƒæµ‹è¯•</td><td>Vitest + Testing Library</td><td>ç»„ä»¶æ¸²æŸ“ã€æ•°æ®å‡½æ•°</td><td><code>src/services/document.test.ts</code></td></tr>
<tr><td>é›†æˆæµ‹è¯•</td><td>Vitest / Jest + Supertest</td><td>Server Actionã€Route Handler</td><td><code>app/api/tenants/route.test.ts</code></td></tr>
<tr><td>E2E æµ‹è¯•</td><td>Playwright</td><td>ç™»å½• â†’ åˆ›å»ºç§Ÿæˆ· â†’ åˆ›å»ºæ–‡æ¡£ â†’ ç¼–è¾‘ â†’ æŸ¥çœ‹</td><td><code>tests/tenant-flow.spec.ts</code></td></tr>
<tr><td>æ€§èƒ½æµ‹è¯•</td><td>Lighthouse CIã€k6</td><td><code>/[tenant]/documents</code> FIDã€LCPï¼›API QPS</td><td><code>k6</code> è„šæœ¬ã€Lighthouse config</td></tr>
<tr><td>å®‰å…¨æµ‹è¯•</td><td>OWASP ZAPã€Dependency Scanning</td><td>æ³¨å…¥ã€XSSã€ä¾èµ–æ¼æ´</td><td>å®‰å…¨æ‰«ææŠ¥å‘Š</td></tr>
</tbody></table>
</div>
<p>Playwright ç¤ºä¾‹ï¼š</p>
<pre><code class="language-ts">test('å¤šç§Ÿæˆ·æ–‡æ¡£åˆ›å»ºæµç¨‹', async ({ page }) =&gt; {
  await page.goto('https://localhost:3000/login')
  await page.fill('input[name="email"]', 'owner@example.com')
  await page.fill('input[name="password"]', 'Passw0rd!')
  await page.click('button[type="submit"]')
  await page.waitForURL('**/dashboard')
  await page.goto('https://localhost:3000/acme/documents')
  await page.click('text=æ–°å»ºæ–‡æ¡£')
  await page.fill('input[name="title"]', 'äº§å“æ„¿æ™¯')
  await page.fill('textarea[name="content"]', 'æˆ‘ä»¬çš„ä½¿å‘½æ˜¯...')
  await page.click('text=ä¿å­˜')
  await expect(page).toHaveURL('**/acme/documents')
  await expect(page.getByText('äº§å“æ„¿æ™¯')).toBeVisible()
})
</code></pre>
<h3 id="äº”éƒ¨ç½²ç›‘æ§ä¸è¿ç»´"><a class="header" href="#äº”éƒ¨ç½²ç›‘æ§ä¸è¿ç»´">äº”ã€éƒ¨ç½²ã€ç›‘æ§ä¸è¿ç»´</a></h3>
<ol>
<li><strong>éƒ¨ç½²æ­¥éª¤</strong>
<ul>
<li>Vercelï¼šå¯¼å…¥ä»“åº“ â†’ è®¾ç½® build command <code>pnpm build</code>ã€output-&gt;<code>.next</code> â†’ é…ç½®ç¯å¢ƒå˜é‡ã€‚</li>
<li>PlanetScaleï¼šåˆ›å»ºæ•°æ®åº“ã€åˆ†æ”¯ã€è®¾ç½® Prisma <code>DATABASE_URL</code>ã€‚</li>
<li>Redisï¼šUpstash Free Tierï¼Œé…ç½® <code>UPSTASH_REDIS_REST_URL</code>ã€‚</li>
<li>Stripeã€Resendï¼šé…ç½® API Keyã€‚</li>
</ul>
</li>
<li><strong>ç›‘æ§æŒ‡æ ‡</strong>
<ul>
<li>API å¤±è´¥ç‡ï¼š<code>&lt; 0.5%</code></li>
<li>Server Action æ‰§è¡Œæ—¶é•¿ï¼š<code>p95 &lt; 400ms</code></li>
<li>SSE è¿æ¥å¹³å‡æ—¶é•¿ï¼š<code>&gt; 10min</code></li>
<li>ç§Ÿæˆ·å¢é•¿ã€æ´»è·ƒæ–‡æ¡£æ•°ã€è®¢é˜…è½¬æ¢ç‡ã€‚</li>
</ul>
</li>
<li><strong>æ—¥å¿—ç­–ç•¥</strong>
<ul>
<li>ä½¿ç”¨ <code>pino</code> è¾“å‡º JSONï¼š<code>tenantId</code>ã€<code>userId</code>ã€<code>requestId</code>ã€<code>duration</code>ã€‚</li>
<li>Edge æ—¥å¿—é€šè¿‡ <code>console.log</code> è¾“å‡ºè‡³ Vercel Edge Logsã€‚</li>
</ul>
</li>
<li><strong>åº”æ€¥é¢„æ¡ˆ</strong>
<ul>
<li>Stripe Webhook å¤±è´¥ â†’ é‡è¯•é˜Ÿåˆ—ï¼ˆRedis Streamï¼‰ã€‚</li>
<li>Prisma Migrate å¤±è´¥ â†’ ä½¿ç”¨ <code>prisma migrate resolve</code> å›æ»šã€‚</li>
<li>SSE ä¸­æ–­ â†’ å®¢æˆ·ç«¯è‡ªåŠ¨é‡è¿ <code>eventSource.onopen</code>/<code>onerror</code>ã€‚</li>
</ul>
</li>
<li><strong>å®‰å…¨åˆè§„</strong>
<ul>
<li>å¤šç§Ÿæˆ·éš”ç¦»ï¼šæ‰€æœ‰æŸ¥è¯¢ä»¥ <code>tenantId</code> ä¸ºæ¡ä»¶ï¼›Server Action æ ¡éªŒç§Ÿæˆ· sessionã€‚</li>
<li>æ•°æ®è„±æ•ï¼šæ—¥å¿—ä¸è®°å½•æ•æ„Ÿå­—æ®µï¼›å¯¼å‡ºæ•°æ®é‡‡ç”¨åŠ å¯†ã€‚</li>
<li>éšç§æ”¿ç­–ä¸ä½¿ç”¨æ¡æ¬¾é¡µé¢ï¼ˆ<code>/legal/privacy</code>ã€<code>/legal/terms</code>ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 id="å…­è¿­ä»£è·¯çº¿å›¾å»ºè®®"><a class="header" href="#å…­è¿­ä»£è·¯çº¿å›¾å»ºè®®">å…­ã€è¿­ä»£è·¯çº¿å›¾å»ºè®®</a></h3>
<div class="table-wrapper"><table><thead><tr><th>è¿­ä»£é˜¶æ®µ</th><th>åŠŸèƒ½</th><th>æŠ€æœ¯äº®ç‚¹</th><th>é£é™©ä¸æ§åˆ¶</th></tr></thead><tbody>
<tr><td>v1.0</td><td>åŸºç¡€æ–‡æ¡£ã€ç§Ÿæˆ·ã€æƒé™</td><td>App Routerã€Prismaã€Server Action</td><td>é‰´æƒç­–ç•¥ã€SEO æœªå®Œå–„</td></tr>
<tr><td>v1.1</td><td>å®æ—¶åä½œã€è¯„è®º</td><td>SSE/WebSocketã€Optimistic UI</td><td>å®æ—¶å†²çªã€ç½‘ç»œä¸­æ–­</td></tr>
<tr><td>v1.2</td><td>è®¢é˜…ä¸è®¡è´¹</td><td>Stripeã€Webhookã€Middleware</td><td>æ”¯ä»˜å¤±è´¥å¤„ç†ã€ç¨ç‡</td></tr>
<tr><td>v1.3</td><td>å›½é™…åŒ–ã€å¤šåŒºåŸŸéƒ¨ç½²</td><td><code>next-intl</code>ã€Edge é‡å†™</td><td>å†…å®¹ç¿»è¯‘è´¨é‡</td></tr>
<tr><td>v1.4</td><td>ç§»åŠ¨ç«¯ä¼˜åŒ–ã€PWA</td><td><code>next-pwa</code>ã€PPR</td><td>ç¦»çº¿ç¼“å­˜ç­–ç•¥</td></tr>
<tr><td>v2.0</td><td>AI åŠ©æ‰‹ã€çŸ¥è¯†æ¨è</td><td>OpenAI APIã€Server Action Streaming</td><td>æˆæœ¬æ§åˆ¶ã€éšç§</td></tr>
</tbody></table>
</div>
<h3 id="ä¸ƒçŸ¥è¯†å¤–åŒ–ä¸å›¢é˜Ÿåä½œ"><a class="header" href="#ä¸ƒçŸ¥è¯†å¤–åŒ–ä¸å›¢é˜Ÿåä½œ">ä¸ƒã€çŸ¥è¯†å¤–åŒ–ä¸å›¢é˜Ÿåä½œ</a></h3>
<ul>
<li>ç»´æŠ¤ <code>/docs/architecture.md</code>ï¼Œè®°å½•ï¼šæ¶æ„å›¾ã€æ•°æ®æµã€è¿è¡Œæ—¶ç­–ç•¥ã€‚</li>
<li>å»ºç«‹ Playbookï¼šå¸¸è§æ•…éšœï¼ˆæ•°æ®åº“è¿æ¥ä¸è¶³ã€Redis è¶…æ—¶ï¼‰å¤„ç†æ­¥éª¤ã€‚</li>
<li>å®šæœŸä¸¾åŠ Demo Dayï¼Œå±•ç¤ºæ–°åŠŸèƒ½ã€æ€»ç»“æŠ€æœ¯æŒ‘æˆ˜ã€‚</li>
<li>æ¨è¡Œ RFC æ¨¡å¼ï¼šé‡å¤§å˜æ›´å…ˆæè®®åå®æ–½ã€‚</li>
</ul>
<h3 id="å…«é¡¹ç›®éªŒæ”¶æ¸…å•"><a class="header" href="#å…«é¡¹ç›®éªŒæ”¶æ¸…å•">å…«ã€é¡¹ç›®éªŒæ”¶æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<code>/</code>ã€<code>/[tenant]/dashboard</code>ã€<code>/[tenant]/documents</code> é¡µé¢æ¸²æŸ“ç¨³å®šï¼ŒSSR/ISR æ­£å¸¸ã€‚</li>
<li><input disabled="" type="checkbox"/>
Server Action å‘å¸ƒ/ç¼–è¾‘æ–‡æ¡£æˆåŠŸï¼Œç¼“å­˜åˆ·æ–°åŠæ—¶ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¤šç§Ÿæˆ·è®¿é—®éš”ç¦»ï¼Œæ— è¶Šæƒï¼›Playwright æµ‹è¯•é€šè¿‡ã€‚</li>
<li><input disabled="" type="checkbox"/>
Stripe Checkout æµç¨‹æµ‹è¯•æ²™ç®±æˆåŠŸï¼ŒWebhook è®°å½•å®Œæˆã€‚</li>
<li><input disabled="" type="checkbox"/>
SSE å®æ—¶åä½œå»¶è¿Ÿ &lt; 1 ç§’ï¼›æ–­ç½‘é‡è¿æˆåŠŸã€‚</li>
<li><input disabled="" type="checkbox"/>
Sentry/Logtail å®æ—¶æ¥æ”¶é”™è¯¯æ—¥å¿—ï¼›å¼‚å¸¸è§¦å‘å‘Šè­¦ã€‚</li>
<li><input disabled="" type="checkbox"/>
CI æµæ°´çº¿ç»¿ç¯ï¼›éƒ¨ç½²æµç¨‹å¯å›æ»šã€‚</li>
<li><input disabled="" type="checkbox"/>
æ–‡æ¡£é½å¤‡ï¼šREADMEã€API æ–‡æ¡£ã€éƒ¨ç½²æŒ‡å—ã€è¿è¡Œæ‰‹å†Œã€‚</li>
</ul>
<p>è¿™ä¸ªç»¼åˆé¡¹ç›®æ—¨åœ¨è®©å­¦ä¹ è€…åœ¨å®Œæ•´çš„å·¥ç¨‹ç¯å¢ƒä¸­å®è·µ Next.js App Router çš„æ ¸å¿ƒèƒ½åŠ›ã€‚å»ºè®®åœ¨å®Œæˆæ¯ä¸ªé˜¶æ®µåè¿›è¡Œå¤ç›˜ï¼Œå¹¶å°†ç»éªŒæ²‰æ·€ä¸ºå›¢é˜Ÿèµ„äº§ï¼Œå¦‚ä»£ç æ¨¡æ¿ã€è„šæ‰‹æ¶ã€æŠ€æœ¯åšå®¢ç­‰ã€‚</p>
<hr />
<h2 id="ä¸»é¢˜ä¸“é¡¹æ·±ç©¶ä¸“é¢˜ç ”ä¿®æŒ‡å—"><a class="header" href="#ä¸»é¢˜ä¸“é¡¹æ·±ç©¶ä¸“é¢˜ç ”ä¿®æŒ‡å—">ä¸»é¢˜ä¸“é¡¹æ·±ç©¶ï¼ˆä¸“é¢˜ç ”ä¿®æŒ‡å—ï¼‰</a></h2>
<p>åœ¨æŒæ¡æ ¸å¿ƒæ¨¡å—åï¼Œå»ºè®®é’ˆå¯¹ç‰¹å®šä¸šåŠ¡åœºæ™¯æˆ–æŠ€æœ¯æŒ‘æˆ˜è¿›è¡Œä¸“é¢˜ç ”ä¿®ã€‚æœ¬èŠ‚é€‰å– 7 ä¸ªå¸¸è§é«˜çº§ä¸»é¢˜ï¼Œæä¾›ç†è®ºèƒŒæ™¯ã€åº”ç”¨åœºæ™¯ã€å®ç°æ–¹æ¡ˆã€é£é™©æ§åˆ¶åŠå»¶ä¼¸é˜…è¯»ï¼Œå¸®åŠ©å­¦ä¹ è€…æ„å»ºæ›´å…¨é¢çš„ Next.js å·¥ç¨‹èƒ½åŠ›ã€‚</p>
<h3 id="ä¸“é¢˜ä¸€edge-runtime-ä¸å…¨çƒåŠ é€Ÿ"><a class="header" href="#ä¸“é¢˜ä¸€edge-runtime-ä¸å…¨çƒåŠ é€Ÿ">ä¸“é¢˜ä¸€ï¼šEdge Runtime ä¸å…¨çƒåŠ é€Ÿ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå…¨çƒç”¨æˆ·è®¿é—®ã€ä½å»¶è¿Ÿéœ€æ±‚å¯¼è‡´ä¼ ç»Ÿ Node Runtime éš¾ä»¥æ»¡è¶³ï¼›Edge Runtime å¯åœ¨ CDN è¾¹ç¼˜æ‰§è¡Œé€»è¾‘ï¼Œå‰Šå‡ RTTã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šA/B æµ‹è¯•ã€ä¸ªæ€§åŒ–æ¨èã€åœ°ç†é‡å®šå‘ã€ä½å»¶è¿Ÿ API ä»£ç†ã€å†…å®¹è¿‡æ»¤ã€‚</li>
<li><strong>å…³é”®èƒ½åŠ›</strong>ï¼š
<ol>
<li><code>middleware.ts</code> ä¸­ä½¿ç”¨ Web APIï¼ˆ<code>Request</code>ã€<code>Response</code>ã€<code>Headers</code>ï¼‰ã€‚</li>
<li>Route Handler æŒ‡å®š <code>export const runtime = 'edge'</code>ã€‚</li>
<li>Edge å…¼å®¹åº“ï¼š<code>@vercel/edge</code>ã€<code>itty-router</code>ã€<code>jose</code>ï¼ˆJWTï¼‰ã€<code>@upstash/redis</code>ã€‚</li>
</ol>
</li>
<li><strong>ç¤ºä¾‹ï¼šåœ°ç†å®šå‘å†…å®¹</strong></li>
</ul>
<pre><code class="language-ts">// middleware.ts
import { NextResponse } from 'next/server'

export async function middleware(request: Request) {
  const url = new URL(request.url)
  const country = request.headers.get('x-vercel-ip-country') ?? 'US'
  if (url.pathname === '/' &amp;&amp; country === 'CN') {
    url.pathname = '/zh-cn'
    return NextResponse.rewrite(url)
  }
  return NextResponse.next()
}
</code></pre>
<ul>
<li><strong>é£é™©æ§åˆ¶</strong>ï¼šEdge ä¸æ”¯æŒ Node æ ¸å¿ƒæ¨¡å—ï¼›å°†æ•°æ®åº“è®¿é—®ã€é‡å‹è®¡ç®—ç§»åŠ¨åˆ°åç«¯ï¼›ç»™ Edge è¿”å› <code>Cache-Control</code> é˜²æ­¢ç¼“å­˜ç©¿é€ã€‚</li>
<li><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼šVercel Edge Functions æ–‡æ¡£ã€Cloudflare Workers è¿ç§»æŒ‡å—ã€‚</li>
</ul>
<h3 id="ä¸“é¢˜äºŒgraphql-ä¸-nextjs-é›†æˆ"><a class="header" href="#ä¸“é¢˜äºŒgraphql-ä¸-nextjs-é›†æˆ">ä¸“é¢˜äºŒï¼šGraphQL ä¸ Next.js é›†æˆ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå¤§å‹å›¢é˜Ÿå€¾å‘äº GraphQL èšåˆåç«¯ï¼›Next.js å¯ä½œä¸º GraphQL Client æˆ– Serverã€‚</li>
<li><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>@apollo/client</code> + RSCï¼šåœ¨ Server Component ä¸­æ‰§è¡Œ GraphQL Queryï¼Œå‡å°‘å®¢æˆ·ç«¯ä¾èµ–ã€‚</li>
<li>æ„å»º Route Handler GraphQL Serverï¼š<code>graphql-http</code> + Yogaã€‚</li>
</ul>
</li>
</ul>
<pre><code class="language-ts">// app/api/graphql/route.ts
import { createYoga } from 'graphql-yoga'
import { schema } from '@/lib/graphql/schema'

export const runtime = 'nodejs'

const yoga = createYoga({ schema })

export { yoga as GET, yoga as POST }
</code></pre>
<ul>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆ©ç”¨ GraphQL <code>@cacheControl</code>ã€<code>revalidate</code>ï¼›å®¢æˆ·ç«¯å¯ä½¿ç”¨ <code>SWR</code>ã€<code>urql</code>ã€‚</li>
<li><strong>é£é™©æ§åˆ¶</strong>ï¼šSchema å˜æ›´éœ€è¦ç‰ˆæœ¬ç®¡ç†ï¼›ç¡®ä¿ GraphQL æŸ¥è¯¢åœ¨ RSC ä¸­ä¸ä¼šå¼•å…¥ Client-only æ¨¡å—ã€‚</li>
<li><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼šApollo Federation + Next.js å®è·µã€GraphQL Yoga å®˜æ–¹ç¤ºä¾‹ã€‚</li>
</ul>
<h3 id="ä¸“é¢˜ä¸‰å¾®å‰ç«¯ä¸-bff-ååŒ"><a class="header" href="#ä¸“é¢˜ä¸‰å¾®å‰ç«¯ä¸-bff-ååŒ">ä¸“é¢˜ä¸‰ï¼šå¾®å‰ç«¯ä¸ BFF ååŒ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå¤§å‹ç»„ç»‡æ‹†åˆ†å¤šä¸ªç‹¬ç«‹å›¢é˜Ÿå…±äº«ä¸€ä¸ª Next.js é—¨æˆ·ï¼Œæˆ–ä¸å…¶ä»–æ¡†æ¶å…±å­˜ã€‚</li>
<li><strong>æ–¹æ¡ˆé€‰å‹</strong>ï¼š
<ul>
<li>Module Federationï¼šä½¿ç”¨ <code>next/dynamic</code> åŠ¨æ€åŠ è½½è¿œç¨‹ç»„ä»¶ã€‚</li>
<li>Islands æ¶æ„ï¼šæ ¸å¿ƒé¡µé¢ç”± Next.js App Router æ‰¿æ‹…ï¼›å­ç³»ç»Ÿé€šè¿‡ iframe/å¾®åº”ç”¨åµŒå…¥ã€‚</li>
</ul>
</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼š
<ul>
<li>å…±äº«è®¾è®¡ç³»ç»Ÿï¼ˆTailwind ä¸»é¢˜ã€ç»„ä»¶åº“ï¼‰ã€‚</li>
<li>ç»Ÿä¸€é‰´æƒï¼ˆMiddleware + Shared Tokenï¼‰ã€‚</li>
<li>BFF èšåˆï¼šåœ¨ Route Handler ä¸­æ¶ˆè´¹ä¸‹æ¸¸æœåŠ¡ï¼Œç»Ÿä¸€æ•°æ®åè®®ã€‚</li>
</ul>
</li>
<li><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š
<ul>
<li>è¿œç¨‹ç»„ä»¶éœ€ç¼–è¯‘å…¼å®¹ï¼›ç‰ˆæœ¬ä¸ä¸€è‡´æ˜“é€ æˆ runtime å†²çªã€‚</li>
<li>Monitorï¼šåœ¨ä¸»åº”ç”¨ä¸­æ•è·å­åº”ç”¨é”™è¯¯ï¼Œé¿å…æ— æç¤ºå¤±è´¥ã€‚</li>
</ul>
</li>
<li><strong>å·¥å…·</strong>ï¼š<code>module-federation/nextjs-mf</code>ã€Single-SPAã€Open Componentsã€‚</li>
</ul>
<h3 id="ä¸“é¢˜å››å®æ—¶é€šä¿¡ä¸åä½œ"><a class="header" href="#ä¸“é¢˜å››å®æ—¶é€šä¿¡ä¸åä½œ">ä¸“é¢˜å››ï¼šå®æ—¶é€šä¿¡ä¸åä½œ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šèŠå¤©ã€åä½œæ–‡æ¡£ã€é€šçŸ¥ç³»ç»Ÿéœ€è¦å®æ—¶æ›´æ–°ï¼›Next.js å¯é€šè¿‡ SSEã€WebSocketã€Server Actions Streaming æä¾›å®æ—¶èƒ½åŠ›ã€‚</li>
<li><strong>æ–¹æ¡ˆæ¯”è¾ƒ</strong>ï¼š
<ul>
<li>SSEï¼šç®€å•ã€å•å‘ã€å…¼å®¹æ€§å¥½ï¼›é€‚åˆ Feedã€é€šçŸ¥ã€‚</li>
<li>WebSocketï¼šåŒå‘ï¼Œé€‚åˆèŠå¤©ã€åä½œï¼›éœ€å¤–éƒ¨æœåŠ¡æˆ–è‡ªå»ºã€‚</li>
<li>Server Action Streamingï¼šReact 19 é¢„è§ˆç‰¹æ€§ï¼Œå¯ç”¨äº AI æ–‡æœ¬æµå¼è¾“å‡ºã€‚</li>
</ul>
</li>
<li><strong>å®ç°å»ºè®®</strong>ï¼š
<ul>
<li>å€ŸåŠ© Pusherã€Ablyã€Supabase Realtimeï¼Œå‡å°‘è‡ªå»ºæˆæœ¬ã€‚</li>
<li>ä½¿ç”¨ <code>next-sse</code>ã€<code>iron-session</code> ç®¡ç†è¿æ¥çŠ¶æ€ã€‚</li>
<li>åœ¨ Client ç»„ä»¶ä¸­ç»“åˆ <code>useSyncExternalStore</code> æ›´æ–°çŠ¶æ€ã€‚</li>
</ul>
</li>
<li><strong>é£é™©æ§åˆ¶</strong>ï¼š
<ul>
<li>è¿æ¥æ–­å¼€å¤„ç†ã€å¿ƒè·³ä¿æŒï¼›</li>
<li>å¤šç§Ÿæˆ·éš”ç¦»ï¼›</li>
<li>æˆæƒ Token è¿‡æœŸåˆ·æ–°ã€‚</li>
</ul>
</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šAI Chatbot Server Action Streaming</li>
</ul>
<pre><code class="language-tsx">export const runtime = 'edge'

export async function POST(request: Request) {
  const { prompt } = await request.json()
  const stream = await openai.responses.stream({ model: 'gpt-4o-mini', input: prompt })
  return new Response(stream.toReadableStream(), {
    headers: { 'Content-Type': 'text/event-stream' }
  })
}
</code></pre>
<h3 id="ä¸“é¢˜äº”å¤šåŒºåŸŸå¤šè¯­è¨€ä¸æœ¬åœ°åŒ–"><a class="header" href="#ä¸“é¢˜äº”å¤šåŒºåŸŸå¤šè¯­è¨€ä¸æœ¬åœ°åŒ–">ä¸“é¢˜äº”ï¼šå¤šåŒºåŸŸã€å¤šè¯­è¨€ä¸æœ¬åœ°åŒ–</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä¼ä¸šé¢å‘å…¨çƒç”¨æˆ·ï¼Œéœ€è¦æœ¬åœ°åŒ–å†…å®¹ã€è´§å¸ã€æ—¶åŒºå¤„ç†ã€‚</li>
<li><strong>å®ç°è¦ç‚¹</strong>ï¼š
<ol>
<li>è·¯ç”±ç»“æ„ï¼š<code>app/[locale]/(marketing)/page.tsx</code>ã€‚</li>
<li>æ•°æ®æœ¬åœ°åŒ–ï¼š<code>intl</code>ã€<code>date-fns-tz</code> æ ¼å¼åŒ–æ—¥æœŸã€‚</li>
<li>Currencyï¼š<code>Intl.NumberFormat</code>ã€‚</li>
<li>SEOï¼š<code>alternates.languages</code>ã€<code>hreflang</code>ã€‚</li>
</ol>
</li>
<li><strong>å·¥å…·é“¾</strong>ï¼š<code>next-intl</code>ã€<code>lingui</code>ã€<code>formatjs</code>ã€‚</li>
<li><strong>é£é™©æ§åˆ¶</strong>ï¼š
<ul>
<li>æ–‡æ¡ˆç¿»è¯‘æµç¨‹éœ€ä¸äº§å“ååŒã€‚</li>
<li>æ—¶åŒºå¤„ç†éœ€ç»Ÿä¸€ï¼Œä»¥ UTC å­˜å‚¨ã€å®¢æˆ·ç«¯å±•ç¤ºã€‚</li>
<li>ä»·æ ¼ç­–ç•¥ / ç¨ç‡æ ¹æ®åŒºåŸŸè°ƒæ•´ã€‚</li>
</ul>
</li>
</ul>
<h3 id="ä¸“é¢˜å…­å®‰å…¨ä¸åˆè§„security--compliance"><a class="header" href="#ä¸“é¢˜å…­å®‰å…¨ä¸åˆè§„security--compliance">ä¸“é¢˜å…­ï¼šå®‰å…¨ä¸åˆè§„ï¼ˆSecurity &amp; Complianceï¼‰</a></h3>
<ul>
<li><strong>å®‰å…¨ç­–ç•¥</strong>ï¼š
<ul>
<li>CSP å¤´éƒ¨ï¼šä½¿ç”¨ <code>next-safe-middleware</code>ã€‚</li>
<li>CSRFï¼šè·¯ç”±æ•æ„Ÿæ“ä½œä½¿ç”¨ Tokenã€‚</li>
<li>RCE é˜²æŠ¤ï¼š<code>dangerouslySetInnerHTML</code> å‰æ¶ˆæ¯’ï¼ˆDOMPurifyï¼‰ã€‚</li>
<li>SSRFï¼šå¯¹å¤–éƒ¨ <code>fetch</code> é™åˆ¶åŸŸåã€‚</li>
</ul>
</li>
<li><strong>åˆè§„è¦æ±‚</strong>ï¼š
<ul>
<li>GDPRï¼šç”¨æˆ·æ•°æ®å¯¼å‡ºä¸åˆ é™¤æ¥å£ï¼›<code>/api/gdpr/export</code>ã€‚</li>
<li>æ•°æ®ä¿ç•™ç­–ç•¥ï¼šæ—¥å¿—ä¿ç•™ 30 å¤©ã€ç”¨æˆ·æ•°æ®å¯åŒ¿ååŒ–ã€‚</li>
<li>å®¡è®¡ï¼šè®°å½•å…³é”®æ“ä½œæ—¥å¿—ï¼ˆæ–‡æ¡£åˆ é™¤ã€æƒé™å˜æ›´ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å·¥å…·</strong>ï¼š<code>helmet</code>ã€<code>csurf</code>ã€<code>@hapi/iron</code>ã€<code>@edge-runtime/primitives/crypto</code>ã€‚</li>
</ul>
<h3 id="ä¸“é¢˜ä¸ƒai-ä¸-nextjs-èåˆ"><a class="header" href="#ä¸“é¢˜ä¸ƒai-ä¸-nextjs-èåˆ">ä¸“é¢˜ä¸ƒï¼šAI ä¸ Next.js èåˆ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæ™ºèƒ½æ–‡æ¡£æ‘˜è¦ã€ä¸Šä¸‹æ–‡æœç´¢ã€AI åŠ©æ‰‹ã€ä»£ç ç‰‡æ®µç”Ÿæˆã€‚</li>
<li><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼š
<ul>
<li>Server Action è°ƒç”¨ OpenAIã€Anthropicã€Azure OpenAIï¼›</li>
<li>RSC ä¸­å±•ç¤ºç”Ÿæˆç»“æœï¼Œç»“åˆ Streamingï¼›</li>
<li>ä½¿ç”¨ <code>Vercel AI SDK</code>ï¼ˆ<code>ai</code> åŒ…ï¼‰çš„ Router + UI ç»„ä»¶ï¼›</li>
<li>ç»“åˆå‘é‡æ•°æ®åº“ï¼ˆPineconeã€Weaviateã€Qdrantï¼‰å®ç° RAGã€‚</li>
</ul>
</li>
<li><strong>ç¤ºä¾‹ï¼šServer Action + RAG</strong></li>
</ul>
<pre><code class="language-ts">'use server'

import { embed } from '@/lib/embeddings'
import { search } from '@/lib/vector-store'
import { streamText } from 'ai'

export async function generateAnswerAction(question: string) {
  const queryVector = await embed(question)
  const contexts = await search(queryVector, { topK: 5 })
  const stream = await streamText({
    model: 'gpt-4o-mini',
    system: 'ä½ æ˜¯çŸ¥è¯†åº“åŠ©æ‰‹',
    messages: [
      { role: 'user', content: `${question}\n\nä¸Šä¸‹æ–‡ï¼š${contexts.join('\n')}` }
    ]
  })
  return stream
}
</code></pre>
<ul>
<li><strong>é£é™©æ§åˆ¶</strong>ï¼š
<ul>
<li>æˆæœ¬ç›‘æ§ï¼šè®°å½• Token ä½¿ç”¨ã€è®¾ç½®é™é¢ã€‚</li>
<li>æ•æ„Ÿå†…å®¹è¿‡æ»¤ï¼šç»“åˆ OpenAI Moderation APIã€‚</li>
<li>æ•°æ®éšç§ï¼šç¡®ä¿ä¸Šä¸‹æ–‡ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼›åŒ¿ååŒ–æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼šVercel AI Playgroundã€LangChain + Next.js ç¤ºä¾‹ã€‚</li>
</ul>
<hr />
<h2 id="é—®é¢˜è¯Šæ–­ä¸æ•…éšœæ’æŸ¥æ‰‹å†Œtroubleshooting-cookbook"><a class="header" href="#é—®é¢˜è¯Šæ–­ä¸æ•…éšœæ’æŸ¥æ‰‹å†Œtroubleshooting-cookbook">é—®é¢˜è¯Šæ–­ä¸æ•…éšœæ’æŸ¥æ‰‹å†Œï¼ˆTroubleshooting Cookbookï¼‰</a></h2>
<p>æœ¬æ‰‹å†ŒæŒ‰ç…§â€œç—‡çŠ¶ â†’ å¯èƒ½åŸå›  â†’ æ’æŸ¥æ­¥éª¤ â†’ è§£å†³æ–¹æ¡ˆâ€çš„ç»“æ„ï¼Œè¦†ç›– 30+ ç±» Next.js App Router å¸¸è§æ•…éšœï¼Œå¸®åŠ©åœ¨ç”Ÿäº§ç¯å¢ƒå¿«é€Ÿå®šä½å¹¶æ¢å¤æœåŠ¡ã€‚å»ºè®®æ‰“å°æˆ–çº³å…¥è¿è¡Œæ‰‹å†Œã€‚</p>
<div class="table-wrapper"><table><thead><tr><th>åºå·</th><th>ç—‡çŠ¶</th><th>å¯èƒ½åŸå› </th><th>æ’æŸ¥æ­¥éª¤</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody>
<tr><td>1</td><td>éƒ¨ç½²åé¡µé¢ç™½å±ä¸”æ— é”™è¯¯æç¤º</td><td>Client bundle æ„å»ºå¤±è´¥ã€RSC å¼‚å¸¸</td><td>æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ã€Network <code>/_next/flight</code> å“åº”</td><td>ä¿®å¤æ„å»ºé”™è¯¯ã€æ£€æŸ¥ RSC ä¾èµ–æ˜¯å¦åŒ…å« Client-only æ¨¡å—</td></tr>
<tr><td>2</td><td><code>next build</code> æŠ¥é”™ â€œReactServerComponentsErrorâ€</td><td>åœ¨ Server Component ä¸­å¼•ç”¨äº† <code>"use client"</code> æ¨¡å—</td><td>æœç´¢å¯¼å…¥è·¯å¾„ï¼ŒæŸ¥çœ‹ <code>eslint-config-next</code> æŠ¥è­¦</td><td>æ‹†åˆ†ç»„ä»¶ï¼Œå°† <code>use client</code> æ¨¡å—æ”¾å…¥å®¢æˆ·ç«¯æ–‡ä»¶å¤¹</td></tr>
<tr><td>3</td><td><code>fetch</code> è¯·æ±‚é‡å¤å‘é€ä¸¤æ¬¡</td><td>RSC + React StrictMode åŒè°ƒç”¨ã€æˆ– Suspense é‡å¤æ¸²æŸ“</td><td>æ£€æŸ¥ç»„ä»¶æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒã€æ·»åŠ æ—¥å¿—</td><td>ç”Ÿäº§ç¯å¢ƒä¸ä¼šé‡å¤ï¼›æˆ–ä½¿ç”¨ <code>useMemo</code> ç¼“å­˜æ•°æ®å‡½æ•°</td></tr>
<tr><td>4</td><td><code>revalidateTag</code> ä¸ç”Ÿæ•ˆ</td><td>æœªç»‘å®š <code>tags</code> æˆ– Action æœªæ‰§è¡Œ</td><td>æ£€æŸ¥ <code>fetch</code> æ˜¯å¦è®¾ç½® <code>next: { tags }</code></td><td>ç¡®ä¿ <code>revalidateTag('tag')</code> ä¸ <code>tags</code> åŒ¹é…ï¼Œç¡®è®¤ Action æˆåŠŸæ‰§è¡Œ</td></tr>
<tr><td>5</td><td>ç™»å½•çŠ¶æ€ä¸¢å¤±</td><td>Cookie <code>Secure</code>/<code>SameSite</code> é…ç½®ä¸å½“</td><td>Chrome DevTools æ£€æŸ¥ Cookie å±æ€§</td><td>åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ HTTPSï¼Œè®¾ç½® <code>SameSite=Lax</code> æˆ– <code>None; Secure</code></td></tr>
<tr><td>6</td><td>Edge Route è®¿é—®æ•°æ®åº“æŠ¥é”™</td><td>Edge ä¸æ”¯æŒ Node Driver</td><td>é”™è¯¯æ—¥å¿—æŒ‡å‘ <code>PrismaClient</code></td><td>åˆ‡æ¢åˆ° Node Runtime æˆ–ä½¿ç”¨ HTTP API è®¿é—®</td></tr>
<tr><td>7</td><td>å›¾ç‰‡åŠ è½½404</td><td><code>next/image</code> æœªé…ç½®è¿œç¨‹åŸŸå</td><td>æŸ¥çœ‹ <code>next.config.js</code></td><td>æ·»åŠ  <code>images.domains</code> æˆ–ä½¿ç”¨ <code>remotePatterns</code></td></tr>
<tr><td>8</td><td>Tailwind ç±»åè¢« Purge</td><td><code>content</code> æœªåŒ…å« <code>src</code>ã€<code>app</code></td><td>æ£€æŸ¥ <code>tailwind.config.js</code></td><td>æ·»åŠ  <code>./src/**/*.{js,ts,jsx,tsx}</code>, <code>./app/**/*.{js,ts,jsx,tsx}</code></td></tr>
<tr><td>9</td><td>Playwright æµ‹è¯•ä¸ç¨³å®š</td><td>API ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡ã€SSR æ…¢</td><td>æŸ¥çœ‹æµ‹è¯•æ—¥å¿—ã€æˆªå›¾</td><td>å¼•å…¥ Mockï¼ˆMSWï¼‰ã€åŠ å¤§è¶…æ—¶æ—¶é—´ã€ä½¿ç”¨æµ‹è¯•æ•°æ®åº“</td></tr>
<tr><td>10</td><td>Server Action è¿”å› 500</td><td>æœªæ•è·å¼‚å¸¸æˆ–éªŒè¯å¤±è´¥</td><td>æœåŠ¡å™¨æ—¥å¿—</td><td>æ•è·é”™è¯¯ï¼Œè¿”å›ç»“æ„åŒ–å“åº”ï¼›åŠ  zod éªŒè¯</td></tr>
<tr><td>11</td><td><code>import</code> å¤±è´¥: Module not found</td><td>TS åˆ«åæœªé…ç½®</td><td><code>tsconfig.json</code>/<code>next.config.js</code> æ£€æŸ¥</td><td>æ›´æ–° <code>paths</code>ï¼ŒåŒæ­¥ VSCode é…ç½®</td></tr>
<tr><td>12</td><td>éƒ¨ç½² Docker å¯åŠ¨ <code>pnpm start</code> å¤±è´¥</td><td><code>pnpm install --prod</code> ç¼ºå¤±ä¾èµ–</td><td>å®¹å™¨æ—¥å¿— <code>module not found</code></td><td>åœ¨ builder é˜¶æ®µè¿è¡Œ <code>pnpm prune --prod</code>ï¼Œå¤åˆ¶ <code>node_modules</code></td></tr>
<tr><td>13</td><td>ISR é¡µé¢æœªæ›´æ–°</td><td><code>revalidate</code> æœªè®¾ç½®ã€<code>revalidateTag</code> æœªè°ƒç”¨</td><td>æŸ¥çœ‹ <code>.next/server/app</code> æ„å»ºé…ç½®</td><td>è®¾ç½® <code>export const revalidate</code> æˆ– Action è°ƒç”¨ revalidate</td></tr>
<tr><td>14</td><td>é¢„è§ˆæ¨¡å¼æ— æ•ˆ</td><td>æœªè°ƒç”¨ <code>draftMode().set</code></td><td>æ£€æŸ¥ <code>/api/preview</code> Route Handler</td><td>æ·»åŠ  GET Handlerï¼Œè®¾ç½® cookies</td></tr>
<tr><td>15</td><td>RSC ä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹ SDK æŠ¥é”™</td><td>SDK ä»…æ”¯æŒæµè§ˆå™¨</td><td>é˜…è¯» SDK æ–‡æ¡£</td><td>å¼•å…¥ server-safe SDK æˆ–åœ¨ Client Component ä½¿ç”¨</td></tr>
<tr><td>16</td><td>å›¾ç‰‡ä¼˜åŒ–æŠ¥é”™ â€œENOENTâ€</td><td>è‡ªæ‰˜ç®¡ç¼ºå°‘ä¼˜åŒ–å™¨ä¾èµ–</td><td>æŸ¥çœ‹æ„å»ºæ—¥å¿—</td><td>å®‰è£… <code>sharp</code>ï¼Œæˆ–åœ¨ next.config ä¸­ <code>images.unoptimized = true</code></td></tr>
<tr><td>17</td><td><code>npm run lint</code> å¡ä½</td><td>ç›®å½•å¤ªå¤§ã€ESLint æœªå¿½ç•¥ç”Ÿæˆæ–‡ä»¶</td><td>æ£€æŸ¥ <code>.eslintignore</code></td><td>å¿½ç•¥ <code>.next</code>ã€<code>dist</code>ã€<code>coverage</code></td></tr>
<tr><td>18</td><td><code>useRouter</code> åœ¨ Server Component ä½¿ç”¨æŠ¥é”™</td><td>Hooks ä»…é™ Client Component</td><td>é”™è¯¯ä¿¡æ¯ <code>useRouter only works in Client Components</code></td><td>å°†é€»è¾‘ç§»å…¥ <code>"use client"</code> ç»„ä»¶</td></tr>
<tr><td>19</td><td><code>window</code> æœªå®šä¹‰</td><td>Server Component ä¸­ä½¿ç”¨æµè§ˆå™¨ API</td><td>stack trace æŒ‡å‘ SSR</td><td>æ‹†åˆ†å®¢æˆ·ç«¯ç»„ä»¶</td></tr>
<tr><td>20</td><td><code>prisma generate</code> å¤±è´¥</td><td>Binary ä¸å¹³å°ä¸åŒ¹é…</td><td>çœ‹é”™è¯¯ <code>query-engine</code> ä¸‹è½½å¤±è´¥</td><td>åœ¨æ„å»ºç¯å¢ƒæ‰§è¡Œ <code>npx prisma generate --schema=...</code>ï¼Œç¡®ä¿ç½‘ç»œå¯è®¿é—®</td></tr>
<tr><td>21</td><td>Stripe Webhook éªŒè¯å¤±è´¥</td><td>signature é”™è¯¯ã€åŸå§‹ body æœªä¿ç•™</td><td>æŸ¥çœ‹æ—¥å¿—</td><td>åœ¨ Route Handler ä¸­ä½¿ç”¨ <code>rawBody</code> (<code>request.text()</code>)</td></tr>
<tr><td>22</td><td>ç”Ÿäº§ç¯å¢ƒ 500</td><td>æœªæ•è· Promise rejection</td><td>æŸ¥ Vercel æ—¥å¿— <code>Unhandled Rejection</code></td><td>åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨ try/catchï¼Œæˆ– <code>process.on('unhandledRejection')</code></td></tr>
<tr><td>23</td><td>åœ¨ Edge ä¸­ä½¿ç”¨ <code>Buffer</code> æŠ¥é”™</td><td>Edge ä¸æ”¯æŒ Node Buffer</td><td>é”™è¯¯ <code>Buffer is not defined</code></td><td>ä½¿ç”¨ <code>TextEncoder</code>ã€<code>Uint8Array</code> æˆ–åœ¨ Node Runtime è¿è¡Œ</td></tr>
<tr><td>24</td><td>SEO é¡µé¢æœªè¢«æ”¶å½•</td><td>Robots/sitemap ç¼ºå¤±ã€SSR å¤±è´¥</td><td>Search Console æ£€æŸ¥</td><td>ä¿®å¤ robotsã€ç”Ÿæˆ sitemapã€ä¿è¯ 200 å“åº”</td></tr>
<tr><td>25</td><td><code>module not found: Can't resolve fs</code></td><td>Client ç»„ä»¶å¼•ç”¨ Node æ¨¡å—</td><td>ç»„ä»¶ä½“ç§¯</td><td>å°†æ–‡ä»¶æ“ä½œç§»è‡³ Route Handler æˆ– Node Runtime</td></tr>
<tr><td>26</td><td><code>GET /api</code> ç¼“æ…¢</td><td>æœªä½¿ç”¨ç¼“å­˜ã€å¤–éƒ¨ API æ…¢</td><td>ç›‘æ§ API æ—¶å»¶</td><td>æ·»åŠ ç¼“å­˜ã€å¹¶å‘è¯·æ±‚ã€é™çº§ç­–ç•¥</td></tr>
<tr><td>27</td><td>Core Web Vitals LCP è¶…æ ‡</td><td>é¦–å±å›¾ç‰‡è¿‡å¤§ã€JS é˜»å¡</td><td>Lighthouse åˆ†æ</td><td>ä½¿ç”¨ <code>priority</code> å›¾ç‰‡ã€å»¶è¿Ÿè„šæœ¬</td></tr>
<tr><td>28</td><td><code>TypeError: Cannot read properties of undefined</code></td><td>params æœªä¼ ã€SSR ä¸ CSR è¡Œä¸ºä¸åŒ</td><td>æ£€æŸ¥ <code>params</code> ç»“æ„</td><td>åœ¨ <code>generateStaticParams</code> ç¡®ä¿è¿”å›ã€æ·»åŠ é˜²å®ˆå¼ç¼–ç¨‹</td></tr>
<tr><td>29</td><td>Middleware é‡å®šå‘æ­»å¾ªç¯</td><td>é€»è¾‘æœªæ’é™¤ç™»å½•é¡µ</td><td>æŸ¥çœ‹ Network é‡å¤è¯·æ±‚</td><td>åœ¨ middleware ä¸­æ’é™¤ <code>/login</code> ç­‰è·¯å¾„</td></tr>
<tr><td>30</td><td><code>node:events</code> warning MaxListenersExceeded</td><td>EventEmitter é‡å¤æ³¨å†Œ</td><td>è§‚å¯Ÿ warn</td><td>åœ¨å¼€å‘ç¯å¢ƒé‡ç½®ç›‘å¬ï¼Œæˆ– <code>setMaxListeners</code></td></tr>
<tr><td>31</td><td><code>Hydration failed</code></td><td>SSR ä¸ CSR è¾“å‡ºä¸ä¸€è‡´</td><td>æ§åˆ¶å°æç¤º divergent tree</td><td>é¿å…åœ¨ Server Component ä¸­ä½¿ç”¨éšæœºæ•°/æ—¥æœŸï¼›ä½¿ç”¨å ä½</td></tr>
<tr><td>32</td><td><code>Unhandled Runtime Error: invalid JSON response body</code></td><td>fetch è¿”å› HTMLï¼ˆå¦‚ 404ï¼‰</td><td>Network æ£€æŸ¥ Response</td><td>å¢åŠ çŠ¶æ€ç æ£€æŸ¥ã€<code>if (!res.ok)</code> å¤„ç†</td></tr>
<tr><td>33</td><td><code>ERR_HTTP_HEADERS_SENT</code></td><td>åŒé‡å“åº”</td><td>è¿½è¸ªæ—¥å¿—</td><td>ç¡®ä¿ Route Handler åªè¿”å›ä¸€æ¬¡ Response</td></tr>
<tr><td>34</td><td><code>Deployment failed</code>ï¼ˆVercelï¼‰</td><td>æ„å»ºè¶…æ—¶ã€ç¯å¢ƒå˜é‡ç¼ºå¤±</td><td>Vercel Dashboard</td><td>ä¼˜åŒ–æ„å»ºã€æ£€æŸ¥ envã€ä½¿ç”¨ç¼“å­˜</td></tr>
<tr><td>35</td><td><code>ENOENT: no such file or directory, open '.env'</code></td><td>æ„å»ºç¯å¢ƒç¼ºå°‘ env</td><td>CI æ—¥å¿—</td><td>åœ¨ CI ä¸­æ³¨å…¥ envï¼Œæˆ–æä¾›é»˜è®¤å€¼</td></tr>
</tbody></table>
</div>
<p><strong>é€šç”¨æ’æŸ¥æµç¨‹</strong>ï¼š</p>
<ol>
<li>æ˜ç¡®èŒƒå›´ï¼šå•é¡µé¢ / å…¨ç«™ / ç‰¹å®šç”¨æˆ· / ç‰¹å®šåŒºåŸŸï¼›</li>
<li>æŸ¥çœ‹ç›‘æ§ï¼šSentryã€Logtailã€Vercel Logsã€Edge Logsï¼›</li>
<li>é‡ç°åœºæ™¯ï¼šæœ¬åœ°ã€Previewã€Productionï¼›</li>
<li>åˆ†å±‚å®šä½ï¼šè·¯ç”± â†’ æ•°æ® â†’ Server Action â†’ å¤–éƒ¨ API â†’ å®¢æˆ·ç«¯ï¼›</li>
<li>åˆ¶å®šä¿®å¤æ–¹æ¡ˆï¼šä¸´æ—¶ç¼“è§£ï¼ˆå›æ»šã€é™çº§ï¼‰ã€æ ¹å› ä¿®å¤ï¼ˆä»£ç ã€é…ç½®ã€åŸºç¡€è®¾æ–½ï¼‰ï¼›</li>
<li>è®°å½• Incidentï¼Œæ€»ç»“ç»éªŒï¼Œæ›´æ–° Playbookã€‚</li>
</ol>
<hr />
<h2 id="è‡ªåŠ¨åŒ–æµ‹è¯•ä¸è´¨é‡ä¿éšœè“å›¾"><a class="header" href="#è‡ªåŠ¨åŒ–æµ‹è¯•ä¸è´¨é‡ä¿éšœè“å›¾">è‡ªåŠ¨åŒ–æµ‹è¯•ä¸è´¨é‡ä¿éšœè“å›¾</a></h2>
<p>å…¨é¢çš„è´¨é‡ä¿éšœä½“ç³»åº”è¦†ç›–å•å…ƒã€é›†æˆã€ç«¯åˆ°ç«¯ã€æ€§èƒ½ã€å®‰å…¨ã€å›å½’ç­‰å¤šä¸ªç»´åº¦ã€‚æœ¬èŠ‚ä»æµ‹è¯•ç­–ç•¥ã€ç¯å¢ƒæ­å»ºã€ç”¨ä¾‹è®¾è®¡ã€æŒç»­é›†æˆã€è´¨é‡åº¦é‡ã€æµ‹è¯•æ•°æ®ç®¡ç†å…­ä¸ªæ–¹é¢ç»™å‡ºè¯¦å°½æŒ‡å—ã€‚</p>
<h3 id="1-æµ‹è¯•ç­–ç•¥è®¾è®¡"><a class="header" href="#1-æµ‹è¯•ç­–ç•¥è®¾è®¡">1. æµ‹è¯•ç­–ç•¥è®¾è®¡</a></h3>
<ul>
<li><strong>é‡‘å­—å¡”ç»“æ„</strong>ï¼š
<ul>
<li>åŸºçº¿å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 60%ï¼›</li>
<li>é›†æˆæµ‹è¯•è¦†ç›– Server Actionã€Route Handler æ ¸å¿ƒè·¯å¾„ï¼›</li>
<li>E2E æµ‹è¯•è¦†ç›–ç”¨æˆ·å…³é”®æ—…ç¨‹ï¼ˆHappy Path + å…³é”®å¤±è´¥åœºæ™¯ï¼‰ï¼›</li>
<li>ä½“éªŒæµ‹è¯•ï¼šLighthouseã€Web Vitalsã€‚</li>
</ul>
</li>
<li><strong>å·¦ç§»æµ‹è¯•</strong>ï¼š
<ul>
<li>åœ¨ PR é˜¶æ®µæ‰§è¡Œ <code>pnpm lint</code>ã€<code>pnpm test</code>ï¼›</li>
<li>å¼•å…¥ <code>msw</code> å®ç° API Mockï¼Œåœ¨å¼€å‘æ—¶å³éªŒè¯ï¼›</li>
<li>åœ¨ Code Review Checklist ä¸­åŠ å…¥â€œæ˜¯å¦åŒ…å«æµ‹è¯•â€ã€‚</li>
</ul>
</li>
<li><strong>é£é™©åˆ†æ</strong>ï¼š
<ul>
<li>åˆ—å‡ºé«˜é£é™©æ¨¡å—ï¼ˆé‰´æƒã€æ”¯ä»˜ã€æ•°æ®å†™å…¥ã€ç¼“å­˜ï¼‰ï¼Œä¼˜å…ˆåŠ å¼ºæµ‹è¯•å¯†åº¦ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-æµ‹è¯•ç¯å¢ƒä¸å·¥å…·"><a class="header" href="#2-æµ‹è¯•ç¯å¢ƒä¸å·¥å…·">2. æµ‹è¯•ç¯å¢ƒä¸å·¥å…·</a></h3>
<div class="table-wrapper"><table><thead><tr><th>ç»´åº¦</th><th>æ¨èå·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody>
<tr><td>å•å…ƒæµ‹è¯•</td><td>Vitestã€Jest</td><td>Vitest ä¸ Vite ç”Ÿæ€å…¼å®¹ï¼Œé€Ÿåº¦å¿«ï¼›Jest ç”Ÿæ€æˆç†Ÿ</td></tr>
<tr><td>ç»„ä»¶æµ‹è¯•</td><td>Testing Library</td><td>å¼ºè°ƒç”¨æˆ·è¡Œä¸ºï¼›é…åˆ Vitest ä½¿ç”¨</td></tr>
<tr><td>Mock</td><td>MSW (Mock Service Worker)</td><td>åŒæ—¶æ”¯æŒæµè§ˆå™¨å’Œ Nodeï¼›Route Handler æµ‹è¯•ä¹Ÿå¯ä½¿ç”¨</td></tr>
<tr><td>è¦†ç›–ç‡</td><td>c8ã€istanbul</td><td><code>vitest --coverage</code>ï¼›åˆ†ææŠ¥å‘Šç”¨äºå®¡æŸ¥</td></tr>
<tr><td>E2E</td><td>Playwrightã€Cypress</td><td>Playwright å¯¹å¤šæµè§ˆå™¨æ”¯æŒå“è¶Šï¼›Cypress æ•´åˆ mock ç®€ä¾¿</td></tr>
<tr><td>æ€§èƒ½</td><td>Lighthouse CIã€WebPageTestã€k6</td><td>Lighthouse é€‚ç”¨äºé¡µé¢ï¼›k6 ç”¨äº API è´Ÿè½½</td></tr>
<tr><td>å®‰å…¨</td><td>zaproxyã€owasp Dependency-Check</td><td>è‡ªåŠ¨æ‰«æå¸¸è§æ¼æ´</td></tr>
<tr><td>å¯è®¿é—®æ€§</td><td>axe-coreã€storybook a11y</td><td>ç»“åˆ Storybook æ£€æµ‹</td></tr>
<tr><td>å¯è§‚æµ‹æ€§</td><td>Sentryã€Datadogã€Grafana</td><td>èå…¥ QA è¿‡ç¨‹ï¼Œè¿½è¸ªé”™è¯¯</td></tr>
</tbody></table>
</div>
<h3 id="3-ç”¨ä¾‹è®¾è®¡æ¨¡æ¿"><a class="header" href="#3-ç”¨ä¾‹è®¾è®¡æ¨¡æ¿">3. ç”¨ä¾‹è®¾è®¡æ¨¡æ¿</a></h3>
<ul>
<li><strong>å•å…ƒæµ‹è¯•</strong>ï¼š
<ul>
<li>æ•°æ®å‡½æ•°ï¼š<code>getPostBySlug</code> â†’ æµ‹è¯• revalidateã€é”™è¯¯å¤„ç†ã€404ã€‚</li>
<li>å·¥å…·å‡½æ•°ï¼š<code>slugify</code>ã€<code>formatDate</code>ã€‚</li>
<li>Server Actionï¼šä½¿ç”¨ <code>vi.mock</code> æ³¨å…¥ Prismaï¼ŒéªŒè¯éªŒè¯é”™è¯¯ã€‚</li>
</ul>
</li>
<li><strong>é›†æˆæµ‹è¯•</strong>ï¼š
<ul>
<li>Route Handlerï¼šä½¿ç”¨ <code>createNextHandler</code> æˆ– <code>app.fetch</code>ï¼ˆNext 14.2+ï¼‰æ¨¡æ‹Ÿè¯·æ±‚ã€‚</li>
<li>Server Action + Route Handlerï¼šæ‰§è¡Œ Action åæ£€æŸ¥æ•°æ®åº“ / revalidate è°ƒç”¨ã€‚</li>
</ul>
</li>
<li><strong>E2E åœºæ™¯</strong>ï¼ˆç¤ºä¾‹ï¼‰ï¼š
<ol>
<li>è®¿å®¢è¿›å…¥ç½‘ç«™ â†’ æ³¨å†Œ â†’ éªŒè¯é‚®ç®± â†’ ç™»å½• â†’ åˆ›å»ºç§Ÿæˆ·ã€‚</li>
<li>ç™»å½•ç”¨æˆ·æ–°å»ºæ–‡æ¡£ â†’ ç¼–è¾‘ â†’ è¯„è®º â†’ åˆ‡æ¢ç§Ÿæˆ·ã€‚</li>
<li>ç®¡ç†å‘˜å˜æ›´æƒé™ â†’ æˆå‘˜è®¿é—®å—é™é¡µé¢ â†’ æ˜¾ç¤ºæƒé™é”™è¯¯ã€‚</li>
<li>Stripe ä»˜æ¬¾æµç¨‹ï¼ˆä½¿ç”¨ Stripe CLI æµ‹è¯• Webhookï¼‰ã€‚</li>
<li>å›½é™…åŒ–åˆ‡æ¢ï¼š<code>/en</code> â†” <code>/zh-cn</code>ï¼Œæ£€æŸ¥æ–‡æ¡ˆã€è´§å¸ã€‚</li>
</ol>
</li>
<li><strong>é€†å‘æµ‹è¯•ï¼ˆNegative Casesï¼‰</strong>ï¼š
<ul>
<li>è¡¨å•æäº¤ç©ºå­—æ®µ â†’ è§¦å‘é”™è¯¯æç¤ºã€‚</li>
<li>éç™»å½•ç”¨æˆ·è®¿é—®ä»ªè¡¨ç›˜ â†’ é‡å®šå‘åˆ° <code>/login</code>ã€‚</li>
<li>Webhook ä¼ªé€ ç­¾å â†’ è¿”å› 400ã€‚</li>
</ul>
</li>
</ul>
<h3 id="4-æŒç»­é›†æˆæµç¨‹"><a class="header" href="#4-æŒç»­é›†æˆæµç¨‹">4. æŒç»­é›†æˆæµç¨‹</a></h3>
<ol>
<li><strong>é¢„æäº¤</strong>ï¼š
<ul>
<li>Husky <code>pre-commit</code>: <code>pnpm lint</code> + <code>pnpm test --runInBand --findRelatedTests</code>ã€‚</li>
</ul>
</li>
<li><strong>Pull Request CI</strong>ï¼š
<ul>
<li>Stepsï¼šCheckout â†’ Install â†’ Lint â†’ Test â†’ Build â†’ Upload coverageã€‚</li>
<li>ä½¿ç”¨ <code>codecov</code> æˆ– <code>coveralls</code> ä¸ŠæŠ¥è¦†ç›–ç‡ã€‚</li>
</ul>
</li>
<li><strong>ä¸»åˆ†æ”¯</strong>ï¼š
<ul>
<li>é€šè¿‡åè§¦å‘ <code>E2E</code>ã€<code>Lighthouse CI</code>ã€‚</li>
<li>ç”Ÿæˆé™æ€æŠ¥å‘Šå¹¶ä¸Šä¼ è‡³ S3/Artifactsã€‚</li>
</ul>
</li>
<li><strong>éƒ¨ç½²æµç¨‹</strong>ï¼š
<ul>
<li>ä»…åœ¨æµ‹è¯•å…¨éƒ¨é€šè¿‡åè§¦å‘éƒ¨ç½²ï¼›</li>
<li>ä½¿ç”¨ <code>vercel deploy --prebuilt</code> åŠ é€Ÿï¼›</li>
<li>éƒ¨ç½²å®Œæˆåæ‰§è¡Œ Smoke Testï¼ˆHealth Checkï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 id="5-è´¨é‡åº¦é‡ä¸åé¦ˆæœºåˆ¶"><a class="header" href="#5-è´¨é‡åº¦é‡ä¸åé¦ˆæœºåˆ¶">5. è´¨é‡åº¦é‡ä¸åé¦ˆæœºåˆ¶</a></h3>
<ul>
<li><strong>é‡åŒ–æŒ‡æ ‡</strong>ï¼š
<ul>
<li>å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼ˆè¯­å¥/å‡½æ•°/åˆ†æ”¯ï¼‰ï¼›</li>
<li>E2E åœºæ™¯è¦†ç›–ç‡ï¼ˆæŒ‰ç”¨æˆ·æ—…ç¨‹å®šä¹‰ï¼‰ï¼›</li>
<li>ç¼ºé™·å¯†åº¦ï¼ˆæ¯ 1000 è¡Œä»£ç ç¼ºé™·æ•°ï¼‰ï¼›</li>
<li>ä¿®å¤æ—¶é•¿ï¼ˆMean Time to Repair, MTTRï¼‰ï¼›</li>
<li>æ„å»ºæˆåŠŸç‡ã€æµæ°´çº¿è€—æ—¶ã€‚</li>
</ul>
</li>
<li><strong>åé¦ˆæœºåˆ¶</strong>ï¼š
<ul>
<li>æ¯å‘¨è´¨é‡ç«™ä¼šï¼šå›é¡¾å¤±è´¥ç”¨ä¾‹ã€åˆ†æç¼ºé™·æ ¹å› ã€‚</li>
<li>QA ä»ªè¡¨ç›˜ï¼šGrafana å±•ç¤ºæµ‹è¯•é€šè¿‡ç‡ã€æ€§èƒ½æŒ‡æ ‡ã€‚</li>
<li>ç”¨æˆ·åé¦ˆæ¸ é“ï¼šSentry Issuesã€å‰ç«¯åŸ‹ç‚¹å¼‚å¸¸ã€å®¢æœç³»ç»Ÿã€‚</li>
</ul>
</li>
</ul>
<h3 id="6-æµ‹è¯•æ•°æ®ç®¡ç†"><a class="header" href="#6-æµ‹è¯•æ•°æ®ç®¡ç†">6. æµ‹è¯•æ•°æ®ç®¡ç†</a></h3>
<ul>
<li><strong>ç­–ç•¥</strong>ï¼š
<ul>
<li>ä½¿ç”¨ä¸“ç”¨æµ‹è¯•æ•°æ®åº“ï¼ˆPlanetScale Branchï¼‰ã€‚</li>
<li>Playwright ç™»å½•ä½¿ç”¨æµ‹è¯•è´¦å·ï¼ˆ<code>test+{éšæœº}@example.com</code>ï¼‰ã€‚</li>
<li>ä¿è¯æµ‹è¯•æ•°æ®å¯é‡å¤ï¼šæ‰§è¡Œå‰æ¸…ç†ã€è¿è¡Œåå›æ»šã€‚</li>
<li>å¯¹ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆStripeã€Resendï¼‰ä½¿ç”¨ Sandbox Keyã€‚</li>
</ul>
</li>
<li><strong>å·¥å…·</strong>ï¼š
<ul>
<li>Prisma <code>seed</code> è„šæœ¬ç”Ÿæˆåˆå§‹æ•°æ®ï¼›</li>
<li><code>faker-js</code> ç”Ÿæˆéšæœºæ•°æ®ï¼›</li>
<li><code>dotenv-flow</code> ç®¡ç†å¤šç¯å¢ƒå˜é‡ã€‚</li>
</ul>
</li>
</ul>
<h3 id="7-æ‰‹åŠ¨éªŒè¯ä¸æ¢ç´¢æ€§æµ‹è¯•"><a class="header" href="#7-æ‰‹åŠ¨éªŒè¯ä¸æ¢ç´¢æ€§æµ‹è¯•">7. æ‰‹åŠ¨éªŒè¯ä¸æ¢ç´¢æ€§æµ‹è¯•</a></h3>
<ul>
<li>åœ¨é‡å¤§ç‰ˆæœ¬å‘å¸ƒå‰ï¼Œç”± QA/å¼€å‘è¿›è¡Œæ¢ç´¢æ€§æµ‹è¯•ï¼š
<ul>
<li>æ¨¡æ‹Ÿä¸åŒç½‘ç»œï¼ˆSlow 3Gï¼‰ã€è®¾å¤‡ï¼ˆç§»åŠ¨ã€å¹³æ¿ï¼‰ï¼›</li>
<li>ä½¿ç”¨ Chrome DevTools è¦†ç›–ç‡ï¼Œè¯†åˆ«æœªæ‰§è¡Œä»£ç ï¼›</li>
<li>è®°å½•å‘ç°çš„ UX é—®é¢˜ï¼Œåé¦ˆç»™è®¾è®¡/äº§å“ã€‚</li>
</ul>
</li>
</ul>
<h3 id="8-æµ‹è¯•æ–‡æ¡£æ¨¡æ¿"><a class="header" href="#8-æµ‹è¯•æ–‡æ¡£æ¨¡æ¿">8. æµ‹è¯•æ–‡æ¡£æ¨¡æ¿</a></h3>
<div class="table-wrapper"><table><thead><tr><th>ç« èŠ‚</th><th>å†…å®¹</th></tr></thead><tbody>
<tr><td>èƒŒæ™¯</td><td>é¡¹ç›®ç®€ä»‹ã€åŠŸèƒ½èŒƒå›´</td></tr>
<tr><td>æµ‹è¯•ç›®æ ‡</td><td>åŠŸèƒ½éªŒè¯ã€æ€§èƒ½ç¬¦åˆã€å…¼å®¹æ€§</td></tr>
<tr><td>èŒƒå›´</td><td>éœ€è¦æµ‹è¯•çš„æ¨¡å—ã€æ’é™¤é¡¹</td></tr>
<tr><td>é£é™©è¯„ä¼°</td><td>é«˜é£é™©åŠŸèƒ½åˆ—è¡¨</td></tr>
<tr><td>æµ‹è¯•ç­–ç•¥</td><td>å•å…ƒã€é›†æˆã€E2Eã€éåŠŸèƒ½</td></tr>
<tr><td>ç¯å¢ƒ</td><td>ç¯å¢ƒ URLã€è´¦å·ã€æ•°æ®</td></tr>
<tr><td>å·¥å…·</td><td>æµ‹è¯•å·¥å…·ã€è„šæœ¬ã€å‘½ä»¤</td></tr>
<tr><td>è®¡åˆ’</td><td>æ—¶é—´è¡¨ã€è´Ÿè´£äºº</td></tr>
<tr><td>ç”¨ä¾‹</td><td>ç”¨ä¾‹ç¼–å·ã€æ­¥éª¤ã€æœŸæœ›ç»“æœ</td></tr>
<tr><td>ç¼ºé™·ç®¡ç†</td><td>æäº¤æ–¹å¼ã€ä¼˜å…ˆçº§æ ‡å‡†</td></tr>
<tr><td>æŠ¥å‘Š</td><td>æµ‹è¯•ç»“æœã€é—®é¢˜æ±‡æ€»ã€å»ºè®®</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="å›¢é˜Ÿåä½œæ¶æ„æ²»ç†ä¸æœ€ä½³å®è·µæ±‡ç¼–"><a class="header" href="#å›¢é˜Ÿåä½œæ¶æ„æ²»ç†ä¸æœ€ä½³å®è·µæ±‡ç¼–">å›¢é˜Ÿåä½œã€æ¶æ„æ²»ç†ä¸æœ€ä½³å®è·µæ±‡ç¼–</a></h2>
<p>Next.js é¡¹ç›®åœ¨å›¢é˜Ÿç¯å¢ƒä¸­è¿ä½œæ—¶ï¼Œé™¤äº†ä»£ç è´¨é‡ï¼Œè¿˜éœ€è¦å…³æ³¨åä½œæµç¨‹ã€æ¶æ„æ²»ç†ã€çŸ¥è¯†å…±äº«ã€ç»©æ•ˆæŒ‡æ ‡ç­‰ã€‚æœ¬èŠ‚ä»ç»„ç»‡å±‚é¢æä¾›æœ€ä½³å®è·µï¼Œå¸®åŠ©å›¢é˜Ÿå»ºç«‹ç¨³å¥çš„å·¥ç¨‹æ–‡åŒ–ã€‚</p>
<h3 id="1-å›¢é˜Ÿè§’è‰²ä¸èŒè´£åˆ’åˆ†"><a class="header" href="#1-å›¢é˜Ÿè§’è‰²ä¸èŒè´£åˆ’åˆ†">1. å›¢é˜Ÿè§’è‰²ä¸èŒè´£åˆ’åˆ†</a></h3>
<div class="table-wrapper"><table><thead><tr><th>è§’è‰²</th><th>ä¸»è¦èŒè´£</th><th>è¾“å‡ºç‰©</th></tr></thead><tbody>
<tr><td>å‰ç«¯è´Ÿè´£äºº (Front-End Lead)</td><td>æ¶æ„å†³ç­–ã€æŠ€æœ¯è·¯çº¿ã€Code Review</td><td>æ¶æ„æ–‡æ¡£ã€æŠ€æœ¯è¯„å®¡æŠ¥å‘Š</td></tr>
<tr><td>å…¨æ ˆå¼€å‘ (Fullstack Engineer)</td><td>App Router å¼€å‘ã€Server Actionã€æ•°æ®åº“æ“ä½œ</td><td>åŠŸèƒ½æ¨¡å—ã€æµ‹è¯•ç”¨ä¾‹ã€æ–‡æ¡£</td></tr>
<tr><td>DevOps/å¹³å°å·¥ç¨‹å¸ˆ</td><td>CI/CDã€éƒ¨ç½²ã€ç›‘æ§ã€åŸºç¡€è®¾æ–½</td><td>Pipelineã€éƒ¨ç½²æŒ‡å—ã€ç›‘æ§çœ‹æ¿</td></tr>
<tr><td>QA/æµ‹è¯•å·¥ç¨‹å¸ˆ</td><td>æµ‹è¯•ç­–ç•¥ã€ç”¨ä¾‹è®¾è®¡ã€è´¨é‡æŠ¥å‘Š</td><td>æµ‹è¯•è®¡åˆ’ã€ç¼ºé™·æŠ¥å‘Š</td></tr>
<tr><td>äº§å“ç»ç†/è®¾è®¡å¸ˆ</td><td>éœ€æ±‚å®šä¹‰ã€ä¿¡æ¯æ¶æ„ã€ç”¨æˆ·ä½“éªŒ</td><td>PRDã€åŸå‹ã€éªŒæ”¶æ ‡å‡†</td></tr>
<tr><td>æŠ€æœ¯æ–‡æ¡£å·¥ç¨‹å¸ˆï¼ˆå¯é€‰ï¼‰</td><td>ç»´æŠ¤çŸ¥è¯†åº“ã€æ ‡å‡†</td><td>é¡¹ç›® wikiã€API æ–‡æ¡£ã€å˜æ›´æ—¥å¿—</td></tr>
</tbody></table>
</div>
<h3 id="2-å¼€å‘æµç¨‹ä¸åä½œæœºåˆ¶"><a class="header" href="#2-å¼€å‘æµç¨‹ä¸åä½œæœºåˆ¶">2. å¼€å‘æµç¨‹ä¸åä½œæœºåˆ¶</a></h3>
<ol>
<li><strong>éœ€æ±‚è¯„å®¡</strong>ï¼š
<ul>
<li>è¾“å…¥ï¼šPRDã€ç”¨æˆ·æ•…äº‹ã€è®¾è®¡ç¨¿ã€‚</li>
<li>è¾“å‡ºï¼šæŠ€æœ¯è¯„ä¼°ã€é£é™©æ¸…å•ã€å®ç°æ–¹æ¡ˆï¼ˆåŒ…å«è¿è¡Œæ—¶é€‰æ‹©ã€ç¼“å­˜ç­–ç•¥ã€æµ‹è¯•éœ€æ±‚ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ä»»åŠ¡æ‹†è§£</strong>ï¼š
<ul>
<li>ä½¿ç”¨ Issue Templateï¼ŒåŒ…å«ï¼šåŠŸèƒ½æè¿°ã€éªŒæ”¶æ ‡å‡†ã€æŠ€æœ¯è¦ç‚¹ã€æµ‹è¯•æŒ‡å¼•ã€‚</li>
<li>æ˜ç¡®æ‹†åˆ† Server Componentã€Client Componentã€Server Actionã€Route Handler è´£ä»»äººã€‚</li>
</ul>
</li>
<li><strong>å¼€å‘è§„èŒƒ</strong>ï¼š
<ul>
<li>åˆ†æ”¯ç­–ç•¥ï¼š<code>main</code>ï¼ˆç”Ÿäº§ï¼‰ã€<code>develop</code>ï¼ˆé›†æˆï¼‰ã€<code>feature/*</code>ï¼ˆåŠŸèƒ½ï¼‰ã€‚</li>
<li>æäº¤è§„èŒƒï¼šéµå¾ª <code>conventional commits</code>ï¼ˆ<code>feat</code>, <code>fix</code>, <code>chore</code>, <code>test</code>ï¼‰ã€‚</li>
<li>Code Review Checklistï¼š
<ol>
<li>æ˜¯å¦éµå®ˆ Server/Client ç»„ä»¶è¾¹ç•Œï¼Ÿ</li>
<li>ç¼“å­˜ä¸ revalidate æ˜¯å¦æ­£ç¡®ï¼Ÿ</li>
<li>æ˜¯å¦è€ƒè™‘é”™è¯¯å¤„ç†ä¸æ—¥å¿—ï¼Ÿ</li>
<li>æ˜¯å¦åŒ…å«æµ‹è¯•ã€æ–‡æ¡£ï¼Ÿ</li>
</ol>
</li>
</ul>
</li>
<li><strong>éªŒæ”¶æµç¨‹</strong>ï¼š
<ul>
<li>å¼€å‘è‡ªæµ‹ â†’ QA éªŒæ”¶ â†’ é¢„å‘ç¯å¢ƒéªŒè¯ â†’ äº§å“ç¡®è®¤ â†’ å‘å¸ƒã€‚</li>
<li>é‡ç‚¹æ£€æŸ¥ Edge/Node runtime è¡Œä¸ºã€ç¼“å­˜åˆ·æ–°ã€SEOã€‚</li>
</ul>
</li>
</ol>
<h3 id="3-æ¶æ„ä¸ä»£ç æ²»ç†"><a class="header" href="#3-æ¶æ„ä¸ä»£ç æ²»ç†">3. æ¶æ„ä¸ä»£ç æ²»ç†</a></h3>
<ul>
<li><strong>æ¨¡å—åˆ’åˆ†åŸåˆ™</strong>ï¼š
<ul>
<li>æŒ‰ä¸šåŠ¡é¢†åŸŸï¼ˆDocumentsã€Tenantsã€Billingï¼‰åˆ’åˆ† <code>app/[domain]</code>ï¼›</li>
<li>æ•°æ®å±‚ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼š<code>src/services</code>ã€<code>src/usecases</code>ï¼›</li>
<li>é€šç”¨ç»„ä»¶æ”¾åœ¨ <code>src/components/common</code>ï¼ŒåŒºåˆ† server/clientã€‚</li>
</ul>
</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼š
<ul>
<li>å®šæœŸè¿è¡Œ <code>pnpm outdated</code>ï¼Œæ±‡æ€»æ›´æ–°è®¡åˆ’ï¼›</li>
<li>é«˜é£é™©ä¾èµ–ï¼ˆPrismaã€Next.jsï¼‰å‡çº§éœ€æ’æœŸæµ‹è¯•ï¼›</li>
<li>ä½¿ç”¨ <code>changeset</code> ç®¡ç†ç‰ˆæœ¬å‘å¸ƒï¼ˆè‹¥ä¸º Monorepoï¼‰ã€‚</li>
</ul>
</li>
<li><strong>æ—¥å¿—ä¸å¯è§‚æµ‹</strong>ï¼š
<ul>
<li>å»ºç«‹æ—¥å¿—è§„èŒƒï¼š<code>context</code> å­—æ®µåŒ…å« <code>requestId</code>ã€<code>tenantId</code>ï¼›</li>
<li>ä½¿ç”¨ <code>AsyncLocalStorage</code> å®ç°è¯·æ±‚çº§ tracingã€‚</li>
</ul>
</li>
<li><strong>æ€§èƒ½åŸºçº¿</strong>ï¼š
<ul>
<li>è®¾å®šæ€§èƒ½é¢„ç®—ï¼š<code>JS bundle &lt; 200KB</code>ã€<code>LCP &lt; 2.5 s</code>ã€<code>TTI &lt; 3 s</code>ï¼›</li>
<li>å®šæœŸè¿è¡Œ Lighthouseï¼Œå»ºç«‹å†å²æ›²çº¿ã€‚</li>
</ul>
</li>
<li><strong>å®‰å…¨åŸºçº¿</strong>ï¼š
<ul>
<li>å¼•å…¥ <code>npm audit</code>ã€<code>snyk</code>ã€<code>trivy</code> æ‰«æï¼›</li>
<li>å¯¹æ•æ„Ÿæ“ä½œï¼ˆåˆ é™¤ã€æ”¯ä»˜ï¼‰å¢åŠ å®¡è®¡æ—¥å¿—ã€‚</li>
</ul>
</li>
</ul>
<h3 id="4-æ–‡æ¡£ä¸çŸ¥è¯†ç®¡ç†"><a class="header" href="#4-æ–‡æ¡£ä¸çŸ¥è¯†ç®¡ç†">4. æ–‡æ¡£ä¸çŸ¥è¯†ç®¡ç†</a></h3>
<ul>
<li>æ­å»ºé¡¹ç›® Wikiï¼š
<ul>
<li>ç›®å½•å»ºè®®ï¼š<code>Architecture</code>ã€<code>Routing</code>, <code>Data</code>, <code>Server Actions</code>, <code>Testing</code>, <code>Deployment</code>, <code>Troubleshooting</code>, <code>Security</code>, <code>Glossary</code>ï¼›</li>
<li>ä½¿ç”¨ Markdown + Mermaid ç»˜åˆ¶æµç¨‹å›¾ã€‚</li>
</ul>
</li>
<li>è®¾ç«‹çŸ¥è¯†åˆ†äº«æœºåˆ¶ï¼š
<ul>
<li>æ¯ä¸¤å‘¨ä¸€åœº Tech Shareï¼Œåˆ†äº«ä¸€ä¸ªä¸“é¢˜ï¼ˆEdgeã€ç¼“å­˜ã€AIã€æ€§èƒ½ï¼‰ï¼›</li>
<li>å»ºç«‹ FAQ æ–‡æ¡£ï¼Œæ”¶é›†å¸¸è§é—®é¢˜åŠå›ç­”ã€‚</li>
</ul>
</li>
<li>å˜æ›´è®°å½•ï¼ˆChangelogï¼‰ï¼š
<ul>
<li>æŒ‰ç‰ˆæœ¬è®°å½•æ–°å¢åŠŸèƒ½ã€ä¿®å¤ã€Breaking Changeï¼›</li>
<li>Highlight éœ€è¦æ‰‹åŠ¨æ“ä½œçš„å˜æ›´ï¼ˆè¿ç§»ã€ç¯å¢ƒå˜é‡ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="5-è´¨é‡ä¸æ•ˆç‡æŒ‡æ ‡"><a class="header" href="#5-è´¨é‡ä¸æ•ˆç‡æŒ‡æ ‡">5. è´¨é‡ä¸æ•ˆç‡æŒ‡æ ‡</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æŒ‡æ ‡</th><th>å»ºè®®ç›®æ ‡</th><th>æ•°æ®æ¥æº</th></tr></thead><tbody>
<tr><td>éƒ¨ç½²é¢‘ç‡</td><td>æ¯å‘¨ 3-5 æ¬¡</td><td>CI/CD Pipeline</td></tr>
<tr><td>å›æ»šç‡</td><td>&lt; 5%</td><td>Incident Log</td></tr>
<tr><td>å¹³å‡ä¿®å¤æ—¶é—´ MTTR</td><td>&lt; 1 å°æ—¶</td><td>ç›‘æ§ç³»ç»Ÿ</td></tr>
<tr><td>ç¼ºé™·å¯†åº¦</td><td>&lt; 0.2 / åŠŸèƒ½ç‚¹</td><td>ç¼ºé™·è·Ÿè¸ª</td></tr>
<tr><td>Code Review å“åº”æ—¶é—´</td><td>&lt; 4 å°æ—¶</td><td>PR æ•°æ®</td></tr>
<tr><td>æµ‹è¯•è¦†ç›–ç‡</td><td>å•å…ƒ 60%ï¼ŒE2E 40%</td><td>Coverage æŠ¥å‘Š</td></tr>
<tr><td>æ€§èƒ½ï¼ˆLCPï¼‰</td><td>p75 &lt; 2.5s</td><td>Web Vitals</td></tr>
<tr><td>å®‰å…¨æ¼æ´å“åº”</td><td>24 å°æ—¶å†…å¤„ç†</td><td>å®‰å…¨æ‰«æå¹³å°</td></tr>
</tbody></table>
</div>
<h3 id="6-å‘å¸ƒä¸è¿ç»´æµç¨‹"><a class="header" href="#6-å‘å¸ƒä¸è¿ç»´æµç¨‹">6. å‘å¸ƒä¸è¿ç»´æµç¨‹</a></h3>
<ol>
<li><strong>å‘å¸ƒèŠ‚å¥</strong>ï¼š
<ul>
<li>å¸¸è§„åŠŸèƒ½ï¼šæ¯å‘¨å›ºå®šæ—¶é—´çª—å£å‘å¸ƒ;</li>
<li>ç´§æ€¥ä¿®å¤ï¼šéšæ—¶å‘å¸ƒï¼Œéœ€ QA éªŒè¯ï¼›</li>
<li>è®¾ç½®â€œå†»ç»“æœŸâ€é¿å…é‡å¤§æ´»åŠ¨æœŸé—´æ›´æ–°ã€‚</li>
</ul>
</li>
<li><strong>å‘å¸ƒ Checklist</strong>ï¼š
<ul>
<li><input disabled="" type="checkbox"/>
<code>next build</code> é€šè¿‡ï¼Œæ—  Critical Warningï¼›</li>
<li><input disabled="" type="checkbox"/>
CI æµæ°´çº¿å…¨éƒ¨æˆåŠŸï¼›</li>
<li><input disabled="" type="checkbox"/>
Smoke Test è„šæœ¬æ‰§è¡Œï¼›</li>
<li><input disabled="" type="checkbox"/>
ç›‘æ§çœ‹æ¿æ£€æŸ¥ï¼ˆé”™è¯¯ç‡ã€å“åº”æ—¶é—´ï¼‰ï¼›</li>
<li><input disabled="" type="checkbox"/>
å‘å¸ƒå…¬å‘Šï¼ˆChange Logï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ç°åº¦ç­–ç•¥</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>middleware</code> æŒ‰ cookie æˆ–åœ°åŒºåˆ’åˆ†æµé‡ï¼›</li>
<li>Vercel åŸç”Ÿ Preview Link ä¾›å†…éƒ¨ä½“éªŒï¼›</li>
<li>ä½¿ç”¨ Feature Flagï¼ˆLaunchDarklyã€GrowthBookï¼‰ã€‚</li>
</ul>
</li>
<li><strong>äº‹æ•…å“åº”</strong>ï¼š
<ul>
<li>è§¦å‘æ¡ä»¶ï¼šé”™è¯¯ç‡ &gt; é˜ˆå€¼ã€å…³é”®åŠŸèƒ½ä¸å¯ç”¨ï¼›</li>
<li>æ­¥éª¤ï¼šæŠ¥è­¦ â†’ æŒ‡æ´¾å“åº”äºº â†’ ä¸´æ—¶æªæ–½ï¼ˆé™çº§/å›æ»šï¼‰ â†’ æ ¹å› åˆ†æ â†’ å¤ç›˜ï¼›</li>
<li>å¤ç›˜æ¨¡æ¿ï¼šäº‹å®è®°å½•ã€å½±å“è¯„ä¼°ã€æ ¹å› ã€çŸ­æœŸ/é•¿æœŸæªæ–½ã€æ•™è®­ã€‚</li>
</ul>
</li>
</ol>
<h3 id="7-å›¢é˜Ÿæˆé•¿ä¸äººæ‰åŸ¹å…»"><a class="header" href="#7-å›¢é˜Ÿæˆé•¿ä¸äººæ‰åŸ¹å…»">7. å›¢é˜Ÿæˆé•¿ä¸äººæ‰åŸ¹å…»</a></h3>
<ul>
<li>æŠ€æœ¯æ™‹å‡è·¯å¾„ï¼š
<ul>
<li>åˆçº§ï¼šæŒæ¡ App Router åŸºæœ¬æ¦‚å¿µã€ç‹¬ç«‹å®Œæˆé¡µé¢å¼€å‘ï¼›</li>
<li>ä¸­çº§ï¼šå¯è®¾è®¡ç¼“å­˜ç­–ç•¥ã€ç¼–å†™ Server Actionã€å¤„ç†éƒ¨ç½²ï¼›</li>
<li>é«˜çº§ï¼šèƒ½ä¸»å¯¼å¤§å‹ä¸“é¢˜ï¼ˆEdgeã€AIã€æ€§èƒ½ï¼‰ã€åšæ¶æ„å†³ç­–ã€æŒ‡å¯¼å›¢é˜Ÿã€‚</li>
</ul>
</li>
<li>å­¦ä¹ èµ„æºï¼š
<ul>
<li>å†…éƒ¨åŸ¹è®­ï¼šPair Programmingã€Reading Clubï¼›</li>
<li>å‚ä¼šï¼šNext.js Confã€React Confã€Vercel Shipï¼›</li>
<li>è´¡çŒ®å¼€æºï¼šå‚ä¸ Next.js <code>discussion</code>ã€<code>docs</code> ç¿»è¯‘ç­‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="8-æ²»ç†å·¥å…·ä¸è‡ªåŠ¨åŒ–-exttt"><a class="header" href="#8-æ²»ç†å·¥å…·ä¸è‡ªåŠ¨åŒ–-exttt">8. æ²»ç†å·¥å…·ä¸è‡ªåŠ¨åŒ–	exttt</a></h3>
<ul>
<li><strong>ä¾èµ–ç›‘æ§</strong>ï¼šRenovate BOT è‡ªåŠ¨åˆ›å»ºå‡çº§ PRï¼›</li>
<li><strong>ä»£ç è´¨é‡</strong>ï¼šSonarQube / Code Climate åˆ†æé‡å¤ä»£ç ã€å¤æ‚åº¦ï¼›</li>
<li><strong>å®‰å…¨åˆè§„</strong>ï¼šGitHub Advanced Securityã€Dependabot Alertsï¼›</li>
<li><strong>å¯è§‚æµ‹æ€§é›†æˆ</strong>ï¼šOpenTelemetry + Grafana â†’ ç»Ÿä¸€ç›‘æ§ï¼›</li>
<li><strong>è„šæœ¬åŒ–æ“ä½œ</strong>ï¼šä½¿ç”¨ <code>turbo</code> æˆ– <code>nx</code> ç®¡ç†å¤šé¡¹ç›®æ„å»ºã€‚</li>
</ul>
<hr />
<h2 id="å¸¸è§é—®é¢˜è§£ç­”faq-mega-pack"><a class="header" href="#å¸¸è§é—®é¢˜è§£ç­”faq-mega-pack">å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQ Mega Packï¼‰</a></h2>
<p>ä¸‹åˆ—è¡¨æ ¼æ”¶å½• 60+ æ¡å¸¸è§é—®é¢˜ï¼ŒæŒ‰ä¸»é¢˜åˆ†ç±»ã€‚æ¯ä¸ªé—®é¢˜æä¾›èƒŒæ™¯ã€è§£å†³æ–¹æ¡ˆä¸å»¶ä¼¸å»ºè®®ï¼Œä¾¿äºå¿«é€ŸæŸ¥é˜…ã€‚</p>
<h3 id="a-åŸºç¡€æ¦‚å¿µä¸é¡¹ç›®åˆå§‹åŒ–"><a class="header" href="#a-åŸºç¡€æ¦‚å¿µä¸é¡¹ç›®åˆå§‹åŒ–">A. åŸºç¡€æ¦‚å¿µä¸é¡¹ç›®åˆå§‹åŒ–</a></h3>
<ol>
<li><strong>Qï¼šä¸ºä»€ä¹ˆè¦ä½¿ç”¨ App Router è€Œä¸æ˜¯ Pages Routerï¼Ÿ</strong>
<ul>
<li>Aï¼šApp Router æä¾›æ›´å¼ºçš„å¸ƒå±€èƒ½åŠ›ï¼ˆåµŒå¥—å¸ƒå±€ã€å¹¶è¡Œ/æ‹¦æˆªè·¯ç”±ï¼‰ã€é»˜è®¤å¯ç”¨ React Server Componentsã€å†…å»ºæ•°æ®è·å–ä¸ç¼“å­˜ç­–ç•¥ï¼Œæ›´é€‚åˆå¤§å‹åº”ç”¨æŒç»­æ¼”è¿›ã€‚é™¤éé¡¹ç›®éœ€è¦å…¼å®¹æ—§ç‰ˆæœ¬æˆ–è¿ç§»æˆæœ¬è¿‡é«˜ï¼Œå¦åˆ™å»ºè®®æ–°é¡¹ç›®ä½¿ç”¨ App Routerã€‚</li>
</ul>
</li>
<li><strong>Qï¼šé¡¹ç›®åˆå§‹åŒ–æ—¶ <code>create-next-app</code> æœ‰å“ªäº›å¸¸ç”¨å‚æ•°ï¼Ÿ</strong>
<ul>
<li>Aï¼šå¸¸ç”¨é€‰é¡¹åŒ…æ‹¬ <code>--ts</code>ï¼ˆTypeScriptï¼‰ã€<code>--app</code>ï¼ˆApp Routerï¼‰ã€<code>--src-dir</code>ï¼ˆå¯ç”¨ <code>src</code> ç›®å½•ï¼‰ã€<code>--tailwind</code>ã€<code>--eslint</code>ã€<code>--import-alias "@/*"</code>ã€‚æ ¹æ®å›¢é˜Ÿéœ€æ±‚é€‰æ‹©ï¼Œä»¥å‡å°‘åæœŸé…ç½®æˆæœ¬ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨é¡¹ç›®ä¸­å¼•å…¥ CSS é¢„å¤„ç†å™¨ï¼ˆå¦‚ SCSSï¼‰ï¼Ÿ</strong>
<ul>
<li>Aï¼šå®‰è£… <code>sass</code> åå³å¯åœ¨ç»„ä»¶ä¸­å¯¼å…¥ <code>.scss</code> æ–‡ä»¶ï¼›App Router é»˜è®¤æ”¯æŒ CSS Modulesã€‚è‹¥ä½¿ç”¨ Tailwind + SCSSï¼Œæ³¨æ„æ ·å¼ä¼˜å…ˆçº§å’Œå‘½åå†²çªã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•é…ç½®è·¯å¾„åˆ«åï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ <code>tsconfig.json</code> çš„ <code>compilerOptions.paths</code> ä¸­é…ç½®ï¼ŒåŒæ—¶åœ¨ <code>next.config.js</code> æˆ– <code>jsconfig.json</code> åŒæ­¥ã€‚ç¡®ä¿ ESLint çš„ <code>import/resolver</code> æ”¯æŒã€‚</li>
</ul>
</li>
<li><strong>Qï¼šé¡¹ç›®éœ€è¦æ”¯æŒ IE å—ï¼Ÿ</strong>
<ul>
<li>Aï¼šNext.js 14+ ä¸å†æ”¯æŒ IEï¼›è‹¥ä¸šåŠ¡å¼ºä¾èµ–ï¼Œå¯è€ƒè™‘ä½¿ç”¨æ—§ç‰ˆæœ¬æˆ– Polyfillï¼Œä½†å»ºè®®å¼•å¯¼ç”¨æˆ·ä½¿ç”¨ç°ä»£æµè§ˆå™¨ã€‚</li>
</ul>
</li>
</ol>
<h3 id="b-serverclient-component-ä½¿ç”¨"><a class="header" href="#b-serverclient-component-ä½¿ç”¨">B. Server/Client Component ä½¿ç”¨</a></h3>
<ol start="6">
<li><strong>Qï¼šå¦‚ä½•åˆ¤æ–­ç»„ä»¶åº”è¯¥æ˜¯ Server è¿˜æ˜¯ Clientï¼Ÿ</strong>
<ul>
<li>Aï¼šæ¶‰åŠæµè§ˆå™¨ APIã€äº‹ä»¶å¤„ç†ã€<code>useState</code>/<code>useEffect</code>/<code>useRef</code> çš„ç»„ä»¶å¿…é¡»æ˜¯ Clientï¼›çº¯æ¸²æŸ“ã€æ•°æ®æ‹‰å–ã€SEO ç›¸å…³ç»„ä»¶ä¼˜å…ˆä½¿ç”¨ Serverï¼Œä»¥å‡å°‘ bundleã€‚</li>
</ul>
</li>
<li><strong>Qï¼šèƒ½å¦åœ¨åŒä¸€æ–‡ä»¶ä¸­æ—¢å†™ Server Component åˆå¯¼å‡º Client ç»„ä»¶ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸å»ºè®®ã€‚Server Component æ–‡ä»¶è‹¥å¼•å…¥ <code>"use client"</code>ï¼Œæ•´ä¸ªæ–‡ä»¶è§†ä¸º Clientã€‚æ¨èæ‹†åˆ†æ–‡ä»¶ï¼Œä»¥ä¿æŒèŒè´£æ¸…æ™°ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ Server Component ä¸­ä½¿ç”¨å®¢æˆ·ç«¯åº“ï¼ˆå¦‚ Chart.jsï¼‰ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚åº”åœ¨ Client Component ä¸­ä½¿ç”¨ï¼Œå¹¶é€šè¿‡ props å°†æ•°æ®ä» Server Component ä¼ å…¥ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šServer Component å¯ä»¥ä½¿ç”¨ Context å—ï¼Ÿ</strong>
<ul>
<li>Aï¼šå¯ä»¥åˆ›å»º Server Contextï¼ˆå®éªŒç‰¹æ€§ï¼‰ï¼Œä½†æ›´å¸¸è§çš„æ˜¯åœ¨ Client Component ä½¿ç”¨ React Contextã€‚Server ç«¯å¯ä½¿ç”¨ props ä¼ é€’ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šServer Component å¯ä»¥ä½¿ç”¨ <code>useState</code> å—ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸å¯ä»¥ï¼Œä»…èƒ½åœ¨ Client Component ä½¿ç”¨ã€‚Server Component åº”ä¿æŒçº¯å‡½æ•°ç‰¹æ€§ã€‚</li>
</ul>
</li>
</ol>
<h3 id="c-è·¯ç”±ä¸å¯¼èˆª"><a class="header" href="#c-è·¯ç”±ä¸å¯¼èˆª">C. è·¯ç”±ä¸å¯¼èˆª</a></h3>
<ol start="11">
<li><strong>Qï¼šåŠ¨æ€è·¯ç”±ä¸ <code>generateStaticParams</code> å¿…é¡»ä¸€èµ·ä½¿ç”¨å—ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸ä¸€å®šã€‚è‹¥é¡µé¢éœ€è¦é™æ€é¢„æ¸²æŸ“æˆ– SSGï¼Œæ‰éœ€è¦ <code>generateStaticParams</code>ã€‚SSR æˆ–åŠ¨æ€æ¸²æŸ“å¯ä»¥çœç•¥ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å®ç°å¤šçº§åµŒå¥—å¸ƒå±€å…±äº«ï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨æ¯ä¸ª Segment ä¸‹åˆ›å»º <code>layout.tsx</code>ï¼Œé€šè¿‡ <code>children</code> ç»„åˆã€‚æ³¨æ„å¸ƒå±€ä¸­å¯ä»¥åšæ•°æ®è·å–ï¼Œé¿å…åœ¨å¤šä¸ªé¡µé¢é‡å¤è¯·æ±‚ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¹¶è¡Œè·¯ç”± <code>@slot</code> æœ‰ä½•ä½¿ç”¨åœºæ™¯ï¼Ÿ</strong>
<ul>
<li>Aï¼šé€‚ç”¨äºä»ªè¡¨ç›˜å¸ƒå±€ã€å¤šé¢æ¿å±•ç¤ºã€èŠå¤©é¢æ¿ç­‰å¸Œæœ›åœ¨åŒä¸€è·¯å¾„åŒæ—¶æ¸²æŸ“å¤šä¸ªåŒºåŸŸçš„åœºæ™¯ã€‚å¯é€šè¿‡å¸ƒå±€ props æ¥æ”¶ <code>analytics</code>ã€<code>activity</code> ç­‰ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šæ‹¦æˆªè·¯ç”± <code>(..)</code> å¦‚ä½•å¤„ç†æµè§ˆå™¨è¿”å›é”®ï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ Client ç»„ä»¶ä¸­ç›‘å¬å…³é—­äº‹ä»¶ï¼Œè°ƒç”¨ <code>router.back()</code> æˆ– <code>router.replace</code>ã€‚å¿…è¦æ—¶è®°å½•å‰ä¸€è®¿é—®è·¯å¾„ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ App Router ä¸­å®ç° 301/302 é‡å®šå‘ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>redirect('/path')</code>ï¼›åœ¨ Middleware ä¸­å¯ä½¿ç”¨ <code>NextResponse.redirect</code>ã€‚å¯¹äº SEO å‹å¥½ï¼Œå¯åœ¨ <code>next.config.js</code> ä¸­é…ç½® <code>async redirects()</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 id="d-æ•°æ®è·å–ä¸ç¼“å­˜"><a class="header" href="#d-æ•°æ®è·å–ä¸ç¼“å­˜">D. æ•°æ®è·å–ä¸ç¼“å­˜</a></h3>
<ol start="16">
<li><strong>Qï¼š<code>next: { revalidate: 60 }</code> å’Œ <code>revalidate = 60</code> æœ‰ä½•åŒºåˆ«ï¼Ÿ</strong>
<ul>
<li>Aï¼š<code>next: { revalidate }</code> åº”ç”¨äºå•æ¬¡ <code>fetch</code>ï¼›<code>export const revalidate</code> ä½œç”¨äºæ•´ä¸ª Route Segmentã€‚é€šå¸¸ä¸¤è€…ç»“åˆä½¿ç”¨ï¼šSegment <code>revalidate</code> + <code>fetch</code> æŒ‡å®š <code>tags</code>ã€‚</li>
</ul>
</li>
<li><strong>Qï¼š<code>unstable_cache</code> ä¸ <code>cache</code> æœ‰ä½•ä¸åŒï¼Ÿ</strong>
<ul>
<li>Aï¼š<code>cache</code> æ˜¯ React å†…ç½®ï¼Œç”¨äºç¼“å­˜å‡½æ•°ç»“æœï¼›<code>unstable_cache</code> æ˜¯ Next.js ç‰¹å®š APIï¼Œå¯è‡ªå®šä¹‰ keyã€tagsã€revalidateã€‚å‰è€…ç²’åº¦æ›´ç²—ï¼Œåè€…æ›´çµæ´»ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¤„ç†éœ€è¦é¢‘ç¹åˆ·æ–°çš„æ•°æ®ï¼Ÿ</strong>
<ul>
<li>Aï¼šè®¾ç½® <code>cache: 'no-store'</code> æˆ– <code>revalidate = 0</code>ï¼›ä½¿ç”¨ <code>SWR</code>/<code>React Query</code> åœ¨å®¢æˆ·ç«¯è¿ç»­åˆ·æ–°ï¼›åˆ©ç”¨ WebSocket/SSE æ¨é€ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¤šä¸ªç»„ä»¶è¯·æ±‚åŒä¸€æ•°æ®ä¼šé‡å¤è¯·æ±‚å—ï¼Ÿ</strong>
<ul>
<li>Aï¼šå¦‚æœä½äºåŒä¸€è¯·æ±‚å‘¨æœŸä¸”ä½¿ç”¨åŒæ ·çš„ <code>fetch</code> å‚æ•°ï¼ŒNext.js ä¼šè‡ªåŠ¨å»é‡ã€‚å»ºè®®ä½¿ç”¨ <code>React.cache</code> æˆ–å°†æ•°æ®è·å–æ”¾åœ¨æ›´é«˜å±‚çš„å¸ƒå±€ä¸­ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•æ‰‹åŠ¨åˆ·æ–°ç¼“å­˜ï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ Server Action / Route Handler ä¸­è°ƒç”¨ <code>revalidatePath('/path')</code> æˆ– <code>revalidateTag('tag')</code>ã€‚useEffect ä¸­è°ƒç”¨æ— æ•ˆã€‚</li>
</ul>
</li>
</ol>
<h3 id="e-server-actions-ä¸-api"><a class="header" href="#e-server-actions-ä¸-api">E. Server Actions ä¸ API</a></h3>
<ol start="21">
<li><strong>Qï¼šServer Action æ˜¯å¦ä¼šæš´éœ²æºç ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸ä¼šã€‚Server Action åœ¨æœåŠ¡å™¨æ‰§è¡Œï¼Œå®¢æˆ·ç«¯ä»…æŒæœ‰ Action çš„æ ‡è¯†ã€‚ä¸è¿‡éœ€æ³¨æ„ä¸è¦è¿”å›æ•æ„Ÿä¿¡æ¯ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šServer Action æ˜¯å¦æ”¯æŒè¿”å›é‡å®šå‘ï¼Ÿ</strong>
<ul>
<li>Aï¼šæ”¯æŒã€‚å¯åœ¨ Server Action ä¸­è°ƒç”¨ <code>redirect('/path')</code>ã€<code>notFound()</code>ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨å®¢æˆ·ç«¯è°ƒç”¨ Server Actionï¼Ÿ</strong>
<ul>
<li>Aï¼šé€šè¿‡ <code>&lt;form action={action}&gt;</code> æˆ–åœ¨ Client Component ä¸­ <code>const actionWithArgs = action.bind(null, params)</code>ï¼Œå†åœ¨äº‹ä»¶ä¸­ <code>actionWithArgs()</code>ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šServer Action èƒ½å¦è®¿é—® Request Headersï¼Ÿ</strong>
<ul>
<li>Aï¼šå¯é€šè¿‡ <code>headers()</code>ã€<code>cookies()</code> è·å–ã€‚æ³¨æ„åªèƒ½åœ¨ Server ç«¯å‡½æ•°è°ƒç”¨ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šRoute Handler ä¸ Server Action å¦‚ä½•é€‰æ‹©ï¼Ÿ</strong>
<ul>
<li>Aï¼šéœ€è¦é€šè¿‡ REST API æš´éœ²ç»™ç¬¬ä¸‰æ–¹æˆ–è·¨é¡¹ç›®è°ƒç”¨æ—¶ä½¿ç”¨ Route Handlerï¼›å†…éƒ¨å†™æ“ä½œã€ä¸ UI ç´§å¯†è€¦åˆæ—¶ä½¿ç”¨ Server Actionã€‚</li>
</ul>
</li>
</ol>
<h3 id="f-middleware-ä¸-edge"><a class="header" href="#f-middleware-ä¸-edge">F. Middleware ä¸ Edge</a></h3>
<ol start="26">
<li><strong>Qï¼šMiddleware èƒ½å¦è®¿é—®è¯·æ±‚ä½“ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸èƒ½ï¼ŒMiddleware ä½äºè¯·æ±‚ç”Ÿå‘½å‘¨æœŸæ—©æœŸï¼Œä»…èƒ½è®¿é—® URLã€headersã€cookiesã€‚</li>
</ul>
</li>
<li><strong>Qï¼šMiddleware ä¼šå¢åŠ å“åº”å»¶è¿Ÿå—ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¼šæœ‰å°‘é‡å¼€é”€ï¼ˆä¸ªä½æ¯«ç§’ï¼‰ï¼Œä½†æ•´ä½“æå‡ï¼ˆå¦‚æœ¬åœ°ç»ˆæ­¢ã€é‡å®šå‘ï¼‰é€šå¸¸å€¼å¾—ã€‚ç¼–å†™é€»è¾‘æ—¶ä¿æŒç²¾ç®€ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šEdge Runtime æ˜¯å¦æ”¯æŒ <code>crypto</code>ï¼Ÿ</strong>
<ul>
<li>Aï¼šæ”¯æŒ Web Crypto <code>crypto.subtle</code>ã€‚éœ€è¦ Node ä¸“å± API æ—¶åº”åˆ‡æ¢ Node Runtimeã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ Middleware ä¸­è¯»å–åœ°ç†ä¿¡æ¯ï¼Ÿ</strong>
<ul>
<li>Aï¼šé€šè¿‡è¯·æ±‚å¤´ <code>x-vercel-ip-country</code>ã€<code>x-vercel-ip-city</code>ã€<code>x-vercel-ip-latitude</code> ç­‰ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šEdge ä¸­å¦‚ä½•åšç¼“å­˜ï¼Ÿ</strong>
<ul>
<li>Aï¼šå¯ä»¥è®¾ç½®å“åº”å¤´ <code>Cache-Control</code>ã€‚åŒæ—¶æ³¨æ„ Edge å‡½æ•°é»˜è®¤æ— æŒä¹…ç¼“å­˜ï¼Œå¯ç»“åˆ KV/Redisã€‚</li>
</ul>
</li>
</ol>
<h3 id="g-uiseoæ€§èƒ½"><a class="header" href="#g-uiseoæ€§èƒ½">G. UIã€SEOã€æ€§èƒ½</a></h3>
<ol start="31">
<li><strong>Qï¼š<code>next/head</code> åœ¨ App Router ä¸­å¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong>
<ul>
<li>Aï¼šApp Router æ¨èä½¿ç”¨ <code>metadata</code> æˆ– <code>generateMetadata</code>ï¼›ä»…åœ¨ç‰¹æ®Šæƒ…å†µä½¿ç”¨ <code>Head</code> ç»„ä»¶ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å®ç° PWAï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>next-pwa</code> æ’ä»¶æˆ–è‡ªå®šä¹‰ Service Workerï¼Œç»“åˆ <code>app/manifest.ts</code>ã€‚æ³¨æ„ RSC ä¸ SW ç¼“å­˜ç­–ç•¥ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¤„ç†ä¸»é¢˜åˆ‡æ¢ï¼ˆæš—é»‘/äº®è‰²ï¼‰ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>next-themes</code> æˆ–è‡ªå®šä¹‰ CSS å˜é‡ã€‚ä¸»é¢˜çŠ¶æ€ä¸ºå®¢æˆ·ç«¯é€»è¾‘ï¼Œéœ€ Client Componentã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå›¾ç‰‡ <code>next/image</code> ä¼˜åŒ–æ˜¯å¦æ”¯æŒå¤–éƒ¨ CDNï¼Ÿ</strong>
<ul>
<li>Aï¼šæ”¯æŒï¼Œé€šè¿‡ <code>loader</code> æˆ– <code>remotePatterns</code> é…ç½®ï¼›åœ¨ <code>Image</code> ç»„ä»¶ä¸­è®¾ç½® <code>loader</code> å±æ€§ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ç›‘æ§ Core Web Vitalsï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ <code>app/reportWebVitals.ts</code> ä¸­ä¸ŠæŠ¥æ•°æ®ï¼›ç»“åˆ Vercel Analytics æˆ–è‡ªå»º APIã€‚</li>
</ul>
</li>
</ol>
<h3 id="h-æ•°æ®åº“ä¸å¤–éƒ¨æœåŠ¡"><a class="header" href="#h-æ•°æ®åº“ä¸å¤–éƒ¨æœåŠ¡">H. æ•°æ®åº“ä¸å¤–éƒ¨æœåŠ¡</a></h3>
<ol start="36">
<li><strong>Qï¼šPrisma åœ¨å¼€å‘ç¯å¢ƒçƒ­é‡è½½æ—¶æŠ¥ â€œToo many connectionsâ€ï¼Ÿ</strong>
<ul>
<li>Aï¼šå¼€å‘æ¨¡å¼ä¸‹ä¸€æ¬¡æ„å»ºå¯èƒ½äº§ç”Ÿå¤šä¸ª Prisma Clientã€‚ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼ˆ<code>globalThis</code>ï¼‰å¤ç”¨ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ Edge ä¸­è®¿é—®æ•°æ®åº“ï¼Ÿ</strong>
<ul>
<li>Aï¼šEdge ä¸æ”¯æŒç›´æ¥è¿æ¥æ•°æ®åº“ã€‚éœ€é€šè¿‡ HTTP API æˆ– Edge-ready æœåŠ¡ï¼ˆå¦‚ Upstash Redisã€PlanetScale HTTP APIï¼‰ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ç®¡ç†æ•°æ®åº“è¿ç§»ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ Prisma Migrateï¼›åœ¨ CI ä¸­æ‰§è¡Œ <code>prisma migrate deploy</code>ï¼›ç”Ÿäº§ç¯å¢ƒå‰å¤‡ä»½æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ Server Action ä¸­å¤„ç†é•¿æ—¶é—´ä»»åŠ¡ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸è¦é•¿æ—¶é—´é˜»å¡ï¼Œå¯æŠ•é€’åˆ°é˜Ÿåˆ—ï¼ˆBullMQã€Cloud Tasksï¼‰ï¼ŒAction ç«‹å³è¿”å›ä»»åŠ¡ IDã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ä¸ç¬¬ä¸‰æ–¹ REST API é›†æˆå¹¶ç¼“å­˜ï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ Server Component ä¸­ <code>fetch</code>ï¼Œè®¾ç½® <code>revalidate</code> å’Œ <code>tags</code>ï¼›å¯¹æ•æ„Ÿ API ä½¿ç”¨ Route Handler ä»£ç†ï¼Œé¿å…æ³„éœ² Tokenã€‚</li>
</ul>
</li>
</ol>
<h3 id="i-å›½é™…åŒ–ä¸æœ¬åœ°åŒ–"><a class="header" href="#i-å›½é™…åŒ–ä¸æœ¬åœ°åŒ–">I. å›½é™…åŒ–ä¸æœ¬åœ°åŒ–</a></h3>
<ol start="41">
<li><strong>Qï¼šå¦‚ä½•è®¾ç½®é»˜è®¤è¯­è¨€ä¸è¯­è¨€åˆ‡æ¢ï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ <code>next.config.js</code> <code>i18n</code> ä¸­é…ç½® <code>locales</code> ä¸ <code>defaultLocale</code>ï¼›ä½¿ç”¨ Middleware æ ¹æ® Accept-Language é‡å®šå‘ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¤„ç†æ—¥æœŸ/è´§å¸æœ¬åœ°åŒ–ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>Intl.DateTimeFormat</code> ä¸ <code>Intl.NumberFormat</code>ï¼Œæˆ– <code>dayjs</code>/<code>date-fns</code> é…åˆæœ¬åœ°åŒ–æ’ä»¶ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ç¡®ä¿å¤šè¯­è¨€ SEOï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨ <code>metadata</code> çš„ <code>alternates.languages</code> é…ç½® <code>hreflang</code>ï¼›å¯¹æ¯ä¸ªè¯­è¨€ç”Ÿæˆ sitemapã€‚</li>
</ul>
</li>
<li><strong>Qï¼šåŠ¨æ€å†…å®¹å¦‚ä½•ç¿»è¯‘ï¼Ÿ</strong>
<ul>
<li>Aï¼šç»“åˆ CMSï¼ˆDatoCMSã€Contentfulï¼‰æˆ–ç¿»è¯‘å¹³å°ï¼ˆPhraseã€Lokaliseï¼‰ï¼›åœ¨æœåŠ¡ç«¯æŒ‰è¯­è¨€è¯»å–ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¤„ç† RTLï¼ˆä»å³åˆ°å·¦ï¼‰å¸ƒå±€ï¼Ÿ</strong>
<ul>
<li>Aï¼šTailwind æ”¯æŒ <code>rtl</code> æ’ä»¶ï¼›åœ¨ <code>&lt;html dir="rtl"&gt;</code> æ§åˆ¶ã€‚ç¡®ä¿ç»„ä»¶å…¼å®¹ã€‚</li>
</ul>
</li>
</ol>
<h3 id="j-æµ‹è¯•ä¸-cicd"><a class="header" href="#j-æµ‹è¯•ä¸-cicd">J. æµ‹è¯•ä¸ CI/CD</a></h3>
<ol start="46">
<li><strong>Qï¼šå¦‚ä½•åœ¨æµ‹è¯•ä¸­æ¨¡æ‹Ÿ Server Actionï¼Ÿ</strong>
<ul>
<li>Aï¼šServer Action æœ¬è´¨æ˜¯ async å‡½æ•°ï¼Œå¯ç›´æ¥è°ƒç”¨ã€‚éœ€ mock ä¾èµ–ï¼ˆPrismaã€å¤–éƒ¨ APIï¼‰ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šPlaywright æµ‹è¯•èƒ½å¦‚ä½•ä¸ Server Actions åä½œï¼Ÿ</strong>
<ul>
<li>Aï¼šå¯è°ƒç”¨æµ‹è¯•ä¸“ç”¨ API è®¾ç½®æ•°æ®ï¼Œæˆ–åœ¨æµ‹è¯•ç¯å¢ƒå¯åŠ¨æœåŠ¡å™¨æ—¶æ·»åŠ ç‰¹æ®Šæ ‡è®°ï¼ˆå¦‚ <code>process.env.NEXT_PUBLIC_TESTING</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ CI ä¸­ç¼“å­˜ pnpm ä¾èµ–ï¼Ÿ</strong>
<ul>
<li>Aï¼šGitHub Actions ä½¿ç”¨ <code>actions/setup-node</code> çš„ <code>cache: 'pnpm'</code>ï¼›åŒæ—¶ä½¿ç”¨ <code>pnpm fetch</code> æå‰ä¸‹è½½ä¾èµ–ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šéƒ¨ç½²æ—¶ <code>npm run build</code> å¤ªæ…¢å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>pnpm</code>ã€<code>turbo</code> ç¼“å­˜ï¼›å‡å°‘æœªä½¿ç”¨çš„ä¾èµ–ï¼›å¼€å¯ <code>experimental.turbo</code>ï¼ˆNext 13.4+ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•è¿›è¡Œ Canary å‘å¸ƒï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ Feature Flagï¼›Vercel æ”¯æŒ Preview åˆ†æ”¯åˆ†å‘ï¼›Middleware æ§åˆ¶ç‰¹å®šç”¨æˆ·è®¿é—®ã€‚</li>
</ul>
</li>
</ol>
<h3 id="k-å®‰å…¨ä¸åˆè§„"><a class="header" href="#k-å®‰å…¨ä¸åˆè§„">K. å®‰å…¨ä¸åˆè§„</a></h3>
<ol start="51">
<li><strong>Qï¼šServer Component ä¼šæ³„éœ²ç¯å¢ƒå˜é‡å—ï¼Ÿ</strong>
<ul>
<li>Aï¼šä¸ä¼šï¼Œé™¤éå°†å˜é‡ä¼ å…¥ Client ç»„ä»¶ã€‚ä¿æŒ Server ç«¯é€»è¾‘ä¸è¿”å›æ•æ„Ÿæ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•é˜²æ­¢ XSSï¼Ÿ</strong>
<ul>
<li>Aï¼šå¯¹ç”¨æˆ·ç”Ÿæˆå†…å®¹ä½¿ç”¨ DOMPurifyï¼›è®¾ç½® CSPï¼›é¿å…ç›´æ¥æ‹¼æ¥ HTMLã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•é˜²æ­¢ CSRFï¼Ÿ</strong>
<ul>
<li>Aï¼šå¯¹å†™æ“ä½œé‡‡ç”¨ SameSite Cookie + CSRF Tokenï¼›æˆ–ä½¿ç”¨åŒ Cookie ç­–ç•¥ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å®ç°æƒé™æ§åˆ¶ï¼Ÿ</strong>
<ul>
<li>Aï¼šè·¯ç”±çº§æˆæƒï¼ˆMiddlewareï¼‰ã€æ•°æ®çº§æˆæƒï¼ˆServer Action/Service å±‚æ£€æŸ¥ï¼‰ã€‚å»ºè®®é‡‡ç”¨ RBACï¼Œè§’è‰²ä¸æƒé™æ˜ å°„è¡¨ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å­˜å‚¨å¯†ç ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>bcrypt</code> æˆ– <code>argon2</code> è¿›è¡Œå“ˆå¸Œï¼›æ°¸è¿œä¸è¦æ˜æ–‡å­˜å‚¨ã€‚</li>
</ul>
</li>
</ol>
<h3 id="l-æ€§èƒ½ä¸ä¼˜åŒ–"><a class="header" href="#l-æ€§èƒ½ä¸ä¼˜åŒ–">L. æ€§èƒ½ä¸ä¼˜åŒ–</a></h3>
<ol start="56">
<li><strong>Qï¼šå¦‚ä½•å‡å°‘ Client bundle ä½“ç§¯ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ RSCï¼›åœ¨ Client ç»„ä»¶ä¸­æŒ‰éœ€å¼•å…¥ï¼›ä½¿ç”¨ <code>dynamic()</code> æ‡’åŠ è½½ï¼›åˆ†æ <code>@next/bundle-analyzer</code> æŠ¥å‘Šã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ä¼˜åŒ– <code>useEffect</code> é‡å¤æ‰§è¡Œï¼Ÿ</strong>
<ul>
<li>Aï¼šæ£€æŸ¥ä¾èµ–æ•°ç»„ï¼›ä½¿ç”¨ <code>useCallback</code>/<code>useMemo</code>ï¼›é¿å…åœ¨ effect ä¸­æ›´æ–° state é€ æˆå¾ªç¯ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ç›‘æ§ API æ€§èƒ½ï¼Ÿ</strong>
<ul>
<li>Aï¼šRoute Handler ä¸­è®°å½•æ—¥å¿—ï¼›æ¥å…¥ APMï¼ˆDatadogã€New Relicï¼‰ï¼›ç»“åˆ OpenTelemetryã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¤„ç†æ…¢æŸ¥è¯¢ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ Prisma <code>explain</code>ã€æ•°æ®åº“ç´¢å¼•ï¼›è®¾ç½®ç¼“å­˜ï¼›å¿…è¦æ—¶å¼•å…¥é˜Ÿåˆ—å¼‚æ­¥å¤„ç†ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¯¹é¡µé¢è¿›è¡Œé¢„çƒ­ï¼Ÿ</strong>
<ul>
<li>Aï¼šéƒ¨ç½²åæ‰§è¡Œè„šæœ¬è®¿é—®å…³é”®é¡µé¢è§¦å‘ ISRï¼›æˆ–è°ƒç”¨ <code>vercel revalidate</code> APIã€‚</li>
</ul>
</li>
</ol>
<h3 id="m-ç‰ˆæœ¬å‡çº§ä¸è¿ç§»"><a class="header" href="#m-ç‰ˆæœ¬å‡çº§ä¸è¿ç§»">M. ç‰ˆæœ¬å‡çº§ä¸è¿ç§»</a></h3>
<ol start="61">
<li><strong>Qï¼šå¦‚ä½•ä» Pages Router è¿ç§»åˆ° App Routerï¼Ÿ</strong>
<ul>
<li>Aï¼šå»ºè®®é€æ¨¡å—è¿ç§»ï¼šç›®å½•ç»“æ„â†’å¸ƒå±€â†’æ•°æ®â†’APIï¼›å¯åŒæ—¶ä¿ç•™ <code>pages</code> ä¸ <code>app</code>ï¼Œé€æ­¥æ›¿æ¢ã€‚å‚è€ƒå®˜æ–¹ Migration Guideã€‚</li>
</ul>
</li>
<li><strong>Qï¼šNext.js å‡çº§éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</strong>
<ul>
<li>Aï¼šå…³æ³¨ Release Note ä¸­çš„ Breaking Changesï¼›æå‰åœ¨ Preview ç¯å¢ƒéªŒè¯ï¼›å¯¹å®éªŒç‰¹æ€§è¯„ä¼°ç¨³å®šæ€§ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šReact Compiler ä¸ App Router æ˜¯å¦å…¼å®¹ï¼Ÿ</strong>
<ul>
<li>Aï¼šReact Compiler å°šåœ¨å®éªŒé˜¶æ®µï¼Œè¯·å…³æ³¨å®˜æ–¹å…¬å‘Šã€‚å½“å‰ç‰ˆæœ¬å¯åœ¨ Client ç»„ä»¶ä¸­å°è¯•ï¼Œç•™æ„å…¼å®¹é—®é¢˜ã€‚</li>
</ul>
</li>
</ol>
<h3 id="n-å…¶ä»–å¸¸è§é—®é¢˜"><a class="header" href="#n-å…¶ä»–å¸¸è§é—®é¢˜">N. å…¶ä»–å¸¸è§é—®é¢˜</a></h3>
<ol start="64">
<li><strong>Qï¼šå¦‚ä½•åœ¨ App Router ä¸­ä½¿ç”¨ Reduxï¼Ÿ</strong>
<ul>
<li>Aï¼šåœ¨é¡¶å±‚ <code>providers.tsx</code> å®¢æˆ·ç«¯ç»„ä»¶ä¸­åŒ…è£¹ <code>&lt;Provider store={store}&gt;</code>ï¼›Server Component æ•°æ®é€šè¿‡ props ä¼ é€’è‡³ Clientã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•æ¥å…¥ Web Workerï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>next/dynamic</code> + <code>worker-loader</code> æˆ– <code>comlink</code>ï¼›åœ¨ Client Component ä¸­åˆå§‹åŒ– Workerã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•å¯¼å‡ºé™æ€ç½‘ç«™ï¼Ÿ</strong>
<ul>
<li>Aï¼šApp Router ä¸æ”¯æŒ <code>next export</code>ï¼›è‹¥éœ€è¦é™æ€å¯¼å‡ºï¼Œè¯·ä½¿ç”¨ Pages Router æˆ– Vercel é™æ€åŒ–æ¶æ„ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åµŒå…¥ç¬¬ä¸‰æ–¹è„šæœ¬ï¼ˆå¦‚ GAã€Hotjarï¼‰ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ <code>next/script</code> æ§åˆ¶åŠ è½½ç­–ç•¥ï¼ˆ<code>beforeInteractive</code>ã€<code>afterInteractive</code>ã€<code>lazyOnload</code>ï¼‰ã€‚æ³¨æ„ GDPR åˆè§„ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨å¼€å‘é˜¶æ®µå¯ç”¨ HTTPSï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨è‡ªç­¾è¯ä¹¦ + <code>next dev --hostname localhost --port 3000 --experimental-https</code>ï¼ˆNext 14.1+ å®éªŒï¼‰ã€‚æˆ–å€ŸåŠ© <code>mkcert</code>ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•åœ¨ Next.js ä¸­ä½¿ç”¨ WebAssemblyï¼Ÿ</strong>
<ul>
<li>Aï¼šå°† <code>.wasm</code> æ–‡ä»¶æ”¾åœ¨ <code>public</code>ï¼Œåœ¨ Client Component ä½¿ç”¨ <code>WebAssembly.instantiateStreaming</code>ã€‚ä¿æŒæµè§ˆå™¨å…¼å®¹æ€§ã€‚</li>
</ul>
</li>
<li><strong>Qï¼šå¦‚ä½•ä¸ Legacy ç³»ç»Ÿäº¤äº’ï¼Ÿ</strong>
<ul>
<li>Aï¼šä½¿ç”¨ Route Handler ä½œä¸º BFF å±‚ï¼Œå°è£… Legacy APIï¼›ç¡®ä¿æ•°æ®è½¬æ¢ã€é”™è¯¯å¤„ç†ã€å®‰å…¨è®¤è¯ã€‚</li>
</ul>
</li>
</ol>
<p>æ­¤ FAQ å°†æŒç»­æ›´æ–°ï¼Œå»ºè®®å°†å…¶çº³å…¥å›¢é˜ŸçŸ¥è¯†åº“ã€‚é‡åˆ°æ–°é—®é¢˜æ—¶ï¼Œè®°å½•å¤ç°æ­¥éª¤ä¸è§£å†³ç­–ç•¥ï¼Œè½¬åŒ–ä¸ºç»„ç»‡èµ„äº§ã€‚</p>
<hr />
<h2 id="é¡¹ç›®æ‰§è¡Œæ¸…å•ä¸æ¨¡æ¿åº“"><a class="header" href="#é¡¹ç›®æ‰§è¡Œæ¸…å•ä¸æ¨¡æ¿åº“">é¡¹ç›®æ‰§è¡Œæ¸…å•ä¸æ¨¡æ¿åº“</a></h2>
<p>ä¸ºäº†ç¡®ä¿å­¦ä¹ ä¸é¡¹ç›®è½åœ°è¿‡ç¨‹è§„èŒƒåŒ–ï¼Œæœ¬èŠ‚æä¾›è¦†ç›–ç«‹é¡¹ã€å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²ã€è¿ç»´çš„å¤šç»´åº¦æ¸…å•ã€‚å¯ç›´æ¥å¤åˆ¶åˆ° Notionã€è¯­é›€æˆ– Jira ä¸­ä½¿ç”¨ã€‚</p>
<h3 id="1-ç«‹é¡¹å‡†å¤‡æ¸…å•"><a class="header" href="#1-ç«‹é¡¹å‡†å¤‡æ¸…å•">1. ç«‹é¡¹å‡†å¤‡æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
ç¡®è®¤ä¸šåŠ¡ç›®æ ‡ã€ç”¨æˆ·ç”»åƒã€å…³é”®æŒ‡æ ‡ï¼ˆå¦‚æ³¨å†Œè½¬åŒ–ç‡ã€ç•™å­˜ã€æ€§èƒ½ç›®æ ‡ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
è¾“å‡ºäº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰ä¸ç”¨æˆ·æ—…ç¨‹åœ°å›¾ã€‚</li>
<li><input disabled="" type="checkbox"/>
æ˜ç¡®æŠ€æœ¯èŒƒå›´ï¼šApp Routerã€å¿…è¦ç¬¬ä¸‰æ–¹æœåŠ¡ã€éƒ¨ç½²å¹³å°ã€‚</li>
<li><input disabled="" type="checkbox"/>
å»ºç«‹ Git ä»“åº“ã€CI Pipelineã€ç¯å¢ƒå˜é‡ç®¡ç†ç­–ç•¥ã€‚</li>
<li><input disabled="" type="checkbox"/>
è®¾è®¡åŸºç¡€ä¿¡æ¯æ¶æ„ï¼ˆç«™ç‚¹åœ°å›¾ã€è·¯ç”±ç»“æ„ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
åˆ¶å®šå®‰å…¨ä¸åˆè§„ç­–ç•¥ï¼ˆæ•°æ®åˆ†ç±»ã€åŠ å¯†ã€éšç§æ”¿ç­–ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
æˆç«‹å¤šèŒèƒ½å°ç»„ï¼Œæ˜ç¡®è§’è‰²èŒè´£ä¸æ²Ÿé€šæœºåˆ¶ã€‚</li>
</ul>
<h3 id="2-æ¶æ„è®¾è®¡æ¸…å•"><a class="header" href="#2-æ¶æ„è®¾è®¡æ¸…å•">2. æ¶æ„è®¾è®¡æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
ç»˜åˆ¶ç³»ç»Ÿæ¶æ„å›¾ï¼ˆå‰ç«¯ã€BFFã€æ•°æ®å­˜å‚¨ã€ç¼“å­˜ã€å¤–éƒ¨æœåŠ¡ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
é€‰æ‹©è¿è¡Œæ—¶ç­–ç•¥ï¼ˆEdge / Nodeï¼‰ï¼Œè®°å½•æ¯ä¸ª API çš„è¿è¡Œç¯å¢ƒã€‚</li>
<li><input disabled="" type="checkbox"/>
è®¾è®¡æ•°æ®æ¨¡å‹ï¼ˆER å›¾ï¼‰ã€æ•°æ®åº“é€‰å‹ä¸è¿ç§»ç­–ç•¥ã€‚</li>
<li><input disabled="" type="checkbox"/>
ç¡®è®¤ç¼“å­˜ç­–ç•¥ï¼šrevalidate æ—¶é—´ã€Tag å‘½åè§„èŒƒã€å¤±æ•ˆæœºåˆ¶ã€‚</li>
<li><input disabled="" type="checkbox"/>
æ’°å†™å®‰å…¨è®¾è®¡æ–‡æ¡£ï¼šé‰´æƒã€æˆæƒã€å®¡è®¡ã€åŠ å¯†åè®®ã€‚</li>
<li><input disabled="" type="checkbox"/>
è¯„ä¼°æ‰©å±•æ€§ï¼šå¤šç§Ÿæˆ·ã€å›½é™…åŒ–ã€å®æ—¶é€šä¿¡ã€AI èƒ½åŠ›ã€‚</li>
<li><input disabled="" type="checkbox"/>
è§„åˆ’æ€§èƒ½é¢„ç®—ï¼šCore Web Vitalsã€API å“åº”æ—¶é—´ã€‚</li>
</ul>
<h3 id="3-å¼€å‘é˜¶æ®µæ¸…å•"><a class="header" href="#3-å¼€å‘é˜¶æ®µæ¸…å•">3. å¼€å‘é˜¶æ®µæ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å®Œæˆç¯å¢ƒæ­å»ºï¼ˆNode ç‰ˆæœ¬ã€åŒ…ç®¡ç†å™¨ã€IDE æ’ä»¶ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
åˆ›å»º <code>app/</code> ç›®å½•ç»“æ„ã€layout/page/route è§„åˆ’ã€‚</li>
<li><input disabled="" type="checkbox"/>
å»ºç«‹ <code>src/services</code>ã€<code>src/lib</code>ã€<code>src/components</code> åˆ†å±‚ç»“æ„ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¼•å…¥ UI ä½“ç³»ï¼ˆTailwindã€shadcn/uiã€ç»„ä»¶åº“ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å®ç° Server Component + Client Component åˆ†å·¥ï¼Œæ·»åŠ  ESLint è§„åˆ™é™åˆ¶è·¨å±‚å¼•å…¥ã€‚</li>
<li><input disabled="" type="checkbox"/>
ç¼–å†™ Server Actionsã€Route Handlers å¹¶æ·»åŠ è¾“å…¥éªŒè¯ï¼ˆzodï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
æ·»åŠ é”™è¯¯å¤„ç†ã€æ—¥å¿—è®°å½•ã€<code>error.tsx</code>ã€<code>not-found.tsx</code>ã€‚</li>
<li><input disabled="" type="checkbox"/>
ä¸è®¾è®¡ã€äº§å“åŒæ­¥ UI Demoï¼Œç¡®ä¿äº¤äº’ä¸€è‡´ã€‚</li>
</ul>
<h3 id="4-æ•°æ®ä¸ç¼“å­˜æ¸…å•"><a class="header" href="#4-æ•°æ®ä¸ç¼“å­˜æ¸…å•">4. æ•°æ®ä¸ç¼“å­˜æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
è®¾è®¡æ•°æ®è®¿é—®å±‚å‡½æ•°ï¼Œç¡®ä¿å¹‚ç­‰ã€å¼‚å¸¸å¤„ç†ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¯¹å…³é”®æ•°æ®ä½¿ç”¨ <code>revalidatePath</code> æˆ– <code>revalidateTag</code>ã€‚</li>
<li><input disabled="" type="checkbox"/>
è®°å½•æ¯ä¸ªæ•°æ®å‡½æ•°çš„ç¼“å­˜ç­–ç•¥ã€Tagã€å¤±æ•ˆè§¦å‘æ–¹å¼ã€‚</li>
<li><input disabled="" type="checkbox"/>
ä¸º Draft Modeã€é¢„è§ˆæ¨¡å¼æä¾›è°ƒè¯•æ¥å£ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¼•å…¥ Prisma/Drizzleï¼Œç¼–å†™è¿ç§»è„šæœ¬ä¸ Seedã€‚</li>
<li><input disabled="" type="checkbox"/>
å»ºç«‹æ•°æ®åº“å›æ»šç­–ç•¥ï¼ˆå¤‡ä»½ã€ç‰ˆæœ¬è®°å½•ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¯¹å¤–éƒ¨ API è®¿é—®è®¾ç½®è¶…æ—¶ã€é‡è¯•ã€é™çº§æ–¹æ¡ˆã€‚</li>
</ul>
<h3 id="5-é‰´æƒä¸å®‰å…¨æ¸…å•"><a class="header" href="#5-é‰´æƒä¸å®‰å…¨æ¸…å•">5. é‰´æƒä¸å®‰å…¨æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
é€‰å®šé‰´æƒæ–¹æ¡ˆï¼šAuth.jsã€è‡ªå»º JWTã€ç¬¬ä¸‰æ–¹ï¼ˆClerkã€Supabaseï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å®šä¹‰è§’è‰²ä¸æƒé™çŸ©é˜µï¼ˆRBACï¼‰ï¼Œå®ç°ä¸­é—´ä»¶æ ¡éªŒã€‚</li>
<li><input disabled="" type="checkbox"/>
å®ç° Session ç®¡ç†ï¼ˆè¿‡æœŸã€åˆ·æ–°ã€æ³¨é”€ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
ä½¿ç”¨å®‰å…¨å¤´ï¼ˆCSPã€X-Frame-Optionsã€X-Content-Type-Optionsï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¯¹å†™æ“ä½œæ·»åŠ  CSRF é˜²æŠ¤ã€éªŒè¯ç æˆ–äºŒæ¬¡ç¡®è®¤ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¯¹æ•æ„Ÿæ“ä½œè®°å½•å®¡è®¡æ—¥å¿—ï¼ˆè°ã€ä½•æ—¶ã€åšäº†ä»€ä¹ˆï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
è¿›è¡Œæ¸—é€æµ‹è¯•æˆ–å®‰å…¨æ‰«æã€‚</li>
</ul>
<h3 id="6-uiux-æ¸…å•"><a class="header" href="#6-uiux-æ¸…å•">6. UI/UX æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å…¨ç«™ç»Ÿä¸€å­—ä½“ã€é¢œè‰²ã€é—´è·ã€ç»„ä»¶é£æ ¼ã€‚</li>
<li><input disabled="" type="checkbox"/>
ä¸ºäº¤äº’å…ƒç´ æä¾›çŠ¶æ€åé¦ˆï¼ˆHoverã€Focusã€Loadingï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
Loading/Skeleton è®¾è®¡ä¸çœŸå®æ•°æ®ä¸€è‡´ã€‚</li>
<li><input disabled="" type="checkbox"/>
å“åº”å¼é€‚é…ï¼ˆç§»åŠ¨ã€å¹³æ¿ã€æ¡Œé¢ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¯è®¿é—®æ€§ï¼ˆA11yï¼‰ï¼šé”®ç›˜å¯¼èˆªã€ARIA æ ‡ç­¾ã€é¢œè‰²å¯¹æ¯”åº¦ã€‚</li>
<li><input disabled="" type="checkbox"/>
SEO ä¼˜åŒ–ï¼šmetadataã€OpenGraphã€Sitemapã€Robotsã€‚</li>
<li><input disabled="" type="checkbox"/>
å›½é™…åŒ–ï¼šæ–‡æ¡ˆæå–ã€ç¿»è¯‘æµç¨‹ã€è´§å¸/æ—¥æœŸæœ¬åœ°åŒ–ã€‚</li>
</ul>
<h3 id="7-æµ‹è¯•æ¸…å•"><a class="header" href="#7-æµ‹è¯•æ¸…å•">7. æµ‹è¯•æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒæ•°æ®å‡½æ•°ã€å·¥å…·å‡½æ•°ã€‚</li>
<li><input disabled="" type="checkbox"/>
é›†æˆæµ‹è¯•è¦†ç›– APIã€Server Actionã€‚</li>
<li><input disabled="" type="checkbox"/>
E2E æµ‹è¯•è¦†ç›–å…³é”®ä¸šåŠ¡æµç¨‹ã€‚</li>
<li><input disabled="" type="checkbox"/>
Lighthouse æ€§èƒ½ä¸å¯è®¿é—®æ€§æ‰«æã€‚</li>
<li><input disabled="" type="checkbox"/>
å®‰å…¨æ‰«æï¼ˆOWASP Top 10ã€è‡ªå®šä¹‰è„šæœ¬ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å›å½’æµ‹è¯•è®¡åˆ’ï¼ˆå‡çº§ã€è¿ç§»å‰ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
æµ‹è¯•æ•°æ®ç»´æŠ¤ã€Mock æ–¹æ¡ˆæ–‡æ¡£åŒ–ã€‚</li>
</ul>
<h3 id="8-éƒ¨ç½²ä¸è¿ç»´æ¸…å•"><a class="header" href="#8-éƒ¨ç½²ä¸è¿ç»´æ¸…å•">8. éƒ¨ç½²ä¸è¿ç»´æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
CI/CD é…ç½®å®Œæˆï¼šLintã€Testã€Buildã€Deployã€‚</li>
<li><input disabled="" type="checkbox"/>
ç¯å¢ƒå˜é‡åœ¨ Dev/Staging/Prod ä¸€è‡´ç®¡ç†ã€‚</li>
<li><input disabled="" type="checkbox"/>
éƒ¨ç½²è„šæœ¬è®°å½•ï¼ˆVercel CLIã€Dockerã€K8sï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
ç›‘æ§æŒ‡æ ‡ï¼šé”™è¯¯ç‡ã€å“åº”æ—¶é—´ã€èµ„æºä½¿ç”¨ã€ä¸šåŠ¡æŒ‡æ ‡ã€‚</li>
<li><input disabled="" type="checkbox"/>
æ—¥å¿—æ–¹æ¡ˆï¼šç»“æ„åŒ–æ—¥å¿—ã€æ—¥å¿—ç•™å­˜æ—¶é—´ã€‚</li>
<li><input disabled="" type="checkbox"/>
å‘Šè­¦ç­–ç•¥ï¼šé˜ˆå€¼ã€é€šçŸ¥æ¸ é“ã€å‡çº§è·¯å¾„ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¤‡ä»½ç­–ç•¥ï¼šæ•°æ®åº“å¿«ç…§ã€æ–‡ä»¶å­˜å‚¨ã€‚</li>
</ul>
<h3 id="9-è¿­ä»£ä¸ä¼˜åŒ–æ¸…å•"><a class="header" href="#9-è¿­ä»£ä¸ä¼˜åŒ–æ¸…å•">9. è¿­ä»£ä¸ä¼˜åŒ–æ¸…å•</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
æ¯æ¬¡è¿­ä»£ç»“æŸåæ›´æ–°æ–‡æ¡£ï¼ˆAPIã€æ¶æ„ã€FAQï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"/>
å¤ç›˜ä¼šè®®è®°å½•é—®é¢˜ã€æˆåŠŸç»éªŒã€æ”¹è¿›è®¡åˆ’ã€‚</li>
<li><input disabled="" type="checkbox"/>
æŒç»­è·Ÿè¸ªæ€§èƒ½æŒ‡æ ‡ä¸ç”¨æˆ·åé¦ˆã€‚</li>
<li><input disabled="" type="checkbox"/>
ç»´æŠ¤æŠ€æœ¯å€ºåˆ—è¡¨ï¼ŒæŒ‰ä¼˜å…ˆçº§å®‰æ’é‡æ„ã€‚</li>
<li><input disabled="" type="checkbox"/>
å…³æ³¨ Next.jsã€Reactã€è¡Œä¸šåŠ¨æ€ï¼Œè¯„ä¼°æ–°ç‰¹æ€§ã€‚</li>
</ul>
<h3 id="10-æ¨¡æ¿èµ„æº"><a class="header" href="#10-æ¨¡æ¿èµ„æº">10. æ¨¡æ¿èµ„æº</a></h3>
<ul>
<li><strong>Issue æ¨¡æ¿ï¼ˆGitHubï¼‰</strong>ï¼š</li>
</ul>
<pre><code>## åŠŸèƒ½æè¿°

## å®ç°è¯´æ˜
- [ ] Server Component
- [ ] Client Component
- [ ] Server Action
- [ ] Route Handler

## ç¼“å­˜ç­–ç•¥
- revalidate:
- tags:

## æµ‹è¯•ç”¨ä¾‹
- å•å…ƒï¼š
- é›†æˆï¼š
- E2Eï¼š

## éªŒæ”¶æ ‡å‡†
- [ ] UI ä¸è®¾è®¡ä¸€è‡´
- [ ] æ•°æ®æ­£ç¡®
- [ ] æ€§èƒ½è¾¾æ ‡
</code></pre>
<ul>
<li><strong>Pull Request æ¨¡æ¿</strong>ï¼š</li>
</ul>
<pre><code>## å˜æ›´å†…å®¹
- [ ] æ–°å¢åŠŸèƒ½
- [ ] Bug ä¿®å¤
- [ ] é‡æ„
- [ ] æ–‡æ¡£

## æè¿°

## æµ‹è¯•
- [ ] pnpm lint
- [ ] pnpm test
- [ ] pnpm build
- [ ] E2E

## æ³¨æ„äº‹é¡¹
</code></pre>
<ul>
<li><strong>è¿è¡Œæ‰‹å†Œç»“æ„</strong>ï¼š
<ol>
<li>ç³»ç»Ÿæ¦‚è¿°</li>
<li>æ¶æ„æ‹“æ‰‘</li>
<li>ç¯å¢ƒä¸é…ç½®</li>
<li>å¯åœæµç¨‹</li>
<li>ç›‘æ§æŒ‡æ ‡</li>
<li>æ•…éšœæ’æŸ¥æŒ‡å—</li>
<li>è”ç³»äººåˆ—è¡¨</li>
</ol>
</li>
</ul>
<hr />
<h2 id="æœ¯è¯­ä¸æ¦‚å¿µç´¢å¼•glossary-é€ŸæŸ¥"><a class="header" href="#æœ¯è¯­ä¸æ¦‚å¿µç´¢å¼•glossary-é€ŸæŸ¥">æœ¯è¯­ä¸æ¦‚å¿µç´¢å¼•ï¼ˆGlossary é€ŸæŸ¥ï¼‰</a></h2>
<div class="table-wrapper"><table><thead><tr><th>æœ¯è¯­</th><th>ä¸­æ–‡é‡Šä¹‰</th><th>è¯´æ˜ä¸ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody>
<tr><td>App Router</td><td>App è·¯ç”±</td><td>Next.js 13+ æ–°è·¯ç”±æœºåˆ¶ï¼ŒåŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ <code>app/</code> ç›®å½•ï¼Œæ”¯æŒ RSCã€å¸ƒå±€åµŒå¥—ã€å¹¶è¡Œ/æ‹¦æˆªè·¯ç”±ã€‚</td></tr>
<tr><td>RSC</td><td>React Server Components</td><td>åœ¨æœåŠ¡å™¨æ‰§è¡Œçš„ç»„ä»¶ï¼Œå‡å°‘å®¢æˆ·ç«¯ JSï¼Œé€‚åˆæ•°æ®è·å–ä¸çº¯æ¸²æŸ“ã€‚</td></tr>
<tr><td>Client Component</td><td>å®¢æˆ·ç«¯ç»„ä»¶</td><td>å« <code>"use client"</code> æŒ‡ä»¤ï¼Œæ‰§è¡Œäºæµè§ˆå™¨ï¼Œè´Ÿè´£äº¤äº’ä¸çŠ¶æ€ç®¡ç†ã€‚</td></tr>
<tr><td>Layout</td><td>å¸ƒå±€ç»„ä»¶</td><td>å®šä¹‰é¡µé¢å…±äº«ç»“æ„ï¼Œå¯åµŒå¥—ï¼Œå¤šç”¨äºå¯¼èˆªã€ä¾§è¾¹æ ã€‚</td></tr>
<tr><td>Segment</td><td>è·¯ç”±æ®µ</td><td><code>app/&lt;segment&gt;/</code> ç›®å½•å¯¹åº” URLï¼Œæ”¯æŒåŠ¨æ€ <code>[param]</code>ã€å¯é€‰ <code>[...[param]]</code>ã€‚</td></tr>
<tr><td>Route Handler</td><td>è·¯ç”±å¤„ç†å™¨</td><td><code>app/api/*/route.ts</code> å®šä¹‰ HTTP å¤„ç†ï¼Œæ›¿ä»£æ—§ <code>pages/api</code>ã€‚</td></tr>
<tr><td>Server Action</td><td>æœåŠ¡å™¨åŠ¨ä½œ</td><td>ä½¿ç”¨ <code>"use server"</code> å£°æ˜çš„å‡½æ•°ï¼Œå¯ç›´æ¥ä»å‰ç«¯è§¦å‘æœåŠ¡å™¨é€»è¾‘ã€‚</td></tr>
<tr><td>Middleware</td><td>ä¸­é—´ä»¶</td><td>è¯·æ±‚è¿›å…¥åº”ç”¨æ—¶æ‰§è¡Œçš„ Edge å‡½æ•°ï¼Œé€‚ç”¨äºé‡å†™ã€é‡å®šå‘ã€é‰´æƒã€‚</td></tr>
<tr><td>Edge Runtime</td><td>è¾¹ç¼˜è¿è¡Œæ—¶</td><td>åŸºäº Web API çš„ç¯å¢ƒï¼Œåœ¨ CDN èŠ‚ç‚¹æ‰§è¡Œï¼Œä½å»¶è¿Ÿï¼Œé™åˆ¶ Node APIã€‚</td></tr>
<tr><td>Node Runtime</td><td>Node è¿è¡Œæ—¶</td><td>æ ‡å‡† Node.js ç¯å¢ƒï¼Œæ”¯æŒæ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“é©±åŠ¨ã€‚</td></tr>
<tr><td>Suspense</td><td>æ‚¬åœç»„ä»¶</td><td>React æœºåˆ¶ï¼Œç”¨äºç­‰å¾…å¼‚æ­¥æ•°æ®ï¼Œæ­é… <code>loading.tsx</code>ã€‚</td></tr>
<tr><td>Streaming</td><td>æµå¼æ¸²æŸ“</td><td>React 18 èƒ½åŠ›ï¼ŒæœåŠ¡ç«¯åˆ†ç‰‡ä¼ è¾“æ•°æ®ï¼Œæå‡é¦–å±ä½“éªŒã€‚</td></tr>
<tr><td>ISR</td><td>Incremental Static Regeneration</td><td>å¢é‡é™æ€å†ç”Ÿæˆï¼Œå…è®¸é™æ€é¡µé¢åœ¨åå°åˆ·æ–°ã€‚</td></tr>
<tr><td>Revalidate</td><td>å†éªŒè¯</td><td><code>revalidate</code> æ§åˆ¶ç¼“å­˜åˆ·æ–°å‘¨æœŸã€‚</td></tr>
<tr><td>Cache Tag</td><td>ç¼“å­˜æ ‡ç­¾</td><td>ä½¿ç”¨ <code>tags</code> æ ‡è®°æ•°æ®ï¼Œç”¨äº <code>revalidateTag</code> ç²¾å‡†åˆ·æ–°ã€‚</td></tr>
<tr><td>PPR</td><td>Partial Prerendering</td><td>éƒ¨åˆ†é¢„æ¸²æŸ“ï¼Œç»“åˆ Suspense å’Œ <code>dynamic = 'force-static'</code>ã€‚</td></tr>
<tr><td>SSG</td><td>Static Site Generation</td><td>é™æ€ç«™ç‚¹ç”Ÿæˆï¼Œåœ¨æ„å»ºæ—¶è¾“å‡º HTMLã€‚</td></tr>
<tr><td>SSR</td><td>Server Side Rendering</td><td>æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ¯æ¬¡è¯·æ±‚ç”Ÿæˆ HTMLã€‚</td></tr>
<tr><td>CSR</td><td>Client Side Rendering</td><td>å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œåˆå§‹åŠ è½½ HTML + JSã€‚</td></tr>
<tr><td>Flight</td><td>RSC åè®®</td><td>React Server Components ä¸å®¢æˆ·ç«¯é€šä¿¡çš„åè®®ã€‚</td></tr>
<tr><td>CDN</td><td>Content Delivery Network</td><td>å†…å®¹åˆ†å‘ç½‘ç»œï¼ŒåŠ é€Ÿé™æ€èµ„æºã€è¾¹ç¼˜é€»è¾‘ã€‚</td></tr>
<tr><td>ESLint</td><td>JS/TS é™æ€åˆ†æ</td><td>ä»£ç  lint å·¥å…·ï¼ŒNext.js é»˜è®¤é›†æˆã€‚</td></tr>
<tr><td>Tailwind CSS</td><td>å®ç”¨ç±» CSS æ¡†æ¶</td><td>åŸå­åŒ– CSS æ ·å¼æ–¹æ¡ˆï¼Œå¸¸ä¸ Next.js é…åˆä½¿ç”¨ã€‚</td></tr>
<tr><td>shadcn/ui</td><td>ç»„ä»¶é›†</td><td>åŸºäº Radix çš„ç»„ä»¶åº“ï¼Œå¯è‡ªå®šä¹‰ä¸»é¢˜ã€‚</td></tr>
<tr><td>Prisma</td><td>ORM</td><td>TypeScript å‹å¥½çš„ ORMï¼Œæ”¯æŒæ•°æ®æ¨¡å‹ã€è¿ç§»ã€ç”Ÿæˆå®¢æˆ·ç«¯ã€‚</td></tr>
<tr><td>Drizzle</td><td>ORM</td><td>è½»é‡åŒ– SQL æ˜ å°„å·¥å…·ï¼Œé€‚ç”¨äº Edge ç¯å¢ƒã€‚</td></tr>
<tr><td>PlanetScale</td><td>Serverless MySQL</td><td>å…¼å®¹ MySQL çš„äº‘æ•°æ®åº“ï¼Œé€‚åˆ Next.jsã€‚</td></tr>
<tr><td>Upstash Redis</td><td>Serverless Redis</td><td>æ”¯æŒ Edge è®¿é—®çš„ Redis æœåŠ¡ã€‚</td></tr>
<tr><td>Vercel</td><td>éƒ¨ç½²å¹³å°</td><td>Next.js åˆ›å»ºè€…æä¾›çš„å¹³å°ï¼Œæ”¯æŒ Edge/Node æ··åˆã€‚</td></tr>
<tr><td>Playwright</td><td>E2E æµ‹è¯•æ¡†æ¶</td><td>å¾®è½¯å¼€æºï¼Œæ”¯æŒå¤šæµè§ˆå™¨è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</td></tr>
<tr><td>Vitest</td><td>æµ‹è¯•æ¡†æ¶</td><td>Vite ç”Ÿæ€æµ‹è¯•å·¥å…·ï¼Œæ›¿ä»£ Jestã€‚</td></tr>
<tr><td>MSW</td><td>Mock Service Worker</td><td>åœ¨æµè§ˆå™¨/Node æ‹¦æˆªè¯·æ±‚å®ç° Mockã€‚</td></tr>
<tr><td>Sentry</td><td>ç›‘æ§å¹³å°</td><td>é”™è¯¯æ”¶é›†ä¸æ€§èƒ½ç›‘æ§å·¥å…·ã€‚</td></tr>
<tr><td>OpenTelemetry</td><td>å¯è§‚æµ‹æ€§æ ‡å‡†</td><td>åˆ†å¸ƒå¼è¿½è¸ªã€æŒ‡æ ‡ã€æ—¥å¿—æ ‡å‡†åè®®ã€‚</td></tr>
<tr><td>Web Vitals</td><td>æ ¸å¿ƒ web æŒ‡æ ‡</td><td>è¡¡é‡ç”¨æˆ·ä½“éªŒçš„æŒ‡æ ‡ï¼šLCPã€FIDã€CLSã€‚</td></tr>
<tr><td>Lighthouse</td><td>æ€§èƒ½åˆ†æå·¥å…·</td><td>Google å·¥å…·ï¼Œå¯è¯„ä¼°æ€§èƒ½ã€å¯è®¿é—®æ€§ã€SEOã€‚</td></tr>
<tr><td>Next Font</td><td>å­—ä½“ä¼˜åŒ–</td><td><code>next/font</code> æä¾›å­—ä½“æœ¬åœ°åŒ–ä¸ä¼˜åŒ–åŠŸèƒ½ã€‚</td></tr>
<tr><td>Next Image</td><td>å›¾ç‰‡ä¼˜åŒ–ç»„ä»¶</td><td>æ”¯æŒæ‡’åŠ è½½ã€å“åº”å¼è£å‰ªã€WebPã€‚</td></tr>
<tr><td>Metadata</td><td>å…ƒä¿¡æ¯</td><td>Page å±æ€§ï¼š<code>title</code>, <code>description</code>, <code>openGraph</code> ç­‰ã€‚</td></tr>
<tr><td><code>draftMode()</code></td><td>è‰ç¨¿æ¨¡å¼</td><td>å…è®¸é¢„è§ˆæœªå‘å¸ƒå†…å®¹ã€‚</td></tr>
<tr><td><code>generateStaticParams</code></td><td>é™æ€å‚æ•°</td><td>ä¸ºåŠ¨æ€è·¯ç”±æä¾›é¢„ç”Ÿæˆè·¯å¾„ã€‚</td></tr>
<tr><td><code>generateMetadata</code></td><td>åŠ¨æ€å…ƒä¿¡æ¯</td><td>æ ¹æ®å‚æ•°ç”Ÿæˆ SEO ä¿¡æ¯ã€‚</td></tr>
<tr><td><code>notFound()</code></td><td>è§¦å‘ 404</td><td>æŠ›å‡º 404 é¡µé¢ã€‚</td></tr>
<tr><td><code>redirect()</code></td><td>é‡å®šå‘</td><td>åœ¨ Server Component/Action ä¸­æ‰§è¡Œè·³è½¬ã€‚</td></tr>
<tr><td><code>cookies()</code></td><td>Cookie API</td><td>åœ¨æœåŠ¡å™¨ç¯å¢ƒè¯»å–/è®¾ç½® Cookieã€‚</td></tr>
<tr><td><code>headers()</code></td><td>Header API</td><td>è·å–è¯·æ±‚å¤´ä¿¡æ¯ã€‚</td></tr>
<tr><td><code>NextResponse</code></td><td>å“åº”å¯¹è±¡</td><td>Middleware/Route Handler ä¸­ç”¨äºæ„å»º Responseã€‚</td></tr>
<tr><td><code>useRouter</code></td><td>è·¯ç”± Hook</td><td>Client Component ä¸­ä½¿ç”¨çš„å¯¼èˆª Hookã€‚</td></tr>
<tr><td><code>useSearchParams</code></td><td>æŸ¥è¯¢å‚æ•° Hook</td><td>Client Component è·å–æŸ¥è¯¢å‚æ•°ã€‚</td></tr>
<tr><td><code>usePathname</code></td><td>è·¯å¾„ Hook</td><td>è·å–å½“å‰è·¯å¾„å­—ç¬¦ä¸²ã€‚</td></tr>
<tr><td><code>useFormStatus</code></td><td>è¡¨å•çŠ¶æ€ Hook</td><td>Server Action è¡¨å•çŠ¶æ€ï¼ˆpendingï¼‰ã€‚</td></tr>
<tr><td><code>useOptimistic</code></td><td>ä¹è§‚ UI Hook</td><td>React 19 å®éªŒç‰¹æ€§ï¼Œæ„å»ºä¹è§‚æ›´æ–°ã€‚</td></tr>
<tr><td>AB Test</td><td>A/B æµ‹è¯•</td><td>æ¯”è¾ƒä¸åŒ UI/åŠŸèƒ½çš„å®éªŒã€‚</td></tr>
<tr><td>Feature Flag</td><td>åŠŸèƒ½å¼€å…³</td><td>æ§åˆ¶åŠŸèƒ½å‘å¸ƒç­–ç•¥ã€‚</td></tr>
<tr><td>BFF</td><td>Backend For Frontend</td><td>é¢å‘å‰ç«¯çš„åç«¯å±‚ï¼ŒNext.js Route Handler å¸¸ç”¨äºæ­¤ã€‚</td></tr>
<tr><td>SSE</td><td>Server-Sent Events</td><td>å•å‘æ•°æ®æµæ¨é€åè®®ã€‚</td></tr>
<tr><td>WebSocket</td><td>åŒå‘é€šä¿¡åè®®</td><td>æ”¯æŒå®æ—¶é€šä¿¡ã€‚</td></tr>
<tr><td>RAG</td><td>Retrieval Augmented Generation</td><td>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ŒAI å¸¸ç”¨æ¨¡å¼ã€‚</td></tr>
<tr><td>OG Image</td><td>Open Graph å›¾</td><td>ç¤¾äº¤åˆ†äº«é¢„è§ˆå›¾ç‰‡ã€‚</td></tr>
<tr><td>CSR Hydration</td><td>æ³¨æ°´</td><td>å°† SSR è¾“å‡ºç»‘å®šåˆ°å®¢æˆ·ç«¯ Reactã€‚</td></tr>
<tr><td>ISR Revalidation</td><td>å†éªŒè¯</td><td>ISR é‡æ–°ç”Ÿæˆé¡µé¢å¹¶æ›´æ–°ç¼“å­˜ã€‚</td></tr>
<tr><td><code>unstable_cache</code></td><td>è‡ªå®šä¹‰ç¼“å­˜</td><td>åŒ…è£…å‡½æ•°å®ç°ç¼“å­˜ï¼Œæ”¯æŒè‡ªå®šä¹‰ keyã€‚</td></tr>
<tr><td><code>server-only</code></td><td>Server é™åˆ¶</td><td>å¼•å…¥åç¼–è¯‘å™¨ä¼šé˜»æ­¢ Client å¼•ç”¨ã€‚</td></tr>
<tr><td><code>client-only</code></td><td>Client é™åˆ¶</td><td>é˜²æ­¢ Server ç«¯å¼•ç”¨å®¢æˆ·ç«¯æ¨¡å—ã€‚</td></tr>
<tr><td>Turbopack</td><td>æ–°æ„å»ºå™¨</td><td>Next.js æ–°ä¸€ä»£ Rust æ„å»ºå·¥å…·ã€‚</td></tr>
<tr><td>Turborepo</td><td>Monorepo å·¥å…·</td><td>Vercel æä¾›çš„å¤šåŒ…ç®¡ç†å·¥å…·ã€‚</td></tr>
<tr><td>Monorepo</td><td>å•ä»“å¤šåŒ…</td><td>ç®¡ç†å¤šä¸ªé¡¹ç›®/åŒ…çš„ä»“åº“ç»“æ„ã€‚</td></tr>
<tr><td>ESM</td><td>ECMAScript Modules</td><td>JavaScript æ¨¡å—æ ‡å‡† (<code>import/export</code>)ã€‚</td></tr>
<tr><td>CJS</td><td>CommonJS</td><td>Node.js ä¼ ç»Ÿæ¨¡å—ç³»ç»Ÿ (<code>require/module.exports</code>)ã€‚</td></tr>
<tr><td>Tree Shaking</td><td>æ ‘æ‘‡ä¼˜åŒ–</td><td>ç§»é™¤æœªä½¿ç”¨ä»£ç ï¼Œå‡å°‘åŒ…ä½“ç§¯ã€‚</td></tr>
<tr><td>CSR Prefetch</td><td>é¢„æŠ“å–</td><td><code>Link</code> é»˜è®¤é¢„æŠ“å–ç›®æ ‡é¡µé¢ã€‚</td></tr>
<tr><td>PWA</td><td>æ¸è¿›å¼ Web åº”ç”¨</td><td>æ”¯æŒç¦»çº¿ã€å®‰è£…ã€æ¨é€ã€‚</td></tr>
<tr><td>Fallback</td><td>å›é€€ UI</td><td>Suspense æˆ–åŠ¨æ€åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºçš„ä¸´æ—¶ UIã€‚</td></tr>
<tr><td>Route Group</td><td>è·¯ç”±åˆ†ç»„</td><td><code>(group)</code> æ§åˆ¶ç›®å½•ç»“æ„è€Œä¸å½±å“ URLã€‚</td></tr>
<tr><td>Parallel Route</td><td>å¹¶è¡Œè·¯ç”±</td><td><code>@slot</code> å®ç°å¤šè§†å›¾æ¸²æŸ“ã€‚</td></tr>
<tr><td>Intercepting Route</td><td>æ‹¦æˆªè·¯ç”±</td><td><code>(..)</code>ã€<code>(.)</code> å®ç°æ¨¡æ€æˆ–å±€éƒ¨è¦†ç›–ã€‚</td></tr>
<tr><td><code>metadataBase</code></td><td>å…ƒæ•°æ®åŸº</td><td><code>Metadata</code> ä¸­å®šä¹‰åŸºç¡€ URLã€‚</td></tr>
<tr><td><code>draftMode().set</code></td><td>å¯ç”¨è‰ç¨¿</td><td>è¿”å› Response æ—¶æ‰“å¼€è‰ç¨¿æ¨¡å¼ã€‚</td></tr>
<tr><td>DX</td><td>Developer Experience</td><td>å¼€å‘ä½“éªŒæŒ‡æ ‡ï¼ŒNext.js è‡´åŠ›æå‡ã€‚</td></tr>
<tr><td>DX CLI</td><td>å¼€å‘è€…å‘½ä»¤è¡Œ</td><td><code>npx create-next-app</code> ç­‰å·¥å…·ã€‚</td></tr>
<tr><td>API Route</td><td>API è·¯ç”±</td><td>åœ¨ App Router ä¸­ä½¿ç”¨ Route Handler å®ç°ã€‚</td></tr>
<tr><td>HTTP Streaming</td><td>HTTP æµå¼ä¼ è¾“</td><td>SSE/Chunked å“åº”ã€‚</td></tr>
<tr><td>LLM</td><td>Large Language Model</td><td>å¤§è¯­è¨€æ¨¡å‹ï¼Œä¸ AI åŠŸèƒ½ç›¸å…³ã€‚</td></tr>
<tr><td>SaaS</td><td>Software as a Service</td><td>è½¯ä»¶å³æœåŠ¡ï¼Œæœ¬å®æˆ˜æ¡ˆä¾‹ç±»å‹ã€‚</td></tr>
<tr><td>RBAC</td><td>Role-Based Access Control</td><td>åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ã€‚</td></tr>
<tr><td>ABR</td><td>Adaptive Bitrate</td><td>è‡ªé€‚åº”ç ç‡ï¼Œè§†é¢‘æµç›¸å…³ã€‚</td></tr>
<tr><td>ORM</td><td>Object Relational Mapping</td><td>å¯¹è±¡å…³ç³»æ˜ å°„ã€‚</td></tr>
<tr><td>Cache Busting</td><td>ç¼“å­˜å¤±æ•ˆ</td><td>é€šè¿‡æ›´æ”¹ URL æˆ– Tag å¼ºåˆ¶åˆ·æ–°ç¼“å­˜ã€‚</td></tr>
<tr><td>SLA</td><td>Service Level Agreement</td><td>æœåŠ¡ç­‰çº§åè®®ï¼Œå®šä¹‰å¯ç”¨æ€§ç›®æ ‡ã€‚</td></tr>
<tr><td>SLO</td><td>Service Level Objective</td><td>æœåŠ¡ç­‰çº§ç›®æ ‡ï¼Œå…·ä½“æŒ‡æ ‡ã€‚</td></tr>
<tr><td>SLI</td><td>Service Level Indicator</td><td>æœåŠ¡ç­‰çº§æŒ‡æ ‡ï¼Œå®é™…æµ‹é‡å€¼ã€‚</td></tr>
<tr><td>MTTR</td><td>Mean Time to Repair</td><td>å¹³å‡ä¿®å¤æ—¶é—´ã€‚</td></tr>
<tr><td>MTBF</td><td>Mean Time Between Failures</td><td>å¹³å‡æ•…éšœé—´éš”ã€‚</td></tr>
<tr><td>Incident</td><td>äº‹æ•…</td><td>å½±å“æœåŠ¡çš„çªå‘äº‹ä»¶ï¼Œéœ€è¦å“åº”æµç¨‹ã€‚</td></tr>
<tr><td>RCA</td><td>Root Cause Analysis</td><td>æ ¹å› åˆ†æï¼Œäº‹æ•…å¤ç›˜é‡è¦æ­¥éª¤ã€‚</td></tr>
<tr><td>Observability</td><td>å¯è§‚æµ‹æ€§</td><td>å¯¹ç³»ç»ŸçŠ¶æ€çš„å¯è§†åŒ–èƒ½åŠ›ã€‚</td></tr>
<tr><td>Telemetry</td><td>é¥æµ‹æ•°æ®</td><td>Metricsã€Tracingã€Logsã€‚</td></tr>
<tr><td>CDN Cache</td><td>CDN ç¼“å­˜</td><td>éƒ¨ç½²å¹³å°çš„è¾¹ç¼˜ç¼“å­˜å±‚ã€‚</td></tr>
<tr><td>HTTP Header</td><td>HTTP å¤´éƒ¨</td><td>æ§åˆ¶ç¼“å­˜ã€å®‰å…¨ã€å†…å®¹ç±»å‹ç­‰ã€‚</td></tr>
<tr><td>CSP</td><td>Content Security Policy</td><td>å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œé˜²æ­¢ XSSã€‚</td></tr>
<tr><td>CSRF</td><td>Cross-Site Request Forgery</td><td>è·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚</td></tr>
<tr><td>XSS</td><td>Cross-Site Scripting</td><td>è·¨ç«™è„šæœ¬æ”»å‡»ã€‚</td></tr>
<tr><td>SSRF</td><td>Server-Side Request Forgery</td><td>æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ ã€‚</td></tr>
<tr><td>DDoS</td><td>Distributed Denial of Service</td><td>åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ã€‚</td></tr>
<tr><td>Rate Limit</td><td>é™æµ</td><td>æ§åˆ¶è¯·æ±‚é¢‘ç‡ï¼Œé˜²æ­¢æ»¥ç”¨ã€‚</td></tr>
<tr><td>Feature Flag</td><td>åŠŸèƒ½å¼€å…³</td><td>ç°åº¦å‘å¸ƒå·¥å…·ã€‚</td></tr>
<tr><td>Canary Release</td><td>é‡‘ä¸é›€å‘å¸ƒ</td><td>å°èŒƒå›´ç°åº¦ï¼Œæ£€æµ‹é—®é¢˜åå†æ¨å¹¿ã€‚</td></tr>
<tr><td>Blue-Green</td><td>è“ç»¿éƒ¨ç½²</td><td>ä¸¤å¥—ç¯å¢ƒé—´åˆ‡æ¢ï¼Œå‡å°‘åœæœºã€‚</td></tr>
<tr><td>Chaos Testing</td><td>æ··æ²Œæµ‹è¯•</td><td>æ¨¡æ‹Ÿæ•…éšœæµ‹è¯•éŸ§æ€§ã€‚</td></tr>
<tr><td>Observability Stack</td><td>å¯è§‚æµ‹é“¾è·¯</td><td>ç”±æ—¥å¿—ã€æŒ‡æ ‡ã€Tracing ç»„æˆã€‚</td></tr>
<tr><td>SLA Breach</td><td>SLA è¿çº¦</td><td>æŒ‡æ ‡æœªè¾¾æ ‡ï¼Œéœ€è¦è¡¥æ•‘ã€‚</td></tr>
<tr><td>SEO</td><td>Search Engine Optimization</td><td>æœç´¢å¼•æ“ä¼˜åŒ–ã€‚</td></tr>
<tr><td>SERP</td><td>Search Engine Results Page</td><td>æœç´¢ç»“æœé¡µé¢ã€‚</td></tr>
<tr><td>LCP</td><td>Largest Contentful Paint</td><td>æœ€å¤§å†…å®¹ç»˜åˆ¶æ—¶é—´ã€‚</td></tr>
<tr><td>FID/FID2</td><td>First Input Delay/Interaction to Next Paint</td><td>é¦–æ¬¡è¾“å…¥å»¶è¿Ÿã€‚</td></tr>
<tr><td>CLS</td><td>Cumulative Layout Shift</td><td>ç´¯ç§¯å¸ƒå±€åç§»ã€‚</td></tr>
<tr><td>TTFB</td><td>Time to First Byte</td><td>é¦–å­—èŠ‚æ—¶é—´ã€‚</td></tr>
<tr><td>TTI</td><td>Time to Interactive</td><td>å¯äº¤äº’æ—¶é—´ã€‚</td></tr>
<tr><td>FCP</td><td>First Contentful Paint</td><td>é¦–æ¬¡å†…å®¹ç»˜åˆ¶ã€‚</td></tr>
<tr><td>HMR</td><td>Hot Module Replacement</td><td>çƒ­æ¨¡å—æ›¿æ¢ï¼Œå¼€å‘æ—¶å³æ—¶æ›´æ–°ã€‚</td></tr>
<tr><td>Fast Refresh</td><td>å¿«é€Ÿåˆ·æ–°</td><td>React å¼€å‘æ—¶ä¿æŒçŠ¶æ€çš„åˆ·æ–°æœºåˆ¶ã€‚</td></tr>
<tr><td>Turbopack Dev Server</td><td>æ–°å¼€å‘æœåŠ¡å™¨</td><td>Rust æ„å»ºå™¨æä¾›çš„ Dev Serverã€‚</td></tr>
<tr><td>Node ç‰ˆæœ¬</td><td>Node.js ç‰ˆæœ¬</td><td>Next.js 14 éœ€ Node 18+ã€‚</td></tr>
<tr><td>Yarn/pnpm</td><td>åŒ…ç®¡ç†å™¨</td><td>å®‰è£…ä¾èµ–å·¥å…·ã€‚</td></tr>
<tr><td><code>pnpm dlx</code></td><td>ä¸´æ—¶æ‰§è¡Œ</td><td>è¿è¡Œ CLI å·¥å…·ä¾‹å¦‚ <code>pnpm dlx create-next-app</code>ã€‚</td></tr>
<tr><td><code>.env</code></td><td>ç¯å¢ƒå˜é‡æ–‡ä»¶</td><td>å­˜å‚¨æ•æ„Ÿé…ç½®ã€‚</td></tr>
<tr><td>Git Hooks</td><td>Git é’©å­</td><td><code>pre-commit</code>ã€<code>pre-push</code> ç­‰è‡ªåŠ¨åŒ–ã€‚</td></tr>
<tr><td><code>lint-staged</code></td><td>åˆ†é˜¶æ®µ Lint</td><td>åªæ£€æŸ¥ staged æ–‡ä»¶ï¼Œæå‡æ•ˆç‡ã€‚</td></tr>
<tr><td><code>husky</code></td><td>Git hooks ç®¡ç†</td><td>é…ç½® Git é’©å­è„šæœ¬ã€‚</td></tr>
<tr><td><code>dotenv</code></td><td>ç¯å¢ƒå˜é‡åŠ è½½</td><td>Node.js è¯»å– <code>.env</code> æ–‡ä»¶ã€‚</td></tr>
<tr><td>Monorepo Cache</td><td>æ„å»ºç¼“å­˜</td><td>Turborepo è¿œç¨‹ç¼“å­˜åŠŸèƒ½ã€‚</td></tr>
<tr><td>Canary URL</td><td>é¢„å‘é“¾æ¥</td><td>Vercel Preview URLï¼Œç”¨äºæµ‹è¯•ã€‚</td></tr>
<tr><td>Analytics</td><td>åˆ†æ</td><td>Vercel Analyticsã€GA ç­‰å·¥å…·ã€‚</td></tr>
<tr><td>KPI</td><td>Key Performance Indicator</td><td>å…³é”®ç»©æ•ˆæŒ‡æ ‡ã€‚</td></tr>
<tr><td>OKR</td><td>Objectives &amp; Key Results</td><td>ç›®æ ‡å’Œå…³é”®æˆæœã€‚</td></tr>
<tr><td>SLA/SLO/SLI</td><td>æœåŠ¡æŒ‡æ ‡ä½“ç³»</td><td>æœåŠ¡è´¨é‡ç®¡ç†æœ¯è¯­ã€‚</td></tr>
<tr><td>Feedback Loop</td><td>åé¦ˆé—­ç¯</td><td>æ”¶é›†åé¦ˆã€è¿­ä»£æ”¹è¿›ã€‚</td></tr>
</tbody></table>
</div>
<blockquote>
<p>æ³¨ï¼šè¡¨æ ¼åˆ—ä¸¾ 120+ æœ¯è¯­ï¼Œå¦‚éœ€æ‰©å±•ï¼Œå¯ç»§ç»­è¡¥å……å…¬å¸å†…éƒ¨æœ¯è¯­è¡¨ï¼Œç¡®ä¿å›¢é˜Ÿç†è§£ä¸€è‡´ã€‚</p>
</blockquote>
<hr />
<h2 id="å®æˆ˜ç»ƒä¹ ä»»åŠ¡åº“project-based-exercises"><a class="header" href="#å®æˆ˜ç»ƒä¹ ä»»åŠ¡åº“project-based-exercises">å®æˆ˜ç»ƒä¹ ä»»åŠ¡åº“ï¼ˆProject-Based Exercisesï¼‰</a></h2>
<p>ä¸ºå¸®åŠ©å­¦ä¹ è€…å·©å›ºçŸ¥è¯†ã€æ„å»ºä½œå“é›†ï¼Œæœ¬èŠ‚æä¾› 20 ä¸ªå®æˆ˜ç»ƒä¹ ä»»åŠ¡ï¼Œæ¶µç›–ä»åŸºç¡€åˆ°é«˜çº§çš„å¤šç§åœºæ™¯ã€‚æ¯ä¸ªä»»åŠ¡åŒ…å«èƒŒæ™¯ã€ç›®æ ‡ã€å…³é”®çŸ¥è¯†ç‚¹ã€å®æ–½æ­¥éª¤ã€éªŒæ”¶æ ‡å‡†ã€æ‰©å±•æŒ‘æˆ˜ä¸åæ€é—®é¢˜ã€‚å»ºè®®æŒ‰çº¿æ€§é¡ºåºå®Œæˆï¼Œæˆ–æ ¹æ®å…´è¶£é€‰æ‹©ã€‚</p>
<h3 id="ç»ƒä¹ -1ä¸ªäººä¸»é¡µä¸åšå®¢åŸºç¡€"><a class="header" href="#ç»ƒä¹ -1ä¸ªäººä¸»é¡µä¸åšå®¢åŸºç¡€">ç»ƒä¹  1ï¼šä¸ªäººä¸»é¡µä¸åšå®¢åŸºç¡€</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šæ„å»ºæç®€ä¸ªäººç«™ç‚¹ï¼Œå±•ç¤ºç®€å†ä¸åšå®¢æ–‡ç« ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šç†Ÿæ‚‰ App Router åŸºç¡€ç»“æ„ã€é™æ€é¡µé¢ã€åŸºç¡€æ ·å¼ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>layout.tsx</code>ã€<code>page.tsx</code>ã€Tailwindã€Metadataã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>ä½¿ç”¨ <code>create-next-app</code> åˆå§‹åŒ–é¡¹ç›®ï¼›</li>
<li>åˆ›å»º <code>(marketing)/layout.tsx</code>ã€<code>page.tsx</code>ï¼›</li>
<li>ç¼–å†™ <code>/blog</code> åˆ—è¡¨é¡µï¼Œå¯ä½¿ç”¨å‡æ•°æ®ï¼›</li>
<li>ä¸ºæ¯ç¯‡æ–‡ç« ç”Ÿæˆ metadataï¼ŒåŒ…å« OG Imageï¼›</li>
<li>éƒ¨ç½²åˆ° Vercel å¹¶é…ç½®è‡ªå®šä¹‰åŸŸåã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šè®¿é—® <code>/</code> ä¸ <code>/blog</code> é¡µé¢æ— é”™è¯¯ï¼ŒLighthouse å¾—åˆ† â‰¥ 90ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå¼•å…¥ <code>MDX</code> æ¸²æŸ“ Markdownï¼›æ·»åŠ å¤œé—´æ¨¡å¼ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¦‚ä½•ç»„ç»‡ç»„ä»¶ä¸æ ·å¼æé«˜å¤ç”¨æ€§ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -2åŠ¨æ€è·¯ç”±ä¸ç”Ÿæˆç­–ç•¥"><a class="header" href="#ç»ƒä¹ -2åŠ¨æ€è·¯ç”±ä¸ç”Ÿæˆç­–ç•¥">ç»ƒä¹  2ï¼šåŠ¨æ€è·¯ç”±ä¸ç”Ÿæˆç­–ç•¥</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šåšå®¢æ–‡ç« ä» JSON æ•°æ®åŠ¨æ€åŠ è½½ï¼Œéœ€è¦é™æ€ç”Ÿæˆéƒ¨åˆ†é¡µé¢ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šæŒæ¡ <code>generateStaticParams</code> ä¸ ISRã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šåŠ¨æ€ Segmentã€<code>notFound()</code>ã€<code>loading.tsx</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åˆ›å»º <code>app/blog/[slug]/page.tsx</code>ï¼›</li>
<li>åœ¨ <code>generateStaticParams</code> ä¸­è¯»å– mock æ•°æ®ï¼›</li>
<li>æ ¹æ® slug è¿”å›æ–‡ç« å†…å®¹ï¼Œæœªæ‰¾åˆ°æ—¶ <code>notFound()</code>ï¼›</li>
<li>æ·»åŠ  <code>loading.tsx</code> Skeletonï¼›</li>
<li>è®¾ç½® <code>revalidate = 3600</code>ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šæ„å»ºæ—¶ç”Ÿæˆ HTMLï¼Œè®¿é—®æœªçŸ¥ slug æ˜¾ç¤º 404ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç° <code>generateMetadata</code> åŠ¨æ€æ ‡é¢˜ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¯¹ç»å¸¸æ›´æ–°çš„æ–‡ç« ï¼Œåº”å¦‚ä½•è®¾ç½® <code>revalidate</code>ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -3å¹¶è¡Œè·¯ç”±ä»ªè¡¨ç›˜"><a class="header" href="#ç»ƒä¹ -3å¹¶è¡Œè·¯ç”±ä»ªè¡¨ç›˜">ç»ƒä¹  3ï¼šå¹¶è¡Œè·¯ç”±ä»ªè¡¨ç›˜</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šæ„å»ºåˆ†æä»ªè¡¨ç›˜ï¼Œéœ€åŒæ—¶æ˜¾ç¤ºç»Ÿè®¡ã€æ´»åŠ¨æ—¥å¿—ã€é€šçŸ¥ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šå®è·µå¹¶è¡Œè·¯ç”± <code>@analytics</code>ã€<code>@activity</code>ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šå¸ƒå±€ propsã€Suspenseã€Skeletonã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åˆ›å»º <code>app/dashboard/layout.tsx</code> æ¥æ”¶ <code>children</code>ã€<code>analytics</code>ã€<code>activity</code>ï¼›</li>
<li>åœ¨ <code>@analytics/page.tsx</code> ä¸­å±•ç¤ºç»Ÿè®¡å›¾è¡¨ï¼›</li>
<li>åœ¨ <code>@activity/page.tsx</code> ä¸­å±•ç¤ºæ´»åŠ¨åˆ—è¡¨ï¼›</li>
<li>ä½¿ç”¨ <code>dynamic(() =&gt; import(...), { ssr: false })</code> åŠ è½½å›¾è¡¨åº“ï¼›</li>
<li>ä¸ºæ¯ä¸ª Slot æ·»åŠ  <code>loading.tsx</code>ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šé¡µé¢åŠ è½½æ—¶ä¸‰å—åŒºåŸŸç‹¬ç«‹å±•ç¤º Skeletonï¼›</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šæ·»åŠ  Filterï¼Œä¸ URL åŒæ­¥ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¹¶è¡Œè·¯ç”±å¦‚ä½•ä¸æƒé™æ§åˆ¶ç»“åˆï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -4server-action-è¡¨å•æäº¤"><a class="header" href="#ç»ƒä¹ -4server-action-è¡¨å•æäº¤">ç»ƒä¹  4ï¼šServer Action è¡¨å•æäº¤</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå®ç°æ–‡ç« åˆ›å»ºè¡¨å•ï¼Œæäº¤ååˆ·æ–°åˆ—è¡¨ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šæŒæ¡ Server Action ä¸ <code>revalidateTag</code>ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>"use server"</code>ã€FormDataã€zod éªŒè¯ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åœ¨ <code>/dashboard/posts/new</code> åˆ›å»ºè¡¨å•ç»„ä»¶ï¼›</li>
<li>å®šä¹‰ <code>createPostAction</code>ï¼ŒéªŒè¯å­—æ®µå¹¶å†™å…¥æ•°æ®åº“ï¼ˆæˆ– JSONï¼‰ï¼›</li>
<li>æˆåŠŸåè°ƒç”¨ <code>revalidatePath('/dashboard/posts')</code>ï¼›</li>
<li>åœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºæˆåŠŸ/å¤±è´¥æç¤ºï¼›</li>
<li>æ·»åŠ å•å…ƒæµ‹è¯•æ¨¡æ‹Ÿ FormDataã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šæäº¤ååˆ—è¡¨åˆ·æ–°ï¼Œæ–°æ–‡ç« å¯è§ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šæ·»åŠ  slug ç”Ÿæˆã€æ ‡ç­¾è¾“å…¥ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šè¡¨å•é”™è¯¯å¦‚ä½•åœ¨ UI ä¸­å‹å¥½å±•ç¤ºï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -5middleware-é‰´æƒ"><a class="header" href="#ç»ƒä¹ -5middleware-é‰´æƒ">ç»ƒä¹  5ï¼šMiddleware é‰´æƒ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šé™åˆ¶ <code>/dashboard</code> ä»…ç™»å½•ç”¨æˆ·è®¿é—®ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šç†è§£ Middleware ä¸ Edge Runtimeã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>NextResponse.redirect</code>ã€<code>matcher</code>ã€JWTã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åœ¨ <code>middleware.ts</code> ä¸­è¯»å– Cookieï¼›</li>
<li>æœªç™»å½•æ—¶é‡å®šå‘åˆ° <code>/login</code>ï¼›</li>
<li>ç™»å½•åè®¾ç½® <code>Set-Cookie</code>ï¼ŒåŒ…å«ç§Ÿæˆ·ä¿¡æ¯ï¼›</li>
<li>ä¸ºç™»å½•é¡µæ·»åŠ  <code>callbackUrl</code> æ”¯æŒï¼›</li>
<li>ç¼–å†™ Playwright æµ‹è¯•éªŒè¯é‡å®šå‘é€»è¾‘ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šæœªç™»å½•è®¿é—® <code>/dashboard</code> è‡ªåŠ¨è·³ <code>/login</code>ï¼Œç™»å½•åæˆåŠŸè®¿é—®ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç°å¤šç§Ÿæˆ·åŒ¹é…ï¼Œå°†ç§Ÿæˆ·å†™å…¥è¯·æ±‚å¤´ï¼›</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šEdge Runtime ä¸­æ— æ³•ä½¿ç”¨çš„ API æœ‰å“ªäº›ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -6route-handler-api"><a class="header" href="#ç»ƒä¹ -6route-handler-api">ç»ƒä¹  6ï¼šRoute Handler API</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šæ„å»º <code>/api/posts</code> APIï¼Œæ”¯æŒ GET/POSTã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šç†Ÿæ‚‰ Route Handler ä¸è¯·æ±‚å“åº”ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>NextResponse.json</code>ã€æ–¹æ³•å¯¼å‡ºã€é”™è¯¯å¤„ç†ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åˆ›å»º <code>app/api/posts/route.ts</code>ï¼›</li>
<li>å®ç° GET è¿”å›æ–‡ç« åˆ—è¡¨ï¼ŒPOST æ–°å¢æ–‡ç« ï¼›</li>
<li>å¯¹è¯·æ±‚ä½“ä½¿ç”¨ zod éªŒè¯ï¼›</li>
<li>æ·»åŠ  <code>export const runtime = 'edge'</code> æµ‹è¯•å…¼å®¹æ€§ï¼›</li>
<li>ä½¿ç”¨ <code>fetch</code> åœ¨å®¢æˆ·ç«¯è°ƒç”¨ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šPostman æˆ– HTTPie è°ƒç”¨ API æˆåŠŸã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå¼•å…¥åˆ†é¡µã€æŸ¥è¯¢å‚æ•°è¿‡æ»¤ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šä½•æ—¶åº”é€‰æ‹© Node Runtimeï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -7markdown-æ–‡æ¡£ç³»ç»Ÿ"><a class="header" href="#ç»ƒä¹ -7markdown-æ–‡æ¡£ç³»ç»Ÿ">ç»ƒä¹  7ï¼šMarkdown æ–‡æ¡£ç³»ç»Ÿ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šæ„å»ºæ”¯æŒ Markdown çš„æ–‡æ¡£åº“ï¼Œæ”¯æŒç›®å½•å¯¼èˆªã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šå®è·µæ–‡ä»¶è¯»å–ã€RSC æ¸²æŸ“ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>next-mdx-remote</code>ã€<code>contentlayer</code>ï¼ˆå¯é€‰ï¼‰ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åœ¨ <code>content/docs</code> å­˜æ”¾ Markdownï¼›</li>
<li>ä½¿ç”¨ <code>gray-matter</code> è§£æ frontmatterï¼›</li>
<li>åœ¨ <code>generateStaticParams</code> ç”Ÿæˆè·¯å¾„ï¼›</li>
<li>ä½¿ç”¨ <code>rehype</code> æ’ä»¶æ”¯æŒè¯­æ³•é«˜äº®ï¼›</li>
<li>æ·»åŠ ä¾§è¾¹å¯¼èˆªï¼ˆ<code>app/docs/layout.tsx</code>ï¼‰ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šæ–‡æ¡£æ¸²æŸ“æ­£ç¡®ï¼Œç›®å½•é«˜äº®å½“å‰é¡µé¢ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç°å…¨æ–‡æœç´¢ï¼ˆLunr.js/Algoliaï¼‰ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šé™æ€å†…å®¹ä¸æ•°æ®åº“å­˜å‚¨å„è‡ªä¼˜åŠ¿ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -8swr-å®¢æˆ·ç«¯ç¼“å­˜"><a class="header" href="#ç»ƒä¹ -8swr-å®¢æˆ·ç«¯ç¼“å­˜">ç»ƒä¹  8ï¼šSWR å®¢æˆ·ç«¯ç¼“å­˜</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä»ªè¡¨ç›˜éœ€è¦å®æ—¶å±•ç¤ºç”¨æˆ·ç»Ÿè®¡ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šç»“åˆ RSC + SWRã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šSWRã€<code>mutate</code>ã€Refresh Intervalã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åœ¨ Server Component è¯·æ±‚åˆå§‹æ•°æ®ï¼›</li>
<li>å°†åˆå§‹æ•°æ®ä½œä¸º <code>fallback</code> ä¼ ç»™ Client ç»„ä»¶ï¼›</li>
<li>ä½¿ç”¨ SWR è½®è¯¢æ›´æ–°ï¼›</li>
<li>æ·»åŠ â€œåˆ·æ–°â€æŒ‰é’®æ‰‹åŠ¨è§¦å‘ <code>mutate</code>ï¼›</li>
<li>åœ¨ Server Action æ›´æ–°æ•°æ®åè°ƒç”¨ <code>revalidateTag</code>ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šåˆæ¬¡åŠ è½½æ¸²æŸ“ RSC æ•°æ®ï¼Œè½®è¯¢æ›´æ–°æœ€æ–°å€¼ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šä½¿ç”¨ <code>useSWRSubscription</code> ç»“åˆ SSEã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå®¢æˆ·ç«¯ç¼“å­˜æœºåˆ¶ä¸æœåŠ¡ç«¯ç¼“å­˜å¦‚ä½•åè°ƒï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -9å›¾è¡¨ä¸å¯è§†åŒ–"><a class="header" href="#ç»ƒä¹ -9å›¾è¡¨ä¸å¯è§†åŒ–">ç»ƒä¹  9ï¼šå›¾è¡¨ä¸å¯è§†åŒ–</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå±•ç¤ºç”¨æˆ·å¢é•¿è¶‹åŠ¿ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šé›†æˆå›¾è¡¨åº“ï¼ˆå¦‚ <code>@tanstack/react-charts</code>ã€EChartsï¼‰ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>dynamic</code>ã€Client Componentã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åˆ›å»º <code>ChartWrapper</code> Client ç»„ä»¶ï¼›</li>
<li>ä½¿ç”¨ <code>dynamic(() =&gt; import('./Chart'), { ssr: false })</code> åŠ è½½å›¾è¡¨ï¼›</li>
<li>å›¾è¡¨æ•°æ®ç”± Server Component æä¾›ï¼›</li>
<li>æ·»åŠ  Tooltipã€Legendï¼›</li>
<li>è®¾ç½®å“åº”å¼å¸ƒå±€ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šå›¾è¡¨æ­£ç¡®æ¸²æŸ“ï¼Œæ€§èƒ½æµç•…ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå¤šå›¾è”åŠ¨ã€ä¸‹è½½ CSVã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¤§æ•°æ®é‡æ¸²æŸ“å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -10å›½é™…åŒ–ä¸è´§å¸æ¢ç®—"><a class="header" href="#ç»ƒä¹ -10å›½é™…åŒ–ä¸è´§å¸æ¢ç®—">ç»ƒä¹  10ï¼šå›½é™…åŒ–ä¸è´§å¸æ¢ç®—</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šç”µå•†ç«™ç‚¹éœ€è¦æ”¯æŒä¸­è‹±æ–‡ä¸äººæ°‘å¸/ç¾å…ƒä»·æ ¼ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šæŒæ¡ <code>next-intl</code>ã€<code>Intl.NumberFormat</code>ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>app/[locale]/</code>, <code>useLocale</code>, <code>useTranslations</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>é…ç½® <code>next-intl</code>ï¼›</li>
<li>åœ¨ <code>messages/zh-CN.json</code>ã€<code>en.json</code> å®šä¹‰æ–‡æ¡ˆï¼›</li>
<li>åœ¨é¡µé¢ä¸­ä½¿ç”¨ <code>t('key')</code> è·å–ç¿»è¯‘ï¼›</li>
<li>ä½¿ç”¨ <code>Intl.NumberFormat</code> è½¬æ¢è´§å¸ï¼›</li>
<li>åˆ©ç”¨ Middleware æ ¹æ®æµè§ˆå™¨è¯­è¨€é€‰æ‹©é»˜è®¤ localeã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šè¯­è¨€åˆ‡æ¢åæ–‡æ¡ˆã€è´§å¸ã€æ—¥æœŸæ ¼å¼æ­£ç¡®ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç°å¤šè´§å¸æ”¯ä»˜ï¼ˆStripe å¤šå¸ç§ï¼‰ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¤šè¯­è¨€å†…å®¹ç®¡ç†å¦‚ä½•ååŒç¿»è¯‘å›¢é˜Ÿï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -11å›¾ç‰‡ä¼˜åŒ–ä¸-cdn"><a class="header" href="#ç»ƒä¹ -11å›¾ç‰‡ä¼˜åŒ–ä¸-cdn">ç»ƒä¹  11ï¼šå›¾ç‰‡ä¼˜åŒ–ä¸ CDN</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šç½‘ç«™åŒ…å«å¤§é‡é«˜åˆ†è¾¨ç‡å›¾ç‰‡ï¼Œéœ€è¦ä¼˜åŒ–åŠ è½½ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šä½¿ç”¨ <code>next/image</code>ã€é…ç½®è¿œç¨‹åŸŸåã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>fill</code>ã€<code>priority</code>ã€<code>sizes</code>ã€<code>blurDataURL</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>ä½¿ç”¨ <code>next/image</code> æ›¿æ¢ <code>&lt;img&gt;</code>ï¼›</li>
<li>é…ç½® <code>next.config.js</code> ä¸­ <code>images.domains</code>ï¼›</li>
<li>æ·»åŠ æ‡’åŠ è½½ã€å ä½å›¾ï¼›</li>
<li>è®¾ç½® <code>sizes</code> å±æ€§ä»¥é€‚é…ä¸åŒå±å¹•ï¼›</li>
<li>å¯¹å…³é”®è‹±é›„å›¾ä½¿ç”¨ <code>priority</code>ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šLighthouse LCP ä¼˜åŒ–æ˜æ˜¾ï¼Œç½‘ç»œä¼ è¾“å‡å°ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šä½¿ç”¨ Image CDNï¼ˆCloudinaryã€Imgixï¼‰ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¦‚ä½•å¹³è¡¡å›¾ç‰‡è´¨é‡ä¸æ€§èƒ½ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -12seo-ä¸ç»“æ„åŒ–æ•°æ®"><a class="header" href="#ç»ƒä¹ -12seo-ä¸ç»“æ„åŒ–æ•°æ®">ç»ƒä¹  12ï¼šSEO ä¸ç»“æ„åŒ–æ•°æ®</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šåšå®¢éœ€è¦æå‡æœç´¢æ›å…‰ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šé…ç½® metadataã€ç»“æ„åŒ–æ•°æ®ã€Sitemapã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>generateMetadata</code>ã€<code>Script type="application/ld+json"</code>ã€<code>app/sitemap.ts</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>ä¸ºæ–‡ç« è¯¦æƒ…ç”Ÿæˆ OGã€Twitter å¡ç‰‡ï¼›</li>
<li>æ·»åŠ  <code>Article</code> ç±»å‹ Schemaï¼›</li>
<li>å®ç° <code>/sitemap.xml</code>ã€<code>/robots.txt</code>ï¼›</li>
<li>æµ‹è¯• Google Rich Resultsï¼›</li>
<li>è¿æ¥ Google Search Consoleã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šç»“æ„åŒ–æ•°æ®æ£€æµ‹é€šè¿‡ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šæ·»åŠ  Breadcrumbã€FAQ Schemaã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šåŠ¨æ€å†…å®¹å¦‚ä½•ä¿æŒ SEOï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -13prisma--planetscale-æ•°æ®åº“"><a class="header" href="#ç»ƒä¹ -13prisma--planetscale-æ•°æ®åº“">ç»ƒä¹  13ï¼šPrisma + PlanetScale æ•°æ®åº“</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šé¡¹ç›®éœ€è¦å¯é æ•°æ®åº“ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šé›†æˆ Prismaã€è¿ç§»ã€æ•°æ®åº“è®¿é—®ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šPrisma Schemaã€<code>prisma migrate</code>ã€<code>prisma studio</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>é…ç½® PlanetScale è¿æ¥ï¼›</li>
<li>å®šä¹‰æ•°æ®æ¨¡å‹ï¼ˆUserã€Postï¼‰ï¼›</li>
<li>ç”Ÿæˆ Prisma Clientï¼›</li>
<li>åœ¨ Server Action ä¸­è¯»å†™æ•°æ®ï¼›</li>
<li>è¿è¡Œ <code>prisma studio</code> æ£€æŸ¥ç»“æœã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šCRUD æ“ä½œæˆåŠŸã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç°äº‹åŠ¡ã€ä¼˜åŒ–æŸ¥è¯¢ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šæ•°æ®åº“è¿æ¥æ± åœ¨ Serverless ç¯å¢ƒå¦‚ä½•å¤„ç†ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -14redis-ç¼“å­˜ä¸é™æµ"><a class="header" href="#ç»ƒä¹ -14redis-ç¼“å­˜ä¸é™æµ">ç»ƒä¹  14ï¼šRedis ç¼“å­˜ä¸é™æµ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šAPI é«˜å¹¶å‘ï¼Œéœ€è¦ç¼“å­˜å’Œé™æµã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šä½¿ç”¨ Upstash Redis ç¼“å­˜æ•°æ®ã€é™åˆ¶è¯·æ±‚é¢‘ç‡ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>@upstash/redis</code>ã€<code>@upstash/ratelimit</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åœ¨ Route Handler ä¸­è¯»å–/å†™å…¥ Redisï¼›</li>
<li>å®ç° 10 åˆ†é’Ÿç¼“å­˜ï¼›</li>
<li>ä½¿ç”¨ <code>Ratelimit</code> é™åˆ¶ IP æ¯åˆ†é’Ÿè¯·æ±‚æ¬¡æ•°ï¼›</li>
<li>å¯¹è¶…é™è¯·æ±‚è¿”å› 429ï¼›</li>
<li>ç¼–å†™æµ‹è¯•éªŒè¯ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šé¢‘ç¹è¯·æ±‚è§¦å‘é™æµï¼Œç¼“å­˜å‘½ä¸­ç‡é«˜ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå¼•å…¥ <code>redis.json</code> å­˜å‚¨ç»“æ„åŒ–æ•°æ®ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šé™æµç­–ç•¥å¯¹ç”¨æˆ·ä½“éªŒå½±å“å¦‚ä½•ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -15stripe-æ”¯ä»˜ä¸è®¢é˜…"><a class="header" href="#ç»ƒä¹ -15stripe-æ”¯ä»˜ä¸è®¢é˜…">ç»ƒä¹  15ï¼šStripe æ”¯ä»˜ä¸è®¢é˜…</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šSaaS å¹³å°éœ€è¦æ”¶è´¹æ¨¡å¼ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šå®ç°è®¡åˆ’è®¢é˜…ã€Webhook å¤„ç†ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šStripe SDKã€Webhook éªŒè¯ã€Billing UIã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åˆ›å»º <code>/api/billing/checkout</code>ï¼›</li>
<li>ä½¿ç”¨ Stripe Checkoutï¼›</li>
<li>è®¾ç½® Webhook æ›´æ–°ç”¨æˆ·è®¢é˜…çŠ¶æ€ï¼›</li>
<li>åœ¨ Dashboard æ˜¾ç¤ºå½“å‰ Planï¼›</li>
<li>æ·»åŠ å–æ¶ˆè®¢é˜…é€»è¾‘ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šåœ¨ Stripe æµ‹è¯•ç¯å¢ƒå®Œæˆä¸€æ¬¡è®¢é˜…ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç°å‘ç¥¨ä¸‹è½½ã€å¢å€¼ç¨å¤„ç†ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¦‚ä½•å¤„ç†è®¢é˜…å¤±è´¥æˆ–ç»­è´¹ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -16å®æ—¶èŠå¤©ç»„ä»¶"><a class="header" href="#ç»ƒä¹ -16å®æ—¶èŠå¤©ç»„ä»¶">ç»ƒä¹  16ï¼šå®æ—¶èŠå¤©ç»„ä»¶</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå›¢é˜Ÿåä½œéœ€è¦åœ¨çº¿èŠå¤©ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šå®ç° WebSocket èŠå¤©ã€æ¶ˆæ¯æŒä¹…åŒ–ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šPusher/Ablyã€SWRã€Server Action Streamingã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>åœ¨ Route Handler åˆ›å»º WebSocket è¿æ¥ï¼ˆæˆ–ç”¨ Pusherï¼‰ï¼›</li>
<li>å®¢æˆ·ç«¯è¿æ¥å¹¶ç›‘å¬æ¶ˆæ¯ï¼›</li>
<li>ä½¿ç”¨ Server Action å‘é€æ¶ˆæ¯å¹¶å†™å…¥æ•°æ®åº“ï¼›</li>
<li>å®ç°èŠå¤©çª—å£ UIï¼›</li>
<li>å¤„ç†å†å²æ¶ˆæ¯åŠ è½½ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šå¤šæµè§ˆå™¨å®æ—¶åŒæ­¥æ¶ˆæ¯ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šæ·»åŠ å·²è¯»çŠ¶æ€ã€æ–‡ä»¶å‘é€ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå®æ—¶ç³»ç»Ÿå¦‚ä½•ä¿è¯é¡ºåºä¸å¯é æ€§ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -17ai-åŠ©æ‰‹é›†æˆ"><a class="header" href="#ç»ƒä¹ -17ai-åŠ©æ‰‹é›†æˆ">ç»ƒä¹  17ï¼šAI åŠ©æ‰‹é›†æˆ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šçŸ¥è¯†åº“éœ€è¦ AI Q&amp;A åŠ©æ‰‹ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šä½¿ç”¨ OpenAI API + RAG å®ç°é—®ç­”ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šServer Action Streamingã€å‘é‡æ£€ç´¢ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>å»ºç«‹æ–‡æ¡£å‘é‡ç´¢å¼•ï¼ˆQdrant/Pineconeï¼‰ï¼›</li>
<li>Server Action æ¥æ”¶é—®é¢˜ â†’ æ£€ç´¢ â†’ è°ƒç”¨ OpenAIï¼›</li>
<li>ä½¿ç”¨æµå¼å“åº”æ›´æ–° UIï¼›</li>
<li>å¢åŠ åé¦ˆæŒ‰é’®æ”¶é›†æ»¡æ„åº¦ï¼›</li>
<li>è®°å½•ç»Ÿè®¡ï¼Œå±•ç¤ºçƒ­é—¨é—®é¢˜ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šå›ç­”èƒ½å¼•ç”¨ä¸Šä¸‹æ–‡ï¼Œå“åº”æµç•…ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šæ·»åŠ å¤šæ¨¡æ€ï¼ˆå›¾åƒ/éŸ³é¢‘ï¼‰æ”¯æŒã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šå¦‚ä½•æ§åˆ¶æˆæœ¬ä¸éšç§ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -18pwa--ç¦»çº¿æ”¯æŒ"><a class="header" href="#ç»ƒä¹ -18pwa--ç¦»çº¿æ”¯æŒ">ç»ƒä¹  18ï¼šPWA + ç¦»çº¿æ”¯æŒ</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šç”¨æˆ·å¸Œæœ›ç¦»çº¿é˜…è¯»æ–‡ç« ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šå°† Next.js åº”ç”¨å‡çº§ä¸º PWAã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šService Workerã€<code>next-pwa</code>ã€ç¼“å­˜ç­–ç•¥ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>å®‰è£… <code>next-pwa</code>ï¼›</li>
<li>é…ç½® <code>next.config.js</code> ç”Ÿæˆ SWï¼›</li>
<li>å®šä¹‰ç¼“å­˜ç­–ç•¥ï¼ˆæ–‡ç« åˆ—è¡¨ã€è¯¦æƒ…é¡µã€å›¾åƒï¼‰ï¼›</li>
<li>æµ‹è¯•ç¦»çº¿è®¿é—®ï¼›</li>
<li>æ·»åŠ  <code>manifest.webmanifest</code>ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šLighthouse PWA åˆ†æ•° 100ï¼Œç¦»çº¿å¯è®¿é—®ç¼“å­˜å†…å®¹ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå®ç°ç¦»çº¿å†™ä½œå¹¶ä¸Šçº¿ååŒæ­¥ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šç¦»çº¿ç¼“å­˜å¦‚ä½•ä¿æŒä¸çº¿ä¸Šæ•°æ®ä¸€è‡´ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -19monorepo-ä¸-turborepo-ç®¡ç†"><a class="header" href="#ç»ƒä¹ -19monorepo-ä¸-turborepo-ç®¡ç†">ç»ƒä¹  19ï¼šMonorepo ä¸ Turborepo ç®¡ç†</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šå›¢é˜Ÿéœ€è¦ç»Ÿä¸€ç®¡ç† Webã€Mobileã€Shared åº“ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šä½¿ç”¨ Turborepo æ„å»º Monorepoã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼š<code>turbo.json</code> Pipelinesã€å…±äº«åŒ…ã€Cacheã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>ä½¿ç”¨ <code>pnpm dlx create-turbo</code> åˆå§‹åŒ–ï¼›</li>
<li>å°† Next.js åº”ç”¨æ”¾åœ¨ <code>apps/web</code>ï¼›</li>
<li>åˆ›å»º <code>packages/ui</code> å…±äº«ç»„ä»¶åº“ï¼›</li>
<li>é…ç½® <code>turbo run lint --filter=...</code>ï¼›</li>
<li>é…ç½® Remote Cacheï¼ˆVercelã€Redisï¼‰ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šå¤šé¡¹ç›®å¯å…±äº«ç»„ä»¶ï¼Œæ„å»ºæ—¶é—´ç¼©çŸ­ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå¼•å…¥ <code>changeset</code> ç®¡ç†ç‰ˆæœ¬ã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šMonorepo å¸¦æ¥çš„ç®¡ç†å¤æ‚åº¦å¦‚ä½•æ§åˆ¶ï¼Ÿ</li>
</ul>
<h3 id="ç»ƒä¹ -20æ€§èƒ½ä¼˜åŒ–æŒ‘æˆ˜èµ›"><a class="header" href="#ç»ƒä¹ -20æ€§èƒ½ä¼˜åŒ–æŒ‘æˆ˜èµ›">ç»ƒä¹  20ï¼šæ€§èƒ½ä¼˜åŒ–æŒ‘æˆ˜èµ›</a></h3>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šç°æœ‰é¡¹ç›® LCP è¿‡æ…¢ã€CLS è¾ƒé«˜ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šç³»ç»Ÿæ€§ä¼˜åŒ–æ€§èƒ½ã€‚</li>
<li><strong>å…³é”®çŸ¥è¯†ç‚¹</strong>ï¼šPPRã€å›¾åƒä¼˜åŒ–ã€ä»£ç æ‹†åˆ†ã€<code>React.lazy</code>ã€<code>useTransition</code>ã€‚</li>
<li><strong>å®æ–½æ­¥éª¤</strong>ï¼š
<ol>
<li>ä½¿ç”¨ Lighthouse åˆ†æç“¶é¢ˆï¼›</li>
<li>åº”ç”¨ PPRï¼Œå°†åŠ¨æ€åŒºå—æ”¾å…¥ Suspenseï¼›</li>
<li>ä½¿ç”¨ <code>next/script</code> å»¶è¿Ÿç¬¬ä¸‰æ–¹è„šæœ¬ï¼›</li>
<li>å‡å°‘ Client ç»„ä»¶ä½“ç§¯ï¼Œä½¿ç”¨ RSCï¼›</li>
<li>ä¼˜åŒ– CSSï¼ˆTailwind JITã€Critical CSSï¼‰ã€‚</li>
</ol>
</li>
<li><strong>éªŒæ”¶æ ‡å‡†</strong>ï¼šLCP &lt; 2.5sã€CLS &lt; 0.1ã€‚</li>
<li><strong>æ‰©å±•æŒ‘æˆ˜</strong>ï¼šå¼•å…¥ <code>Partytown</code> å°†è„šæœ¬ç§»è‡³ Web Workerã€‚</li>
<li><strong>åæ€é—®é¢˜</strong>ï¼šæ€§èƒ½ä¼˜åŒ–åº”å¦‚ä½•æŒç»­ç›‘æ§ï¼Ÿ</li>
</ul>
<p>å®Œæˆä¸Šè¿°ç»ƒä¹ åï¼Œå­¦ä¹ è€…å°†æ‹¥æœ‰æ¶µç›–ä»åŸºç¡€åˆ°é«˜çº§çš„å®æˆ˜ä½œå“ï¼Œå¹¶å¯¹ Next.js App Router çš„æ ¸å¿ƒèƒ½åŠ›å»ºç«‹æ‰å®ç†è§£ã€‚</p>
<hr />
<h2 id="è¡Œä¸šè½åœ°æ¡ˆä¾‹é›†use-case-playbook"><a class="header" href="#è¡Œä¸šè½åœ°æ¡ˆä¾‹é›†use-case-playbook">è¡Œä¸šè½åœ°æ¡ˆä¾‹é›†ï¼ˆUse Case Playbookï¼‰</a></h2>
<p>ä¸ºå±•ç¤º Next.js App Router åœ¨ä¸åŒä¸šåŠ¡åœºæ™¯çš„åº”ç”¨ï¼Œæœ¬èŠ‚ç²¾é€‰å››ä¸ªè¡Œä¸šæ¡ˆä¾‹ï¼šç”µå•† DTCã€B2B SaaSã€å†…å®¹åª’ä½“ã€æ•™è‚²å¹³å°ã€‚æ¯ä¸ªæ¡ˆä¾‹åŒ…å«ä¸šåŠ¡æŒ‘æˆ˜ã€è§£å†³æ–¹æ¡ˆæ¶æ„ã€å…³é”®æŠ€æœ¯ç‚¹ã€æ€§èƒ½ä¸å®‰å…¨ç­–ç•¥ã€ä¸Šçº¿æˆæ•ˆä¸å¯å¤ç”¨ç»éªŒã€‚</p>
<h3 id="æ¡ˆä¾‹ä¸€è·¨å¢ƒç”µå•†-dtc-å“ç‰Œå®˜ç½‘"><a class="header" href="#æ¡ˆä¾‹ä¸€è·¨å¢ƒç”µå•†-dtc-å“ç‰Œå®˜ç½‘">æ¡ˆä¾‹ä¸€ï¼šè·¨å¢ƒç”µå•† DTC å“ç‰Œå®˜ç½‘</a></h3>
<ul>
<li><strong>ä¸šåŠ¡èƒŒæ™¯</strong>ï¼šå“ç‰Œé¢å‘æ¬§ç¾ã€ä¸œå—äºšå¸‚åœºï¼Œéœ€è¦ç»Ÿä¸€ç«™ç‚¹å±•ç¤ºäº§å“ã€è¿›è¡Œè¥é”€é—­ç¯ã€æ”¯æŒå¤šè¯­è¨€/å¤šå¸ç§ä¸å¿«é€Ÿ A/B å®éªŒã€‚</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼š
<ol>
<li>å…¨çƒè®¿é—®éœ€ä½å»¶è¿Ÿï¼Œä¿ƒé”€æ´»åŠ¨æœŸé—´æµé‡æš´æ¶¨ï¼›</li>
<li>SEO å¿…é¡»ä¼˜ç§€ï¼Œç¡®ä¿è‡ªç„¶æœç´¢å¸¦æ¥è½¬åŒ–ï¼›</li>
<li>å¤šæ¸ é“è½¬åŒ–è·Ÿè¸ªã€ç¬¬ä¸‰æ–¹è„šæœ¬ä¼—å¤šï¼Œæ˜“å½±å“æ€§èƒ½ã€‚</li>
</ol>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>æ¶æ„ï¼šApp Router + Edge Middleware å®ç°åœ°ç†åˆ†æµï¼ˆè‡ªåŠ¨é€‰æ‹©è¯­è¨€ã€å¸ç§ï¼‰ï¼›</li>
<li>æ•°æ®ï¼šäº§å“ä¿¡æ¯ä¸åº“å­˜æ¥è‡ª Shopify GraphQL APIï¼Œé€šè¿‡ Route Handler + ç¼“å­˜ï¼›</li>
<li>é¡µé¢ï¼šè¥é”€é¡µ PPRï¼Œäº§å“è¯¦æƒ… SSRï¼Œè´­ç‰©è½¦ Client Component + localStorage åŒæ­¥ï¼›</li>
<li>ç»“ç®—ï¼šä½¿ç”¨ Stripe Checkout + Klarna åˆ†æœŸï¼ŒServer Action å¤„ç†ä¼˜æƒ ç ï¼›</li>
<li>æµ‹è¯•ï¼šA/B å®éªŒé€šè¿‡ Middleware + Edge Config æ§åˆ¶ã€‚</li>
</ul>
</li>
<li><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼š
<ul>
<li>Edge Runtime è¯»å– IP å®šä½ï¼Œé‡å†™ URL åˆ°å¯¹åº”è¯­è¨€ï¼›</li>
<li>ä½¿ç”¨ <code>next/image</code> + CDN ä¼˜åŒ–é«˜æ¸…äº§å“å›¾ï¼›</li>
<li>Route Handler <code>POST /api/cart</code> åšåº“å­˜æ ¡éªŒï¼Œé˜²æ­¢è¶…å–ï¼›</li>
<li>é›†æˆ Algolia å®ç°æœç´¢è‡ªåŠ¨è¡¥å…¨ï¼›</li>
<li>Sentry + Vercel Analytics ç›‘æ§è½¬åŒ–æ¼æ–—ã€‚</li>
</ul>
</li>
<li><strong>æ€§èƒ½ä¸å®‰å…¨</strong>ï¼š
<ul>
<li>LCP é€šè¿‡ PPR + ä¼˜åŒ–å›¾ç‰‡é™åˆ° 1.8sï¼›</li>
<li>CSP é…ç½®é˜²æ­¢ç¬¬ä¸‰æ–¹è„šæœ¬æ³¨å…¥ï¼›</li>
<li>è®¢å•æäº¤åŠ  HMAC ç­¾åæ ¡éªŒã€‚</li>
</ul>
</li>
<li><strong>ä¸Šçº¿æˆæ•ˆ</strong>ï¼š
<ul>
<li>GMV æå‡ 35%ï¼›</li>
<li>SEO å¸¦æ¥ 50% è‡ªç„¶æµé‡å¢é•¿ï¼›</li>
<li>A/B å®éªŒå‘¨æœŸç¼©çŸ­ 40%ã€‚</li>
</ul>
</li>
<li><strong>å¯å¤ç”¨ç»éªŒ</strong>ï¼š
<ul>
<li>ç¼–å†™ <code>useLocaleCurrency</code> Hookï¼Œé€šç”¨åŒ–è´§å¸æ¢ç®—ï¼›</li>
<li>åˆ¶å®šâ€œä¿ƒé”€ä¸Šçº¿æµç¨‹â€ checklistï¼ˆåº“å­˜ã€ç¼“å­˜ã€è„šæœ¬ï¼‰ï¼›</li>
<li>å®æ–½æ€§èƒ½é¢„ç®—åˆ¶åº¦ï¼Œè¯„ä¼°æ–°ç¬¬ä¸‰æ–¹è„šæœ¬å½±å“ã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ¡ˆä¾‹äºŒb2b-saas-å®æ—¶ä»ªè¡¨ç›˜å¹³å°"><a class="header" href="#æ¡ˆä¾‹äºŒb2b-saas-å®æ—¶ä»ªè¡¨ç›˜å¹³å°">æ¡ˆä¾‹äºŒï¼šB2B SaaS å®æ—¶ä»ªè¡¨ç›˜å¹³å°</a></h3>
<ul>
<li><strong>ä¸šåŠ¡èƒŒæ™¯</strong>ï¼šä¸ºä¼ä¸šæä¾›è¿è¥æ•°æ®ç›‘æ§ï¼Œéœ€è¦å®æ—¶å±•ç¤º KPIã€å‘é€å‘Šè­¦ã€æ”¯æŒå¤šç§Ÿæˆ·ã€‚</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼š
<ol>
<li>æ•°æ®æ¥æºåˆ†æ•£ï¼ˆCRMã€ERPã€å†…éƒ¨æœåŠ¡ï¼‰ï¼Œéœ€è¦ç»Ÿä¸€ BFFï¼›</li>
<li>å¤šç§Ÿæˆ·éš”ç¦»ã€å®‰å…¨è¦æ±‚é«˜ï¼›</li>
<li>å®æ—¶æ›´æ–°ï¼ˆåˆ†é’Ÿçº§ï¼‰ä¸”æ€§èƒ½ç¨³å®šã€‚</li>
</ol>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>æ¶æ„ï¼šApp Router + Route Handler + Server Actionï¼›</li>
<li>æ•°æ®ï¼šé€šè¿‡ <code>src/services</code> é›†æˆå†…éƒ¨ GraphQL / RESTï¼Œä½¿ç”¨ <code>unstable_cache</code> å®ç° 60 ç§’ç¼“å­˜ï¼›</li>
<li>å®æ—¶ï¼šSSE æ¨é€å‘Šè­¦ã€WebSocket æ›´æ–°ä»ªè¡¨ç›˜å°ç»„ä»¶ï¼›</li>
<li>é‰´æƒï¼šMiddleware è§£æç§Ÿæˆ· Tokenï¼›Auth.js + RBACï¼›</li>
<li>æ‰©å±•ï¼šAI é¢„æµ‹æ¨¡å—ï¼ˆServer Action è°ƒç”¨ ML APIï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼š
<ul>
<li>å¹¶è¡Œè·¯ç”±å°†ä»ªè¡¨ç›˜æ‹†ä¸º <code>@summary</code>ã€<code>@detail</code>ã€<code>@alerts</code>ï¼›</li>
<li>RSC è´Ÿè´£åˆå§‹æ•°æ®ï¼ŒClient ç»„ä»¶ä½¿ç”¨ SWR è½®è¯¢ï¼›</li>
<li><code>revalidateTag('tenant:&lt;id&gt;:kpi')</code> æ§åˆ¶ç§Ÿæˆ·æ•°æ®åˆ·æ–°ï¼›</li>
<li>OpenTelemetry + Grafana Tempo æ‰“é€šé“¾è·¯è¿½è¸ªï¼›</li>
<li>é€šè¿‡ <code>app/api/alerts/route.ts</code> æ¥å—å¤–éƒ¨ç³»ç»Ÿ webhookã€‚</li>
</ul>
</li>
<li><strong>æ€§èƒ½ä¸å®‰å…¨</strong>ï¼š
<ul>
<li>API ç»è¿‡ Redis ç¼“å­˜+æ‰¹å¤„ç†ï¼Œå¹³å‡å“åº” 200msï¼›</li>
<li>è‡ªå®šä¹‰å®¡è®¡æ—¥å¿—è®°å½•å…³é”®æ“ä½œï¼›</li>
<li>åŠ å¯†å­˜å‚¨æ•æ„Ÿå­—æ®µï¼Œç¬¦åˆ SOC2 è¦æ±‚ã€‚</li>
</ul>
</li>
<li><strong>ä¸Šçº¿æˆæ•ˆ</strong>ï¼š
<ul>
<li>å®¢æˆ·ç•™å­˜ç‡æå‡ 20%ï¼›</li>
<li>å‘Šè­¦å“åº”é€Ÿåº¦ä» 15 åˆ†é’Ÿé™è‡³ 3 åˆ†é’Ÿï¼›</li>
<li>è¿ç»´æˆæœ¬ä¸‹é™ï¼ˆç»Ÿä¸€ BFF ä»£æ›¿å¤šä¸ªå‰ç«¯é¡¹ç›®ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å¯å¤ç”¨ç»éªŒ</strong>ï¼š
<ul>
<li>å»ºç«‹æ•°æ®æŠ½è±¡å±‚ <code>src/services</code>ï¼Œä¾¿äºæ›¿æ¢æ•°æ®æºï¼›</li>
<li>å»ºç«‹ç§Ÿæˆ·ä¸Šä¸‹æ–‡ Providerï¼Œé™ä½è·¨ç»„ä»¶ä¼ å‚å¤æ‚åº¦ï¼›</li>
<li>ä½¿ç”¨ Feature Flag æ§åˆ¶ AI æ¨¡å—ç°åº¦å‘å¸ƒã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ¡ˆä¾‹ä¸‰å†…å®¹åª’ä½“ä¸ç¤¾åŒºå¹³å°"><a class="header" href="#æ¡ˆä¾‹ä¸‰å†…å®¹åª’ä½“ä¸ç¤¾åŒºå¹³å°">æ¡ˆä¾‹ä¸‰ï¼šå†…å®¹åª’ä½“ä¸ç¤¾åŒºå¹³å°</a></h3>
<ul>
<li><strong>ä¸šåŠ¡èƒŒæ™¯</strong>ï¼šç§‘æŠ€åª’ä½“éœ€è¦æä¾›æ–°é—»æŠ¥é“ã€æ·±åº¦æ–‡ç« ã€ç¤¾åŒºè®¨è®ºã€æ´»åŠ¨æŠ¥åï¼Œæ³¨é‡ SEOã€äº’åŠ¨ä½“éªŒå’Œé«˜å³°æœŸæµé‡ã€‚</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼š
<ol>
<li>å†…å®¹éœ€è¦é¢„å‘å¸ƒé¢„è§ˆã€å®šæ—¶ä¸Šçº¿ï¼›</li>
<li>ç”¨æˆ·äº’åŠ¨ï¼ˆè¯„è®ºã€ç‚¹èµï¼‰éœ€å®æ—¶æ›´æ–°ï¼›</li>
<li>SEO è¦æ±‚é«˜ï¼Œéœ€ç»“æ„åŒ–æ•°æ®ã€AMP æ›¿ä»£æ–¹æ¡ˆã€‚</li>
</ol>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>CMSï¼šé›†æˆ Contentful/Strapiï¼Œé€šè¿‡ <code>draftMode()</code> æä¾›ç¼–è¾‘é¢„è§ˆï¼›</li>
<li>é¡µé¢ï¼šæ–‡ç« è¯¦æƒ… ISR + ç»“æ„åŒ–æ•°æ®ï¼›</li>
<li>ç¤¾åŒºï¼šServer Action + Optimistic UI æ”¯æŒè¯„è®ºã€ç‚¹èµï¼›</li>
<li>å®æ—¶ï¼šComment SSE é€šçŸ¥æ–°å›å¤ï¼›</li>
<li>å¹¿å‘Šï¼š<code>next/script</code> å»¶è¿ŸåŠ è½½å¹¿å‘Šè„šæœ¬ã€‚</li>
</ul>
</li>
<li><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼š
<ul>
<li><code>app/news/[slug]/route.ts</code> æä¾› JSON Feedï¼›</li>
<li>æ–‡ç« é¡µé¢ <code>generateMetadata</code> æ ¹æ® CMS æ•°æ®ç”Ÿæˆï¼›</li>
<li>è¯„è®ºåˆ—è¡¨ <code>Suspense</code> + åˆ†é¡µ + <code>useInfiniteScroll</code>ï¼›</li>
<li>Event Calendar ä½¿ç”¨ Route Handler è¿”å› ICS æ–‡ä»¶ï¼›</li>
<li>Edge Middleware é˜²æ­¢çˆ¬è™«æ»¥ç”¨ï¼ˆRate Limitï¼‰ã€‚</li>
</ul>
</li>
<li><strong>æ€§èƒ½ä¸å®‰å…¨</strong>ï¼š
<ul>
<li>é€šè¿‡ PPR + å›¾ç‰‡ä¼˜åŒ– LCP æ§åˆ¶åœ¨ 2.2sï¼›</li>
<li>é˜²æ­¢è¯„è®º XSSï¼šDOMPurify + Markdown ç™½åå•ï¼›</li>
<li>ä½¿ç”¨ Cloudflare Turnstile é˜²æ­¢æœºå™¨äººæ³¨å†Œã€‚</li>
</ul>
</li>
<li><strong>ä¸Šçº¿æˆæ•ˆ</strong>ï¼š
<ul>
<li>é¡µé¢åœç•™æ—¶é—´æå‡ 30%ï¼›</li>
<li>ç¤¾åŒºæ´»è·ƒåº¦å¢é•¿ 45%ï¼›</li>
<li>å¹¿å‘Šè½¬åŒ–ç‡æå‡ 20%ã€‚</li>
</ul>
</li>
<li><strong>å¯å¤ç”¨ç»éªŒ</strong>ï¼š
<ul>
<li>é‡‡ç”¨â€œå†…å®¹æ¨¡å‹å®šä¹‰ + RSC æ¨¡æ¿æ¸²æŸ“â€æ¨¡å¼ï¼Œå¿«é€Ÿä¸Šçº¿ä¸“é¢˜é¡µï¼›</li>
<li>æ„å»º <code>Comment</code> æ¨¡å—ä½œä¸ºç‹¬ç«‹ packageï¼Œæ”¯æŒå¤šé¡¹ç›®å¤ç”¨ï¼›</li>
<li>è®¾å®š SEO å®¡æ ¸æµç¨‹ï¼Œå‘å¸ƒå‰è‡ªåŠ¨æ£€æµ‹ metadataã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ¡ˆä¾‹å››åœ¨çº¿æ•™è‚²ä¸äº’åŠ¨è¯¾å ‚"><a class="header" href="#æ¡ˆä¾‹å››åœ¨çº¿æ•™è‚²ä¸äº’åŠ¨è¯¾å ‚">æ¡ˆä¾‹å››ï¼šåœ¨çº¿æ•™è‚²ä¸äº’åŠ¨è¯¾å ‚</a></h3>
<ul>
<li><strong>ä¸šåŠ¡èƒŒæ™¯</strong>ï¼šåœ¨çº¿æ•™è‚²å¹³å°éœ€è¦æä¾›è¯¾ç¨‹ç›®å½•ã€ç›´æ’­è¯¾å ‚ã€ä½œä¸šæ‰¹æ”¹ã€å­¦ä¹ æ•°æ®åˆ†æã€‚</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼š
<ol>
<li>è¯¾ç¨‹å†…å®¹å¤šæ ·ï¼ˆè§†é¢‘ã€æ–‡æ¡£ã€æµ‹éªŒï¼‰ï¼›</li>
<li>ç›´æ’­ä¸å›æ”¾éœ€è¦ä½å»¶è¿Ÿå’Œæƒé™æ§åˆ¶ï¼›</li>
<li>å­¦å‘˜æˆç»©ã€è¡Œä¸ºæ•°æ®éœ€è¦å®æ—¶å±•ç¤ºç»™æ•™å¸ˆã€‚</li>
</ol>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>æ¶æ„ï¼šNext.js + LiveKitï¼ˆç›´æ’­ï¼‰+ Supabaseï¼ˆæ•°æ®å­˜å‚¨ï¼‰ï¼›</li>
<li>è¯¾ç¨‹é¡µé¢ï¼šRSC æ¸²æŸ“è¯¾ç¨‹ä¿¡æ¯ï¼ŒClient ç»„ä»¶æ’­æ”¾è§†é¢‘ï¼›</li>
<li>ä½œä¸šæäº¤ï¼šServer Action ä¸Šä¼ æ–‡ä»¶åˆ° S3ï¼Œè®°å½•æ•°æ®åº“ï¼›</li>
<li>å­¦ä¹ æ•°æ®ï¼šä»ªè¡¨ç›˜å¹¶è¡Œè·¯ç”±å±•ç¤ºå­¦ç”Ÿåœ¨çº¿ã€å®Œæˆåº¦ï¼›</li>
<li>é€šçŸ¥ï¼šRoute Handler + Firebase Cloud Messaging æ¨é€ã€‚</li>
</ul>
</li>
<li><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼š
<ul>
<li>Middleware éªŒè¯è¯¾ç¨‹è®¿é—®æƒé™ï¼›</li>
<li><code>app/api/lessons/[id]/progress</code> æ›´æ–°è§‚çœ‹è¿›åº¦ï¼›</li>
<li>ä½¿ç”¨ <code>draftMode</code> ä¾›æ•™å¸ˆé¢„è§ˆè¯¾ç¨‹å†…å®¹ï¼›</li>
<li><code>useTransition</code> å¤„ç†ä½œä¸šæ‰¹æ”¹çŠ¶æ€ï¼›</li>
<li>å¼•å…¥ <code>react-hook-form</code> + zod ç®¡ç†è¡¨å•ã€‚</li>
</ul>
</li>
<li><strong>æ€§èƒ½ä¸å®‰å…¨</strong>ï¼š
<ul>
<li>è§†é¢‘ä½¿ç”¨ HLS + CDNï¼›</li>
<li>æ•°æ®éšç§ï¼šGDPR åˆè§„ï¼Œå­¦ç”Ÿæ•°æ®åŠ å¯†å­˜å‚¨ï¼›</li>
<li>DDoS é˜²æŠ¤ï¼šCloudflare + é™æµã€‚</li>
</ul>
</li>
<li><strong>ä¸Šçº¿æˆæ•ˆ</strong>ï¼š
<ul>
<li>ç­çº§å®Œæˆç‡æå‡ 18%ï¼›</li>
<li>æ•™å¸ˆæ‰¹æ”¹æ•ˆç‡æå‡ 25%ï¼›</li>
<li>ç³»ç»Ÿç¨³å®šæ”¯æ’‘ 5000 å¹¶å‘ç”¨æˆ·ã€‚</li>
</ul>
</li>
<li><strong>å¯å¤ç”¨ç»éªŒ</strong>ï¼š
<ul>
<li>è¯¾ç¨‹æ¨¡æ¿ã€æµ‹éªŒç»„ä»¶æŠ½è±¡æˆåº“ï¼›</li>
<li>å»ºç«‹ <code>lesson pipeline</code>: å½•åˆ¶ â†’ ä¸Šä¼  â†’ æ ¡å¯¹ â†’ å‘å¸ƒï¼›</li>
<li>AI è¯„åˆ†åŠ©æ‰‹ï¼ˆServer Action + AI APIï¼‰è¾…åŠ©æ•™å¸ˆã€‚</li>
</ul>
</li>
</ul>
<p>è¿™äº›æ¡ˆä¾‹å±•ç¤ºäº† Next.js App Router åœ¨ä¸åŒè¡Œä¸šçš„å®ç”¨æ€§ã€‚å›¢é˜Ÿå¯æ ¹æ®è‡ªèº«éœ€æ±‚è°ƒæ•´æ¶æ„ä¸å®ç°ï¼Œå¹¶ä»ä¸­æç‚¼å¯å¤ç”¨æ¨¡æ¿ï¼Œæé«˜ç ”å‘æ•ˆç‡ã€‚</p>
<hr />
<h2 id="æ€§èƒ½ä¼˜åŒ–ä¸å¯é æ€§-100-æ¡å®æˆ˜å»ºè®®"><a class="header" href="#æ€§èƒ½ä¼˜åŒ–ä¸å¯é æ€§-100-æ¡å®æˆ˜å»ºè®®">æ€§èƒ½ä¼˜åŒ–ä¸å¯é æ€§ 100 æ¡å®æˆ˜å»ºè®®</a></h2>
<p>ä»¥ä¸‹å»ºè®®æŒ‰é¡µé¢åŠ è½½ã€æ•°æ®è·å–ã€äº¤äº’ä½“éªŒã€åŸºç¡€è®¾æ–½ã€æ„å»ºæµç¨‹äº”å¤§ç±»æ•´ç†ï¼Œå…± 100 é¡¹ï¼Œå¯ä½œä¸ºæ€§èƒ½è¯„ä¼°ä¸ä¼˜åŒ–çš„å‚è€ƒæ‰‹å†Œã€‚å»ºè®®å›¢é˜Ÿæ ¹æ®é¡¹ç›®ç‰¹æ€§é€‰ç”¨ï¼Œå¹¶çº³å…¥æ€§èƒ½é¢„ç®—æµç¨‹ã€‚</p>
<h3 id="a-é¡µé¢åŠ è½½ä½“éªŒ1-25"><a class="header" href="#a-é¡µé¢åŠ è½½ä½“éªŒ1-25">A. é¡µé¢åŠ è½½ä½“éªŒï¼ˆ1-25ï¼‰</a></h3>
<ol>
<li>ä¼˜å…ˆä½¿ç”¨ RSC æ¸²æŸ“é™æ€å†…å®¹ï¼Œå‡å°‘å®¢æˆ·ç«¯æ‰“åŒ…ä½“ç§¯ã€‚</li>
<li>å¯¹é¦–å±å…³é”®ç»„ä»¶ä½¿ç”¨ PPRï¼Œä¿æŒ HTML å¿«é€Ÿè¿”å›ã€‚</li>
<li>ä»…å¯¹éœ€è¦äº¤äº’çš„ç»„ä»¶æ ‡è®° <code>"use client"</code>ï¼Œé¿å…è¿‡åº¦å®¢æˆ·ç«¯åŒ–ã€‚</li>
<li>é‡‡ç”¨ <code>next/image</code> æ›¿æ¢æ‰€æœ‰ <code>&lt;img&gt;</code>ï¼Œå¯ç”¨è‡ªé€‚åº”è£å‰ªå’Œå»¶è¿ŸåŠ è½½ã€‚</li>
<li>å¯¹è‹±é›„æ¨ªå¹…å›¾ç‰‡è®¾ç½® <code>priority</code>ï¼Œé¿å…é¦–æ¬¡æ¸²æŸ“ç­‰å¾…ã€‚</li>
<li>ä½¿ç”¨ <code>next/font</code> å†…è”å…³é”®å­—ä½“ï¼Œé˜²æ­¢ FOUT/FOITã€‚</li>
<li>å»¶è¿ŸåŠ è½½éå¿…è¦ CSS/JSï¼Œå¯ä½¿ç”¨ <code>@next/next/no-css-tags</code> æ£€æŸ¥ã€‚</li>
<li>åœ¨ <code>&lt;head&gt;</code> ä¸­åˆç†ä½¿ç”¨ <code>preconnect</code>ã€<code>dns-prefetch</code>ï¼Œå‡†å¤‡å¤–éƒ¨èµ„æºã€‚</li>
<li>å¯¹å¤§å°ºå¯¸ Hero åŠ¨ç”»é‡‡ç”¨è§†é¢‘æˆ– Lottieï¼Œå‡å°‘ DOM å¤æ‚åº¦ã€‚</li>
<li>ä½¿ç”¨ CSS å®¹å™¨æŸ¥è¯¢æ›¿ä»£ JS åŠ¨æ€è®¡ç®—ï¼Œå‡å°‘é‡æ’ã€‚</li>
<li>åœ¨è·¯ç”±è½¬åœºæ—¶ä½¿ç”¨ <code>loading.tsx</code> Skeletonï¼Œä¿æŒæ„ŸçŸ¥æ€§èƒ½ã€‚</li>
<li>æ§åˆ¶ DOM èŠ‚ç‚¹æ•°é‡ï¼Œæ¯ä¸ªé¡µé¢å°½é‡ &lt; 1500 èŠ‚ç‚¹ã€‚</li>
<li>ä½¿ç”¨ <code>prefetch={false}</code> ç¦ç”¨ä¸å¿…è¦çš„é¢„æŠ“å–ï¼Œé¿å…æŒ¤å å¸¦å®½ã€‚</li>
<li>å¯¹ç¬¬ä¸‰æ–¹è„šæœ¬ï¼ˆèŠå¤©ã€åˆ†æï¼‰ä½¿ç”¨ <code>next/script</code> <code>strategy="lazyOnload"</code>ã€‚</li>
<li>é‡‡ç”¨ HTTP/2 Pushï¼ˆç°æ¨è <code>preload</code>ï¼‰ ä¸ºå…³é”®èµ„æºæé€Ÿã€‚</li>
<li>å¯ç”¨å‹ç¼©ï¼ˆBrotli/Gzipï¼‰ï¼Œå¹¶ä½¿ç”¨ CDN è¿›è¡Œè¾¹ç¼˜å‹ç¼©ã€‚</li>
<li>å¯¹ CSS ä½¿ç”¨ Tailwind çš„ JITï¼Œé¿å…åŠ è½½æœªä½¿ç”¨æ ·å¼ã€‚</li>
<li>ä½¿ç”¨ <code>@next/bundle-analyzer</code> æ£€æµ‹å¤§çš„å®¢æˆ·ç«¯åŒ…ï¼Œæ‰§è¡Œæ‹†åˆ†ã€‚</li>
<li>å¯¹å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼ˆ<code>react-virtual</code>ï¼‰ï¼Œå‡å°‘ DOM æ¸²æŸ“é‡ã€‚</li>
<li>åœ¨ Client ç»„ä»¶ä¸­é¿å…ç›´æ¥å¼•å…¥å¤§å‹åº“ï¼Œå¯ä½¿ç”¨åŠ¨æ€å¯¼å…¥ã€‚</li>
<li>å°†å¸¸ç”¨æ•°æ®æ”¾åœ¨ Server Layout ä¸­ï¼Œä¸€æ¬¡åŠ è½½ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚</li>
<li>é€šè¿‡ <code>next.config.js</code> <code>experimental.optimizePackageImports</code> å‡å°åº“ä½“ç§¯ã€‚</li>
<li>ä½¿ç”¨ <code>Link</code> çš„ <code>prefetch</code>ï¼ˆé»˜è®¤å¼€å¯ï¼‰æå‡å¯¼èˆªé€Ÿåº¦ã€‚</li>
<li>å¯¹ <code>dangerouslySetInnerHTML</code> å†…å®¹æå‰ç”Ÿæˆé™æ€ HTMLï¼Œå‡å°‘è¿è¡Œæ—¶è§£æã€‚</li>
<li>åœ¨ Lighthouse ä¸­è®¾ç½®æ€§èƒ½é¢„ç®—ï¼ŒæŒç»­ç›‘æ§æŒ‡æ ‡å˜åŒ–ã€‚</li>
</ol>
<h3 id="b-æ•°æ®è·å–ä¸ç¼“å­˜26-50"><a class="header" href="#b-æ•°æ®è·å–ä¸ç¼“å­˜26-50">B. æ•°æ®è·å–ä¸ç¼“å­˜ï¼ˆ26-50ï¼‰</a></h3>
<ol start="26">
<li>ä½¿ç”¨ <code>revalidate</code> æ§åˆ¶åˆ·æ–°é¢‘ç‡ï¼Œé¿å…é¢‘ç¹ SSRã€‚</li>
<li>å¯¹æ…¢é€Ÿå¤–éƒ¨ API å¼•å…¥ <code>unstable_cache</code> + Tag ç²¾å‡†åˆ·æ–°ã€‚</li>
<li>åœ¨ <code>fetch</code> è¯·æ±‚ä¸­æ·»åŠ  <code>timeout</code> ä¸é‡è¯•ç­–ç•¥ã€‚</li>
<li>ä½¿ç”¨ <code>Promise.all</code> å¹¶å‘è¯·æ±‚å¤šä¸ªæ•°æ®æºã€‚</li>
<li>åˆ©ç”¨ <code>React.cache</code> åŒ…è£…æ•°æ®å‡½æ•°ï¼Œé¿å…é‡å¤ fetchã€‚</li>
<li>å¯¹å¯é¢„æµ‹æ•°æ®ä½¿ç”¨ SSG + ISRï¼Œå‡å°‘è¿è¡Œæ—¶è´Ÿè·ã€‚</li>
<li>åœ¨ Route Handler ä¸­å®ç° BFFï¼Œèšåˆå¤šä¸ªä¸‹æ¸¸ APIï¼Œå‡å°‘å®¢æˆ·ç«¯è¯·æ±‚æ•°ã€‚</li>
<li>åˆ©ç”¨ Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼ˆæ’è¡Œæ¦œã€ç»Ÿè®¡ï¼‰ã€‚</li>
<li>é€šè¿‡ <code>revalidateTag</code> è§¦å‘ç‰¹å®šè§†å›¾æ›´æ–°ï¼Œä¿æŒæ•°æ®ä¸€è‡´æ€§ã€‚</li>
<li>ä½¿ç”¨ Draft Mode ä¾›ç¼–è¾‘é¢„è§ˆï¼Œé˜²æ­¢ç¼“å­˜æ±¡æŸ“ã€‚</li>
<li>åˆ†ææ•°æ®è®¿é—®è§„å¾‹ï¼ŒåŒºåˆ†å¼ºä¸€è‡´ä¸æœ€ç»ˆä¸€è‡´åœºæ™¯ã€‚</li>
<li>ä½¿ç”¨ Prisma <code>select</code> ç²¾å‡†å­—æ®µï¼Œå‡å°‘ä¼ è¾“é‡ã€‚</li>
<li>å®æ–½å†™æ“ä½œå¹‚ç­‰æ€§ï¼Œé˜²æ­¢é‡å¤æäº¤å¯¼è‡´æ•°æ®é”™ä¹±ã€‚</li>
<li>ä½¿ç”¨ Rate Limit é˜²æ­¢æ¶æ„è¯·æ±‚æ‹–å®åç«¯ã€‚</li>
<li>å¯¹ GraphQL API å¯ç”¨æŒä¹…åŒ–æŸ¥è¯¢ï¼Œé™ä½ä¼ è¾“é‡ã€‚</li>
<li>å¯¹ç¬¬ä¸‰æ–¹ API è¯·æ±‚åŠ ä¸Š Circuit Breakerï¼ˆç†”æ–­ï¼‰ï¼Œä¿æŠ¤ç³»ç»Ÿã€‚</li>
<li>ä½¿ç”¨é˜Ÿåˆ—å¤„ç†å¤§é‡å†™æ“ä½œï¼Œå°†è€—æ—¶ä»»åŠ¡å¼‚æ­¥åŒ–ã€‚</li>
<li>åœ¨ Server Action ä¸­æ•è·é”™è¯¯å¹¶è¿”å›ç»“æ„åŒ–ä¿¡æ¯ï¼Œæ–¹ä¾¿å®¢æˆ·ç«¯å¤„ç†ã€‚</li>
<li>åˆ©ç”¨æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢ï¼Œåˆ†ææ…¢æ—¥å¿—ã€‚</li>
<li>ä½¿ç”¨ PlanetScale æˆ– Neon çš„åˆ†æ”¯æœºåˆ¶è¿›è¡Œæµ‹è¯•ï¼Œä¸å½±å“ç”Ÿäº§ã€‚</li>
<li>ä½¿ç”¨ <code>cache-control</code> å¤´é…åˆ CDN ç¼“å­˜ï¼Œæé«˜å‘½ä¸­ç‡ã€‚</li>
<li>é€šè¿‡ <code>draftMode</code> + <code>X-Preview-Data</code> cookie å®ç° CMS é¢„è§ˆã€‚</li>
<li>å¯¹äºå®æ—¶æ€§å¼ºçš„æ•°æ®ä½¿ç”¨ SSE/WebSocketï¼Œé¿å…è½®è¯¢æµªè´¹ã€‚</li>
<li>åœ¨éƒ¨ç½²åæ‰§è¡Œé¢„çƒ­è„šæœ¬ï¼Œæå‰è§¦å‘å…³é”®é¡µé¢ ISRã€‚</li>
<li>å®šæœŸå®¡æŸ¥ API å¥‘çº¦ï¼Œç¡®ä¿å‰åç«¯åè®®æ¸…æ™°ã€ç‰ˆæœ¬æœ‰åºã€‚</li>
</ol>
<h3 id="c-äº¤äº’ä¸å‰ç«¯ä½“éªŒ51-70"><a class="header" href="#c-äº¤äº’ä¸å‰ç«¯ä½“éªŒ51-70">C. äº¤äº’ä¸å‰ç«¯ä½“éªŒï¼ˆ51-70ï¼‰</a></h3>
<ol start="51">
<li>ä½¿ç”¨ <code>useTransition</code> ä¼˜åŒ–äº¤äº’å“åº”ï¼Œé¿å…ç•Œé¢å¡é¡¿ã€‚</li>
<li>å¯¹è¡¨å•æäº¤ä½¿ç”¨ <code>useFormStatus</code> æç¤ºåŠ è½½çŠ¶æ€ã€‚</li>
<li>åœ¨ Client ç»„ä»¶ä¸­ä½¿ç”¨ <code>React.memo</code>ã€<code>useCallback</code> é¿å…ä¸å¿…è¦æ¸²æŸ“ã€‚</li>
<li>å¯¹å¤æ‚åŠ¨ç”»ä½¿ç”¨ <code>framer-motion</code> å¹¶å¯ç”¨ <code>useReducedMotion</code>ã€‚</li>
<li>å¯¹åˆ—è¡¨ä½¿ç”¨é”®ç›˜å¯¼èˆªä¸å¯è®¿é—®æ€§æ”¯æŒï¼Œæé«˜ä½“éªŒã€‚</li>
<li>å¯¹é•¿åˆ—è¡¨åˆ†æ®µåŠ è½½ï¼ˆåˆ†é¡µ/æ— é™æ»šåŠ¨ï¼‰ã€‚</li>
<li>ä½¿ç”¨ <code>IntersectionObserver</code> æ‡’åŠ è½½éé¦–å±ç»„ä»¶ã€‚</li>
<li>ç»Ÿä¸€é”™è¯¯æç¤ºä½“éªŒï¼Œæä¾›åˆ·æ–°/é‡è¯•æŒ‰é’®ã€‚</li>
<li>æä¾›ç¦»çº¿æç¤ºä¸é‡è¿é€»è¾‘ï¼Œå¢å¼ºéŸ§æ€§ã€‚</li>
<li>å¯¹ä¹è§‚æ›´æ–°çš„æ“ä½œæä¾›æ’¤é”€åŠŸèƒ½ï¼Œæå‡å®‰å…¨æ„Ÿã€‚</li>
<li>åœ¨å›¾è¡¨å†…ä½¿ç”¨ <code>Suspense</code> + Skeletonï¼Œä¿æŒæµç•…ã€‚</li>
<li>å¯¹è¾“å…¥æ¡†é˜²æŠ–ï¼ˆ<code>useDebounce</code>ï¼‰ï¼Œé¿å…è”åŠ¨æŸ¥è¯¢è¿‡é¢‘ã€‚</li>
<li>è®¾è®¡ç©ºçŠ¶æ€ï¼ˆEmpty Stateï¼‰ï¼Œé˜²æ­¢ç©ºç™½é¡µé¢ã€‚</li>
<li>åœ¨é‡è¦æ“ä½œå‰å±•ç¤ºç¡®è®¤å¯¹è¯æ¡†ï¼Œé¿å…è¯¯æ“ä½œã€‚</li>
<li>ä½¿ç”¨ <code>focus-visible</code> æ ·å¼æå‡é”®ç›˜æ“ä½œä½“éªŒã€‚</li>
<li>å¯¹å›½é™…åŒ–åº”ç”¨è®°ä½ç”¨æˆ·è¯­è¨€åå¥½ã€‚</li>
<li>åœ¨ç§»åŠ¨ç«¯ä¼˜åŒ–è§¦æ§åŒºåŸŸå’Œæ»šåŠ¨æ€§èƒ½ã€‚</li>
<li>ä½¿ç”¨ Web Worker æ‰§è¡Œé‡è®¡ç®—ï¼Œé˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡ã€‚</li>
<li>å¯¹å¤šåª’ä½“å†…å®¹ï¼ˆéŸ³è§†é¢‘ï¼‰æä¾›é™çº§æ–¹æ¡ˆã€‚</li>
<li>è’™å±‚/Modal æ§åˆ¶ç„¦ç‚¹é”å®šï¼Œé¿å…å¯è®¿é—®æ€§é—®é¢˜ã€‚</li>
</ol>
<h3 id="d-åŸºç¡€è®¾æ–½ä¸è¿ç»´71-90"><a class="header" href="#d-åŸºç¡€è®¾æ–½ä¸è¿ç»´71-90">D. åŸºç¡€è®¾æ–½ä¸è¿ç»´ï¼ˆ71-90ï¼‰</a></h3>
<ol start="71">
<li>ä½¿ç”¨ Vercel Edge Network ç¼©çŸ­è·ç¦»ï¼Œæå‡ TTFBã€‚</li>
<li>ä¸º SSR/API æœåŠ¡å™¨è®¾ç½®è‡ªåŠ¨æ‰©ç¼©å®¹ï¼ˆVercel/è‡ªå»º Autoscalingï¼‰ã€‚</li>
<li>åœ¨ Docker é•œåƒä¸­ä½¿ç”¨ <code>node:alpine</code>ï¼Œå‡å°é•œåƒä½“ç§¯ã€‚</li>
<li>åˆ©ç”¨ <code>pnpm</code>/<code>bun</code> æå‡ä¾èµ–å®‰è£…é€Ÿåº¦ã€‚</li>
<li>åœ¨ CI ä¸­å¯ç”¨ä¾èµ–ç¼“å­˜ï¼Œå‡å°‘æ„å»ºæ—¶é—´ã€‚</li>
<li>å¯¹æ„å»ºç»“æœåšäº§ç‰©ç¼“å­˜ï¼ˆTurborepo Remote Cacheï¼‰ã€‚</li>
<li>ä½¿ç”¨ Terraform/ Pulumi ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œä¿è¯ä¸€è‡´æ€§ã€‚</li>
<li>æ¨è¡ŒåŸºç¡€è®¾æ–½ç›‘æ§ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€è¿æ¥æ•°ã€‚</li>
<li>ä¸ºæ•°æ®åº“è®¾ç½®è¿æ¥æ± ä¸åªè¯»å‰¯æœ¬ï¼Œç¼“è§£ä¸»åº“å‹åŠ›ã€‚</li>
<li>åœ¨ CDN çº§åˆ«è®¾ç½®ç¼“å­˜ç­–ç•¥ä¸å›æºä¿æŠ¤ã€‚</li>
<li>è¿è¡Œå®‰å…¨æ‰«æï¼ˆSnykã€Dependabotï¼‰å¹¶åŠæ—¶ä¿®å¤æ¼æ´ã€‚</li>
<li>å®ç°è‡ªåŠ¨åŒ–å›æ»šç­–ç•¥ï¼Œå‘å¸ƒå¤±è´¥å¯è¿…é€Ÿæ¢å¤ã€‚</li>
<li>å®šæœŸæ¼”ç»ƒç¾å¤‡æ–¹æ¡ˆï¼ŒéªŒè¯å¤‡ä»½å¯ç”¨æ€§ã€‚</li>
<li>åœ¨æ—¥å¿—ä¸­æ³¨å…¥ <code>traceId</code>ï¼Œä¾¿äºè·¨æœåŠ¡å®šä½é—®é¢˜ã€‚</li>
<li>å»ºç«‹å‘Šè­¦åˆ†çº§åˆ¶åº¦ï¼Œé¿å…å‘Šè­¦ç–²åŠ³ã€‚</li>
<li>ä½¿ç”¨ <code>vercel analytics</code> æˆ– <code>datadog rum</code> æ”¶é›†çœŸå®ç”¨æˆ·æ€§èƒ½æ•°æ®ã€‚</li>
<li>é’ˆå¯¹ API è®¾ç½® SLA/SLOï¼Œè¯„ä¼°å¯é æ€§ç›®æ ‡ã€‚</li>
<li>å®šæœŸæ›´æ–°ä¾èµ–ï¼Œé¿å…æŠ€æœ¯å€ºå †ç§¯ï¼ˆRenovateï¼‰ã€‚</li>
<li>å¯¹å¤–éƒ¨ä¾èµ–ï¼ˆç¬¬ä¸‰æ–¹ APIï¼‰ç­¾ç½² SLAï¼Œçº¦å®šå“åº”æ—¶é—´ã€‚</li>
<li>å»ºç«‹äº‹æ•…å¤ç›˜æœºåˆ¶ï¼Œè®°å½• root causeï¼Œå½¢æˆçŸ¥è¯†åº“ã€‚</li>
</ol>
<h3 id="e-æ„å»ºä¸å¼€å‘æ•ˆç‡91-100"><a class="header" href="#e-æ„å»ºä¸å¼€å‘æ•ˆç‡91-100">E. æ„å»ºä¸å¼€å‘æ•ˆç‡ï¼ˆ91-100ï¼‰</a></h3>
<ol start="91">
<li>å¯ç”¨ <code>next dev --turbo</code>ï¼ˆå®éªŒï¼‰æå‡æœ¬åœ°å¼€å‘é€Ÿåº¦ã€‚</li>
<li>ä½¿ç”¨ VSCode <code>Next.js</code> æ’ä»¶ï¼Œæå‡å¼€å‘ä½“éªŒã€‚</li>
<li>åœ¨æœ¬åœ°è®¾ç½® <code>.env.development</code>ï¼Œé¿å…æ±¡æŸ“å…¨å±€ã€‚</li>
<li>ä½¿ç”¨ <code>pnpm lint --fix</code>ã€<code>pnpm format</code> ç»Ÿä¸€æ ¼å¼ã€‚</li>
<li>é‡‡ç”¨ <code>typecheck</code> è„šæœ¬ï¼ˆ<code>tsc --noEmit</code>ï¼‰ä¿è¯ç±»å‹å®‰å…¨ã€‚</li>
<li>ä½¿ç”¨ Storybook æ„å»ºç»„ä»¶åº“ï¼Œç»“åˆ Visual Regression Testã€‚</li>
<li>å¯¹å…¬å…±ç»„ä»¶å»ºç«‹æ–‡æ¡£ï¼ˆPropsã€Usageã€Examplesï¼‰ã€‚</li>
<li>æ¨è¡Œ Pair Programmingï¼Œå…±åŒå­¦ä¹  App Router æœ€ä½³å®è·µã€‚</li>
<li>è®¾ç«‹â€œæ€§èƒ½é¢„ç®—â€ä¼šè®®ï¼Œå‘¨æœŸæ€§å®¡æŸ¥æŒ‡æ ‡ã€‚</li>
<li>è®°å½•ç»éªŒæ²‰æ·€ä¸º Playbookï¼Œå½¢æˆå¯å¤åˆ¶æ–¹æ³•è®ºã€‚</li>
</ol>
<hr />
<h2 id="server-action-å®æˆ˜æ¨¡å¼åº“patterns--recipes"><a class="header" href="#server-action-å®æˆ˜æ¨¡å¼åº“patterns--recipes">Server Action å®æˆ˜æ¨¡å¼åº“ï¼ˆPatterns &amp; Recipesï¼‰</a></h2>
<p>Server Action ä½œä¸º App Router æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸€ï¼Œèƒ½å¤Ÿè®© UI èˆ‡æœåŠ¡å™¨é€»è¾‘ç´§å¯†ç»“åˆã€‚æœ¬èŠ‚æ•´ç† 24 ç§å¸¸è§æ¨¡å¼ï¼Œæ¯ç§æ¨¡å¼åŒ…å«é€‚ç”¨åœºæ™¯ã€ç»“æ„è§£æã€å…³é”®ä»£ç ã€é”™è¯¯å¤„ç†ä¸æ‰©å±•æ–¹å‘ï¼Œå¸®åŠ©åœ¨å¤æ‚åº”ç”¨ä¸­æ­£ç¡®ä½¿ç”¨ Server Actionã€‚</p>
<h3 id="æ¨¡å¼-1è¡¨å•æäº¤--æ•°æ®æŒä¹…åŒ–"><a class="header" href="#æ¨¡å¼-1è¡¨å•æäº¤--æ•°æ®æŒä¹…åŒ–">æ¨¡å¼ 1ï¼šè¡¨å•æäº¤ + æ•°æ®æŒä¹…åŒ–</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç»å…¸ CRUD è¡¨å•ï¼Œå¦‚åˆ›å»ºæ–‡ç« ã€æ›´æ–°èµ„æ–™ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šè¡¨å• â†’ Server Action â†’ æ•°æ®åº“ â†’ <code>revalidatePath</code>ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨ zod æ ¡éªŒè¾“å…¥ï¼›å¯¹é‡å¤æäº¤è¿›è¡Œå¹‚ç­‰ä¿æŠ¤ã€‚</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { z } from 'zod'
import { prisma } from '@/lib/prisma'
import { revalidatePath } from 'next/cache'

const schema = z.object({
  title: z.string().min(3),
  content: z.string().min(10)
})

export async function createArticleAction(formData: FormData) {
  const payload = schema.parse({
    title: formData.get('title'),
    content: formData.get('content')
  })
  await prisma.article.create({ data: payload })
  revalidatePath('/articles')
}
</code></pre>
<ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ•è· <code>ZodError</code>ï¼Œè¿”å› <code>{ ok: false, errors }</code>ã€‚</li>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šæ·»åŠ ä¹è§‚ UIã€äº‹ä»¶æ—¥å¿—è®°å½•ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-2æ‰¹é‡æ“ä½œbulk-action"><a class="header" href="#æ¨¡å¼-2æ‰¹é‡æ“ä½œbulk-action">æ¨¡å¼ 2ï¼šæ‰¹é‡æ“ä½œï¼ˆBulk Actionï¼‰</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæ‰¹é‡åˆ é™¤ã€æ‰¹é‡æ›´æ–°çŠ¶æ€ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šClient ä¼ é€’ ID åˆ—è¡¨ â†’ Action æ‰§è¡Œæ‰¹å¤„ç† â†’ è¿”å›ç»“æœç»Ÿè®¡ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨äº‹åŠ¡ä¿è¯åŸå­æ€§ï¼›é™åˆ¶å•æ¬¡æ•°é‡é˜²æ­¢é•¿æ—¶é—´æ‰§è¡Œã€‚</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { prisma } from '@/lib/prisma'

export async function archivePostsAction(ids: string[]) {
  if (ids.length &gt; 50) throw new Error('ä¸€æ¬¡æœ€å¤š 50 æ¡')
  const result = await prisma.$transaction(
    ids.map(id =&gt; prisma.post.update({ where: { id }, data: { archived: true } }))
  )
  revalidatePath('/dashboard/posts')
  return { count: result.length }
}
</code></pre>
<ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šäº‹åŠ¡ä¸­æ–­æ—¶è®°å½•é”™è¯¯ IDï¼›è¿”å›éƒ¨åˆ†æˆåŠŸä¿¡æ¯ã€‚</li>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šç»“åˆé˜Ÿåˆ—å¼‚æ­¥å¤„ç†å¤§æ‰¹é‡ä»»åŠ¡ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-3æ–‡ä»¶ä¸Šä¼ --å¤–éƒ¨å­˜å‚¨"><a class="header" href="#æ¨¡å¼-3æ–‡ä»¶ä¸Šä¼ --å¤–éƒ¨å­˜å‚¨">æ¨¡å¼ 3ï¼šæ–‡ä»¶ä¸Šä¼  + å¤–éƒ¨å­˜å‚¨</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šä¸Šä¼ å¤´åƒã€é™„ä»¶ã€CSV æ•°æ®ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šå®¢æˆ·ç«¯ <code>&lt;form encType="multipart/form-data"&gt;</code> â†’ Action ä¸­è¯»å– <code>File</code> â†’ ä¸Šä¼ åˆ° S3/Blob â†’ ä¿å­˜ URLã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåœ¨ Action ä¸­ä½¿ç”¨ <code>file.arrayBuffer()</code>ï¼Œé™åˆ¶å¤§å°ã€é˜²æ­¢æ¶æ„ä¸Šä¼ ã€‚</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { PutObjectCommand } from '@aws-sdk/client-s3'
import { s3 } from '@/lib/s3'

export async function uploadAvatarAction(_: FormData, file: File) {
  if (file.size &gt; 2 * 1024 * 1024) {
    throw new Error('æ–‡ä»¶è¿‡å¤§')
  }
  const buffer = Buffer.from(await file.arrayBuffer())
  const key = `avatars/${Date.now()}-${file.name}`
  await s3.send(new PutObjectCommand({ Bucket: process.env.S3_BUCKET, Key: key, Body: buffer, ContentType: file.type }))
  return { url: `https://cdn.example.com/${key}` }
}
</code></pre>
<ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ•æ‰ AWS é”™è¯¯ï¼Œæç¤ºç”¨æˆ·é‡è¯•ã€‚</li>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šå¼•å…¥é˜²ç—…æ¯’æ‰«æã€åˆ†ç‰‡ä¸Šä¼ ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-4å¤šæ­¥éª¤å‘å¯¼wizard"><a class="header" href="#æ¨¡å¼-4å¤šæ­¥éª¤å‘å¯¼wizard">æ¨¡å¼ 4ï¼šå¤šæ­¥éª¤å‘å¯¼ï¼ˆWizardï¼‰</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¤æ‚è¡¨å•æ‹†åˆ†å¤šä¸ªæ­¥éª¤ï¼Œå¦‚å…¥é©»æµç¨‹ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šä½¿ç”¨å¤šä¸ª Actionï¼Œæ¯æ­¥æ›´æ–° Session/æ•°æ®åº“ï¼Œæœ€ååˆå¹¶æäº¤ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šå®šä¹‰çŠ¶æ€æœºï¼Œç¡®ä¿æ­¥éª¤é¡ºåºï¼›ä½¿ç”¨ <code>cookies()</code> å­˜å‚¨ä¸´æ—¶çŠ¶æ€ã€‚</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { cookies } from 'next/headers'

export async function saveStepAction(step: number, data: any) {
  const cookieStore = cookies()
  const state = JSON.parse(cookieStore.get('wizard-state')?.value ?? '{}')
  state[step] = data
  cookieStore.set('wizard-state', JSON.stringify(state), { httpOnly: true })
}
</code></pre>
<ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ ¡éªŒæ­¥éª¤é¡ºåºï¼Œé˜²æ­¢è·³æ­¥ã€‚</li>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šæœ€ç»ˆæäº¤æ—¶åˆå¹¶æ‰€æœ‰æ­¥éª¤ï¼Œå†™å…¥æ•°æ®åº“ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-5æ”¯ä»˜æµç¨‹è”åŠ¨"><a class="header" href="#æ¨¡å¼-5æ”¯ä»˜æµç¨‹è”åŠ¨">æ¨¡å¼ 5ï¼šæ”¯ä»˜æµç¨‹è”åŠ¨</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šåˆ›å»ºè®¢å• â†’ è°ƒç”¨æ”¯ä»˜ç½‘å…³ â†’ å›è°ƒæ›´æ–°çŠ¶æ€ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction åˆ›å»ºè®¢å•ã€ç”Ÿæˆ Payment Intentï¼Œè¿”å› client secretï¼›Route Handler æ¥æ”¶ webhook æ›´æ–°æ”¯ä»˜çŠ¶æ€ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä¿ç•™ <code>orderId</code>ã€<code>paymentId</code> æ˜ å°„ï¼›ç¡®ä¿ Action å¹‚ç­‰ã€‚</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import Stripe from 'stripe'

const stripe = new Stripe(process.env.STRIPE_KEY!, { apiVersion: '2023-10-16' })

export async function createCheckoutAction(order: OrderPayload) {
  const orderRecord = await prisma.order.create({ data: order })
  const session = await stripe.checkout.sessions.create({
    success_url: `${process.env.APP_URL}/checkout/success?order=${orderRecord.id}`,
    cancel_url: `${process.env.APP_URL}/checkout/cancel`,
    line_items: order.items.map(item =&gt; ({ price_data: {/* ... */}, quantity: item.qty })),
    mode: 'payment',
    metadata: { orderId: orderRecord.id }
  })
  return { url: session.url }
}
</code></pre>
<ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ•æ‰ StripeErrorï¼Œæç¤ºç”¨æˆ·æ›´æ¢æ”¯ä»˜æ–¹å¼ã€‚</li>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šæ·»åŠ ä¼˜æƒ åˆ¸ã€åˆ†æœŸã€è®¢é˜…æ¨¡å¼ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-6å®æ—¶é€šçŸ¥è§¦å‘"><a class="header" href="#æ¨¡å¼-6å®æ—¶é€šçŸ¥è§¦å‘">æ¨¡å¼ 6ï¼šå®æ—¶é€šçŸ¥è§¦å‘</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·æ“ä½œåç«‹å³å‘å…¶å®ƒç”¨æˆ·æ¨é€é€šçŸ¥ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction å®Œæˆå†™å…¥åï¼Œé€šè¿‡ Redis Publish/SSE é€šçŸ¥å‰ç«¯ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šç¡®ä¿é€šçŸ¥ä¸æ•°æ®ä¸€è‡´ï¼Œä½¿ç”¨äº‹åŠ¡æˆ–äº‹ä»¶æ€»çº¿ã€‚</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { redis } from '@/lib/redis'
import { revalidatePath } from 'next/cache'

export async function addCommentAction(docId: string, payload: CommentInput) {
  const comment = await prisma.comment.create({ data: { ...payload, docId } })
  await redis.publish(`doc:${docId}`, JSON.stringify({ type: 'comment.new', comment }))
  revalidatePath(`/docs/${docId}`)
  return comment
}
</code></pre>
<ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå‘é€é€šçŸ¥å¤±è´¥æ—¶è®°å½•æ—¥å¿—ï¼Œå¿…è¦æ—¶é‡è¯•ã€‚</li>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šç»“åˆ Webhook å‘å¤–éƒ¨ç³»ç»Ÿå‘Šè­¦ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-7ä¹è§‚-ui--å›æ»š"><a class="header" href="#æ¨¡å¼-7ä¹è§‚-ui--å›æ»š">æ¨¡å¼ 7ï¼šä¹è§‚ UI + å›æ»š</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·ä½“éªŒè¦æ±‚å¿«é€Ÿåé¦ˆï¼Œå¦‚ç‚¹èµã€æ”¶è—ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šClient ä½¿ç”¨ <code>useOptimistic</code> æ›´æ–°ï¼›Action å¦‚å¤±è´¥åˆ™è¿”å›é”™è¯¯ï¼Œå®¢æˆ·ç«¯å›æ»šã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šAction éœ€æ˜ç¡®æˆåŠŸ/å¤±è´¥çŠ¶æ€ï¼›å®¢æˆ·ç«¯ç›‘å¬ <code>pending</code>.</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="language-tsx">'use client'
import { experimental_useOptimistic as useOptimistic } from 'react'
import { toggleLikeAction } from './actions'

export function LikeButton({ postId, liked }: { postId: string; liked: boolean }) {
  const [optimisticLiked, toggle] = useOptimistic(liked, (state: boolean) =&gt; !state)
  const action = async () =&gt; {
    toggle(null)
    const result = await toggleLikeAction(postId)
    if (!result.ok) toggle(null) // å›æ»š
  }
  return &lt;button onClick={action}&gt;{optimisticLiked ? 'â¤ï¸' : 'ğŸ¤'}&lt;/button&gt;
}
</code></pre>
<ul>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šè®°å½•å¤±è´¥åŸå› ï¼Œå…è®¸ç”¨æˆ·é‡è¯•ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-8æ‰¹å¤„ç†ä»»åŠ¡é˜Ÿåˆ—"><a class="header" href="#æ¨¡å¼-8æ‰¹å¤„ç†ä»»åŠ¡é˜Ÿåˆ—">æ¨¡å¼ 8ï¼šæ‰¹å¤„ç†ä»»åŠ¡é˜Ÿåˆ—</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¯¼å…¥ CSVã€ç”ŸæˆæŠ¥è¡¨ã€æ‰¹é‡é‚®ä»¶ï¼Œéœ€è¦è€—æ—¶ä»»åŠ¡ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction æ¥æ”¶è¯·æ±‚ï¼Œå†™å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼ˆRedisã€BullMQï¼‰ï¼Œç«‹å³è¿”å›ä»»åŠ¡ IDï¼Œåç»­é€šè¿‡è½®è¯¢æˆ– SSE è·å–è¿›åº¦ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šAction ä¸åº”é•¿æ—¶é—´é˜»å¡ï¼›è¿›åº¦å­˜å‚¨åœ¨ç¼“å­˜æˆ–æ•°æ®åº“ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { queue } from '@/lib/queue'

export async function enqueueReportAction(params: ReportParams) {
  const job = await queue.reports.add('generate', params)
  return { jobId: job.id }
}
</code></pre>
<ul>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šæä¾›å–æ¶ˆä»»åŠ¡ã€å¤±è´¥é‡è¯•æœºåˆ¶ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-9ä¾èµ–ç™»å½•çŠ¶æ€çš„-action"><a class="header" href="#æ¨¡å¼-9ä¾èµ–ç™»å½•çŠ¶æ€çš„-action">æ¨¡å¼ 9ï¼šä¾èµ–ç™»å½•çŠ¶æ€çš„ Action</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·ä¸ªäººè®¾ç½®ã€æäº¤å·¥å•ç­‰éœ€è¦é‰´æƒã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šåœ¨ Action å†…è°ƒç”¨ <code>auth()</code> è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šAction è¿è¡Œåœ¨æœåŠ¡å™¨ï¼Œéœ€ç¡®ä¿ Session å¯ç”¨ï¼›æœªç™»å½•æ—¶æŠ›å‡ºé”™è¯¯æˆ–è¿”å›çŠ¶æ€ç ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { auth } from '@/lib/auth'

export async function updateProfileAction(formData: FormData) {
  const session = await auth()
  if (!session) return { ok: false, message: 'æœªç™»å½•' }
  await prisma.user.update({ where: { id: session.user.id }, data: { name: formData.get('name') as string } })
  return { ok: true }
}
</code></pre>
<ul>
<li><strong>æ‰©å±•æ–¹å‘</strong>ï¼šç»“åˆè§’è‰²æ£€æŸ¥ï¼ˆRBACï¼‰ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-10å…±äº«-action--å‚æ•°ç»‘å®š"><a class="header" href="#æ¨¡å¼-10å…±äº«-action--å‚æ•°ç»‘å®š">æ¨¡å¼ 10ï¼šå…±äº« Action + å‚æ•°ç»‘å®š</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¤šä¸ªç»„ä»¶éœ€è¦é‡ç”¨åŒä¸€ä¸ª Actionï¼Œä½†ä¼ å…¥ä¸åŒå‚æ•°ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šä½¿ç”¨ <code>action.bind(null, preset)</code> é¢„ç»‘å®šå‚æ•°ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="language-tsx">&lt;form action={updateStatusAction.bind(null, { id: task.id, status: 'done' })}&gt;
  &lt;button type="submit"&gt;å®Œæˆ&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<ul>
<li><strong>å…³é”®ç‚¹</strong>ï¼šç»‘å®šåçš„å‡½æ•°ä»åœ¨æœåŠ¡å™¨æ‰§è¡Œï¼Œæ— éœ€æ‹…å¿ƒæ³„éœ²ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-11action--redirectnotfound"><a class="header" href="#æ¨¡å¼-11action--redirectnotfound">æ¨¡å¼ 11ï¼šAction + Redirect/NotFound</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæäº¤åè·³è½¬åˆ°è¯¦æƒ…é¡µæˆ–å¤„ç†ä¸å­˜åœ¨èµ„æºã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction å†…è°ƒç”¨ <code>redirect</code> æˆ– <code>notFound</code>ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">'use server'
import { redirect } from 'next/navigation'

export async function createAndRedirectAction(data: FormData) {
  const record = await prisma.item.create(/* ... */)
  redirect(`/items/${record.id}`)
}
</code></pre>
<ul>
<li><strong>æ³¨æ„</strong>ï¼š<code>redirect</code> ä¼šæŠ›å¼‚å¸¸ç»ˆæ­¢åç»­ä»£ç ï¼Œéœ€æå‰å®Œæˆæ‰€æœ‰æ“ä½œã€‚</li>
</ul>
<h3 id="æ¨¡å¼-12action-ä¸­çš„å¹¶å‘å¤„ç†"><a class="header" href="#æ¨¡å¼-12action-ä¸­çš„å¹¶å‘å¤„ç†">æ¨¡å¼ 12ï¼šAction ä¸­çš„å¹¶å‘å¤„ç†</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šä¸€æ¬¡æäº¤éœ€è¦è°ƒç”¨å¤šä¸ªå¤–éƒ¨æœåŠ¡ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šåœ¨ Action å†…ä½¿ç”¨ <code>Promise.allSettled</code> å¹¶å‘å¤„ç†ï¼›æ ¹æ®ç»“æœå†³å®šè¿”å›ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šç¡®ä¿å¤–éƒ¨è°ƒç”¨å…·å¤‡å¹‚ç­‰æ€§ï¼Œå¤±è´¥ç­–ç•¥æ¸…æ™°ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-13action--draft-mode-æ•°æ®"><a class="header" href="#æ¨¡å¼-13action--draft-mode-æ•°æ®">æ¨¡å¼ 13ï¼šAction + Draft Mode æ•°æ®</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šCMS æ­£åœ¨é¢„è§ˆè‰ç¨¿ï¼ŒAction éœ€è¦è¯»å–è‰ç¨¿æ•°æ®ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šè°ƒç”¨ <code>draftMode().isEnabled</code> åˆ¤æ–­ï¼Œé€‰æ‹©ä¸åŒæ•°æ®æºã€‚</li>
</ul>
<h3 id="æ¨¡å¼-14action-ä¸å›½é™…åŒ–"><a class="header" href="#æ¨¡å¼-14action-ä¸å›½é™…åŒ–">æ¨¡å¼ 14ï¼šAction ä¸å›½é™…åŒ–</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæäº¤å¤šè¯­è¨€å†…å®¹ï¼Œéœ€è¦æ ¹æ® locale å¤„ç†ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction æ¥æ”¶ locale å‚æ•°ï¼Œå†™å…¥å¯¹åº”å­—æ®µã€‚</li>
</ul>
<h3 id="æ¨¡å¼-15action--optimistic-pagination"><a class="header" href="#æ¨¡å¼-15action--optimistic-pagination">æ¨¡å¼ 15ï¼šAction + Optimistic Pagination</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šåˆ›å»ºè¯„è®ºåç«‹åˆ»åœ¨åˆ—è¡¨é¡¶éƒ¨å±•ç¤ºã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šClient ä½¿ç”¨ <code>useOptimistic</code> æ’å…¥ä¸´æ—¶è®°å½•ï¼ŒAction æˆåŠŸååˆ·æ–°ï¼›å¤±è´¥åˆ™ç§»é™¤ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-16action--ai-streaming"><a class="header" href="#æ¨¡å¼-16action--ai-streaming">æ¨¡å¼ 16ï¼šAction + AI Streaming</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šè¡¨å•æäº¤åç”Ÿæˆ AI æ–‡æœ¬ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction è°ƒç”¨ AI æ¥å£è¿”å› <code>ReadableStream</code>ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨ <code>useEffect</code> é€æ­¥æ¸²æŸ“ã€‚</li>
</ul>
<pre><code class="language-ts">'use server'
import { streamText } from 'ai'

export async function completionAction(prompt: string) {
  const stream = await streamText({ model: 'gpt-4o-mini', prompt })
  return stream
}
</code></pre>
<ul>
<li><strong>æ³¨æ„</strong>ï¼šè¯¥æ¨¡å¼éœ€è¦ React 19 Betaï¼Œç»“åˆ <code>use</code> Hook ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-17action-ä¸æƒé™å®¡è®¡"><a class="header" href="#æ¨¡å¼-17action-ä¸æƒé™å®¡è®¡">æ¨¡å¼ 17ï¼šAction ä¸æƒé™å®¡è®¡</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæ•æ„Ÿæ“ä½œéœ€è¦è®°å½•æ—¥å¿—ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction æ‰§è¡ŒæˆåŠŸåå†™å…¥ <code>audit_log</code>ï¼›å¤±è´¥æ—¶ä¹Ÿè®°å½•ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-18action--feature-flag"><a class="header" href="#æ¨¡å¼-18action--feature-flag">æ¨¡å¼ 18ï¼šAction + Feature Flag</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç°åº¦å‘å¸ƒæ–°åŠŸèƒ½ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction å†…è¯»å– Flag çŠ¶æ€ï¼Œå†³å®šæ‰§è¡Œè·¯å¾„ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-19action--rate-limit"><a class="header" href="#æ¨¡å¼-19action--rate-limit">æ¨¡å¼ 19ï¼šAction + Rate Limit</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šé˜²æ­¢æ»¥ç”¨ï¼Œä¾‹å¦‚é¢‘ç¹æäº¤è¡¨å•ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šè°ƒç”¨ <code>rateLimit</code>ï¼Œè¶…è¿‡é˜ˆå€¼è¿”å›é”™è¯¯ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-20action--æ•°æ®å¯¼å‡º"><a class="header" href="#æ¨¡å¼-20action--æ•°æ®å¯¼å‡º">æ¨¡å¼ 20ï¼šAction + æ•°æ®å¯¼å‡º</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¯¼å‡º CSV/Excelã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction æ„å»ºæ–‡ä»¶å¹¶è¿”å›ä¸‹è½½é“¾æ¥ï¼Œæˆ–å†™å…¥å¯¹è±¡å­˜å‚¨ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-21action--hook-é›†æˆ"><a class="header" href="#æ¨¡å¼-21action--hook-é›†æˆ">æ¨¡å¼ 21ï¼šAction + Hook é›†æˆ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç»“åˆ <code>react-hook-form</code> æäº¤ï¼Œè·å–çŠ¶æ€ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šä½¿ç”¨ <code>form.action</code> ä¸ <code>handleSubmit</code> æ··åˆæ¨¡å¼ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-22action-ä¸­çš„äº‹åŠ¡å¤„ç†"><a class="header" href="#æ¨¡å¼-22action-ä¸­çš„äº‹åŠ¡å¤„ç†">æ¨¡å¼ 22ï¼šAction ä¸­çš„äº‹åŠ¡å¤„ç†</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šä¸€æ¬¡æ“ä½œæ¶‰åŠå¤šè¡¨å†™å…¥ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šä½¿ç”¨ <code>prisma.$transaction</code> æˆ– <code>drizzle.transaction</code>ï¼Œå‡ºé”™å›æ»šã€‚</li>
</ul>
<h3 id="æ¨¡å¼-23action--ç¼“å­˜é¢„çƒ­"><a class="header" href="#æ¨¡å¼-23action--ç¼“å­˜é¢„çƒ­">æ¨¡å¼ 23ï¼šAction + ç¼“å­˜é¢„çƒ­</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæ›´æ–°æ•°æ®åé¢„çƒ­çƒ­ç‚¹é¡µé¢ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction å®Œæˆåè°ƒç”¨å¤–éƒ¨ APIï¼ˆå¦‚ Vercel Revalidateï¼‰è§¦å‘é¢„çƒ­ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-24action-ä¸å®‰å…¨æ ¡éªŒ"><a class="header" href="#æ¨¡å¼-24action-ä¸å®‰å…¨æ ¡éªŒ">æ¨¡å¼ 24ï¼šAction ä¸å®‰å…¨æ ¡éªŒ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæ•æ„Ÿæ“ä½œéœ€äºŒæ¬¡éªŒè¯ï¼ˆOTPã€å¯†ç ç¡®è®¤ï¼‰ã€‚</li>
<li><strong>ç»“æ„è§£æ</strong>ï¼šAction å†…æ ¡éªŒ OTPï¼Œå¤±è´¥åˆ™è¿”å›é”™è¯¯å¹¶é™åˆ¶æ¬¡æ•°ã€‚</li>
</ul>
<p>é€šè¿‡æŒæ¡è¿™äº›æ¨¡å¼ï¼Œå›¢é˜Ÿå¯æ ¹æ®ä¸šåŠ¡åœºæ™¯çµæ´»ç»„åˆ Server Actionï¼Œç¡®ä¿å…¼é¡¾å®‰å…¨æ€§ã€æ€§èƒ½ä¸å¼€å‘æ•ˆç‡ã€‚</p>
<hr />
<h2 id="route-handler-è¿›é˜¶æ¨¡å¼é›†åˆ"><a class="header" href="#route-handler-è¿›é˜¶æ¨¡å¼é›†åˆ">Route Handler è¿›é˜¶æ¨¡å¼é›†åˆ</a></h2>
<p>Route Handler æ˜¯ Next.js App Router çš„ BFF æ ¸å¿ƒã€‚æœ¬èŠ‚æ•´ç† 20 ç§å¸¸è§æ¨¡å¼ï¼Œæ¶µç›– RESTful APIã€Webhookã€Streamingã€å›¾åƒå¤„ç†ç­‰åœºæ™¯ï¼Œå¸®åŠ©æ„å»ºé«˜è´¨é‡æ¥å£å±‚ã€‚</p>
<h3 id="æ¨¡å¼-1æ ‡å‡†-rest-crud"><a class="header" href="#æ¨¡å¼-1æ ‡å‡†-rest-crud">æ¨¡å¼ 1ï¼šæ ‡å‡† REST CRUD</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå®ç° <code>/api/products</code> çš„ GET/POSTã€<code>/api/products/[id]</code> çš„ GET/PUT/DELETEã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨ <code>NextResponse.json</code> è¿”å›ï¼›å¯¹å‚æ•°ä½¿ç”¨ <code>zod</code> æ ¡éªŒï¼›ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼ã€‚</li>
<li><strong>æ¨¡æ¿</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">import { NextResponse } from 'next/server'
import { z } from 'zod'

const ProductSchema = z.object({ name: z.string(), price: z.number().positive() })

export async function GET() {
  const products = await prisma.product.findMany()
  return NextResponse.json(products)
}

export async function POST(request: Request) {
  try {
    const payload = ProductSchema.parse(await request.json())
    const product = await prisma.product.create({ data: payload })
    return NextResponse.json(product, { status: 201 })
  } catch (error) {
    return NextResponse.json({ error: 'Invalid payload' }, { status: 400 })
  }
}
</code></pre>
<h3 id="æ¨¡å¼-2åˆ†é¡µä¸è¿‡æ»¤"><a class="header" href="#æ¨¡å¼-2åˆ†é¡µä¸è¿‡æ»¤">æ¨¡å¼ 2ï¼šåˆ†é¡µä¸è¿‡æ»¤</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¤§æ•°æ®åˆ—è¡¨éœ€è¦åˆ†é¡µæ’åºã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šè¯»å– <code>url.searchParams</code>ï¼›ç»Ÿä¸€è¿”å› <code>data</code>, <code>page</code>, <code>total</code>ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-3graphql-proxy"><a class="header" href="#æ¨¡å¼-3graphql-proxy">æ¨¡å¼ 3ï¼šGraphQL Proxy</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šåœ¨ Next.js ä¸­è½¬å‘ GraphQL è¯·æ±‚ï¼Œæ·»åŠ é‰´æƒã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåœ¨ Route Handler å†… fetch åç«¯ GraphQL endpointï¼Œæ³¨å…¥ Tokenã€‚</li>
</ul>
<h3 id="æ¨¡å¼-4webhook-æ¥æ”¶"><a class="header" href="#æ¨¡å¼-4webhook-æ¥æ”¶">æ¨¡å¼ 4ï¼šWebhook æ¥æ”¶</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¤„ç† Stripeã€GitHubã€Zapier ç­‰æœåŠ¡ Webhookã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šè¯»å–åŸå§‹ body (<code>await request.text()</code>)ï¼Œæ ¹æ® <code>signature</code> éªŒè¯ï¼›ä½¿ç”¨ <code>try/catch</code> é˜²æ­¢å¤±è´¥é‡è¯•ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-5sse-æ¨é€"><a class="header" href="#æ¨¡å¼-5sse-æ¨é€">æ¨¡å¼ 5ï¼šSSE æ¨é€</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå®æ—¶é€šçŸ¥ã€æ—¥å¿—æµã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šè¿”å› <code>ReadableStream</code>ï¼Œè®¾ç½® <code>Content-Type: text/event-stream</code>ï¼Œå…³é—­ç¼“å­˜ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-6æ–‡ä»¶ä¸‹è½½"><a class="header" href="#æ¨¡å¼-6æ–‡ä»¶ä¸‹è½½">æ¨¡å¼ 6ï¼šæ–‡ä»¶ä¸‹è½½</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¯¼å‡º CSVã€PDFã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šè®¾ç½® <code>Content-Disposition</code>ï¼›ä½¿ç”¨ <code>new Response(buffer, { headers })</code>ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-7å›¾åƒå¤„ç†"><a class="header" href="#æ¨¡å¼-7å›¾åƒå¤„ç†">æ¨¡å¼ 7ï¼šå›¾åƒå¤„ç†</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”Ÿæˆç¼©ç•¥å›¾ã€å›¾åƒè£å‰ªã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåœ¨ Node Runtime ä½¿ç”¨ <code>sharp</code>ï¼Œç¼“å­˜ç»“æœï¼Œæ³¨æ„ CPU å¼€é”€ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-8ç­¾åä¸Šä¼ presigned-url"><a class="header" href="#æ¨¡å¼-8ç­¾åä¸Šä¼ presigned-url">æ¨¡å¼ 8ï¼šç­¾åä¸Šä¼ ï¼ˆPresigned URLï¼‰</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå®¢æˆ·ç«¯ç›´æ¥ä¸Šä¼ åˆ° S3ï¼Œéœ€è¦å®‰å…¨ç”Ÿæˆé¢„ç­¾å URLã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šéªŒè¯æƒé™ï¼Œè¿”å› URL + è¡¨å•å­—æ®µã€‚</li>
</ul>
<h3 id="æ¨¡å¼-9ç¬¬ä¸‰æ–¹-api-ä»£ç†"><a class="header" href="#æ¨¡å¼-9ç¬¬ä¸‰æ–¹-api-ä»£ç†">æ¨¡å¼ 9ï¼šç¬¬ä¸‰æ–¹ API ä»£ç†</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šéšè— API Keyã€è½¬æ¢ç¬¬ä¸‰æ–¹æ•°æ®ç»“æ„ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåœ¨ Handler å†…è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼Œå°†å“åº”æ ¼å¼åŒ–åè¿”å›ï¼›è®¾ç½®åˆé€‚ç¼“å­˜å¤´ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-10æ‰¹å¤„ç†æ‰§è¡Œ"><a class="header" href="#æ¨¡å¼-10æ‰¹å¤„ç†æ‰§è¡Œ">æ¨¡å¼ 10ï¼šæ‰¹å¤„ç†æ‰§è¡Œ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šä¸€æ¬¡è¯·æ±‚è§¦å‘å¤šæ¡æ•°æ®åº“æ“ä½œã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨äº‹åŠ¡ï¼Œè¿”å›æ±‡æ€»ç»“æœï¼›æ§åˆ¶è¶…æ—¶ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-11å¤šè¿è¡Œæ—¶æ”¯æŒ"><a class="header" href="#æ¨¡å¼-11å¤šè¿è¡Œæ—¶æ”¯æŒ">æ¨¡å¼ 11ï¼šå¤šè¿è¡Œæ—¶æ”¯æŒ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šéƒ¨åˆ† Handler éœ€è¦ Edgeï¼Œéƒ¨åˆ†éœ€è¦ Nodeã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåœ¨æ–‡ä»¶é¡¶éƒ¨å£°æ˜ <code>export const runtime = 'edge' | 'nodejs'</code>ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-12è¯·æ±‚é‰´æƒ"><a class="header" href="#æ¨¡å¼-12è¯·æ±‚é‰´æƒ">æ¨¡å¼ 12ï¼šè¯·æ±‚é‰´æƒ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå†…éƒ¨ API éœ€è¦ Token éªŒè¯æˆ– HMAC ç­¾åã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šè¯»å– <code>Authorization</code> å¤´ï¼ŒéªŒè¯ç­¾åï¼›å¤±è´¥è¿”å› 401ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-13ç¼“å­˜ä¸-etag"><a class="header" href="#æ¨¡å¼-13ç¼“å­˜ä¸-etag">æ¨¡å¼ 13ï¼šç¼“å­˜ä¸ ETag</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šé™æ€æ•°æ®ä¼˜åŒ–è¿”å›é€Ÿåº¦ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨ <code>If-None-Match</code>ã€<code>ETag</code>å®ç°æ¡ä»¶è¯·æ±‚ï¼Œå‡å°‘å¸¦å®½ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-14æ‰¹é‡å¯¼å…¥"><a class="header" href="#æ¨¡å¼-14æ‰¹é‡å¯¼å…¥">æ¨¡å¼ 14ï¼šæ‰¹é‡å¯¼å…¥</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šä¸Šä¼  CSV è°ƒç”¨ Route Handler è§£æï¼Œå†™å…¥æ•°æ®åº“ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šé™åˆ¶æ–‡ä»¶å¤§å°ï¼Œä½¿ç”¨ <code>papaparse</code>ï¼Œå¼‚æ­¥å¤„ç†ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-15åœ°ç†è®¾å¤‡è¯†åˆ«"><a class="header" href="#æ¨¡å¼-15åœ°ç†è®¾å¤‡è¯†åˆ«">æ¨¡å¼ 15ï¼šåœ°ç†/è®¾å¤‡è¯†åˆ«</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šæ ¹æ® IP æˆ– User Agent è¿”å›å®šåˆ¶å†…å®¹ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåˆ©ç”¨ <code>request.headers</code> è·å– <code>x-vercel-ip-country</code>ã€<code>user-agent</code>ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-16å¤šéƒ¨åˆ†å“åº”"><a class="header" href="#æ¨¡å¼-16å¤šéƒ¨åˆ†å“åº”">æ¨¡å¼ 16ï¼šå¤šéƒ¨åˆ†å“åº”</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šSSR è¿‡ç¨‹ä¸­é€å—è¿”å› HTML æˆ– JSONã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨ <code>ReadableStream</code>ï¼Œé…åˆ <code>TransformStream</code>ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-17é›†æˆå¤–éƒ¨æœç´¢æœåŠ¡"><a class="header" href="#æ¨¡å¼-17é›†æˆå¤–éƒ¨æœç´¢æœåŠ¡">æ¨¡å¼ 17ï¼šé›†æˆå¤–éƒ¨æœç´¢æœåŠ¡</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå°è£… Algolia/ElasticSearchã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šå¯¹æŸ¥è¯¢å‚æ•°åšé˜²æ³¨å…¥å¤„ç†ï¼›å¯¹åˆ†é¡µç»“æœè¿›è¡Œè§„èŒƒè¾“å‡ºã€‚</li>
</ul>
<h3 id="æ¨¡å¼-18æ•°æ®åº“è§¦å‘å™¨å›è°ƒ"><a class="header" href="#æ¨¡å¼-18æ•°æ®åº“è§¦å‘å™¨å›è°ƒ">æ¨¡å¼ 18ï¼šæ•°æ®åº“è§¦å‘å™¨å›è°ƒ</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šSupabase/Webhooks é€šçŸ¥æ›´æ–°ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šéªŒè¯æ¥æº IPï¼›æ ¹æ®äº‹ä»¶ç±»å‹æ‰§è¡Œå·®å¼‚é€»è¾‘ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-19graphql-subschema"><a class="header" href="#æ¨¡å¼-19graphql-subschema">æ¨¡å¼ 19ï¼šGraphQL Subschema</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šé€šè¿‡ Route Handler æš´éœ² GraphQL å­å›¾ï¼Œé…åˆ Apollo Federationã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä½¿ç”¨ Yoga GraphQLï¼›å¤„ç†èº«ä»½ä¼ é€’ã€‚</li>
</ul>
<h3 id="æ¨¡å¼-20å¥åº·æ£€æŸ¥ä¸æŒ‡æ ‡"><a class="header" href="#æ¨¡å¼-20å¥åº·æ£€æŸ¥ä¸æŒ‡æ ‡">æ¨¡å¼ 20ï¼šå¥åº·æ£€æŸ¥ä¸æŒ‡æ ‡</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>ï¼š<code>/api/health</code>ã€<code>/api/metrics</code> æä¾›çŠ¶æ€ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šè¿”å›æœåŠ¡ç‰ˆæœ¬ã€ä¾èµ–çŠ¶æ€ã€æ•°æ®åº“è¿æ¥å¥åº·çŠ¶å†µï¼›<code>/metrics</code> è¾“å‡º Prometheus æ ¼å¼ã€‚</li>
</ul>
<p><strong>æœ€ä½³å®è·µæ€»ç»“</strong>ï¼š</p>
<ul>
<li>ä¸ºæ‰€æœ‰ Handler å®šä¹‰ç»Ÿä¸€è¿”å›ç»“æ„ï¼ŒåŒ…å« <code>code</code>ã€<code>message</code>ã€<code>data</code>ï¼›</li>
<li>è®°å½•è¯·æ±‚æ—¥å¿—ï¼ˆmethodã€pathã€statusã€durationï¼‰ï¼›</li>
<li>è®¾ç½®åˆç†çš„ <code>maxDuration</code>ï¼ˆVercel Edge/Serverless é™åˆ¶ï¼‰ï¼›</li>
<li>å¯¹æ•æ„Ÿæ¥å£å¯ç”¨é™æµä¸æƒé™æ§åˆ¶ï¼›</li>
<li>åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ Supertest/Vitest è°ƒç”¨ Handlerï¼Œç¡®ä¿é€»è¾‘æ­£ç¡®ã€‚</li>
</ul>
<hr />
<h2 id="äº‹æ•…åº”å¯¹ä¸æ¼”ç»ƒæ¡ˆä¾‹incident-response-playbook"><a class="header" href="#äº‹æ•…åº”å¯¹ä¸æ¼”ç»ƒæ¡ˆä¾‹incident-response-playbook">äº‹æ•…åº”å¯¹ä¸æ¼”ç»ƒæ¡ˆä¾‹ï¼ˆIncident Response Playbookï¼‰</a></h2>
<p>ç¨³å®šæ€§æ˜¯ç”Ÿäº§ç³»ç»Ÿçš„ç”Ÿå‘½çº¿ã€‚æœ¬èŠ‚æä¾› 8 ä¸ªå…¸å‹äº‹æ•…åœºæ™¯ï¼Œæ¶µç›–ç¼“å­˜å¤±æ•ˆã€æ•°æ®åº“æ•…éšœã€ç¬¬ä¸‰æ–¹ä¾èµ–ã€æ€§èƒ½çªå‘ç­‰ã€‚æ¯ä¸ªæ¡ˆä¾‹åŒ…å«è§¦å‘æ¡ä»¶ã€å½±å“èŒƒå›´ã€æ£€æµ‹æ–¹å¼ã€ä¸´æ—¶å¤„ç†ã€æ°¸ä¹…ä¿®å¤ã€é¢„é˜²æªæ–½ã€æ¼”ç»ƒé¢‘ç‡ã€‚</p>
<h3 id="æ¡ˆä¾‹-1ç¼“å­˜è¿‡æœŸå¯¼è‡´å…¨ç«™-503"><a class="header" href="#æ¡ˆä¾‹-1ç¼“å­˜è¿‡æœŸå¯¼è‡´å…¨ç«™-503">æ¡ˆä¾‹ 1ï¼šç¼“å­˜è¿‡æœŸå¯¼è‡´å…¨ç«™ 503</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šå¤–éƒ¨ APIï¼ˆCMSï¼‰çŸ­æš‚ä¸å¯ç”¨ï¼Œé¡µé¢ ISR åœ¨å†éªŒè¯æ—¶è·å–å¤±è´¥ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šæ‰€æœ‰ <code>/blog/*</code> é¡µé¢è¿”å› 503ï¼Œå½±å“ SEO ä¸ç”¨æˆ·è®¿é—®ã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šSentry é”™è¯¯æ¿€å¢ï¼ˆ<code>FetchError</code>ï¼‰ã€Vercel æ—¥å¿— 503ã€Webhook å‘Šè­¦ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>ä½¿ç”¨ <code>vercel env pull</code> æ£€æŸ¥é…ç½®ï¼›</li>
<li>åœ¨ Route Handler ä¸­æ·»åŠ å›é€€ç¼“å­˜ï¼Œå¤±è´¥æ—¶è¿”å›æ—§æ•°æ®ï¼›</li>
<li>ä¸´æ—¶ç¦ç”¨å†éªŒè¯ï¼ˆè®¾ç½®è¾ƒé•¿ <code>revalidate</code>ï¼‰ï¼Œæ‰‹åŠ¨åˆ·æ–°ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šå¢åŠ ç¼“å­˜å®¹é”™ï¼š<code>try/catch</code> æ•è·å¤±è´¥è¿”å› fallbackï¼›å¼•å…¥ <code>unstable_cache</code> çš„ <code>revalidateIfStale</code>ã€‚ä¸ CMS ç­¾è®¢ SLAã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šæ·»åŠ å¥åº·æ£€æŸ¥ï¼Œç¼“å­˜å¤±æ•ˆå‰é¢„è­¦ï¼›</li>
<li><strong>æ¼”ç»ƒé¢‘ç‡</strong>ï¼šå­£åº¦ä¸€æ¬¡ã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-2prisma-æ•°æ®åº“è¿æ¥è€—å°½"><a class="header" href="#æ¡ˆä¾‹-2prisma-æ•°æ®åº“è¿æ¥è€—å°½">æ¡ˆä¾‹ 2ï¼šPrisma æ•°æ®åº“è¿æ¥è€—å°½</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šé«˜å³°æœŸäº§ç”Ÿå¤§é‡å¹¶å‘ï¼ŒServerless å‡½æ•°åå¤åˆ›å»ºè¿æ¥æœªé‡Šæ”¾ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šæ‰€æœ‰ Server Action ä¸ Route Handler æŠ¥é”™ <code>P1010</code>ã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šæ•°æ®åº“è¿æ¥æ•°é£™å‡ã€API å¤±è´¥ç‡ä¸Šå‡ã€æ€§èƒ½ç›‘æ§å»¶è¿Ÿå¢åŠ ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>é€šè¿‡ PlanetScale æ§åˆ¶å°å¼ºåˆ¶å…³é—­ç©ºé—²è¿æ¥ï¼›</li>
<li>å°†éƒ¨åˆ†æµé‡å¼•å¯¼è‡³ç¼“å­˜æ•°æ®ï¼Œé™ä½å†™æ“ä½œï¼›</li>
<li>åº”æ€¥å…¬å‘Šé€šçŸ¥ç”¨æˆ·ç¨åé‡è¯•ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šå®ç° Prisma å•ä¾‹ï¼›é‡‡ç”¨è¿æ¥æ± ä»£ç†ï¼›ä¼˜åŒ–ä»£ç å‡å°‘ä¸å¿…è¦çš„æ•°æ®åº“è°ƒç”¨ã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šåœ¨ QA ç¯å¢ƒæ¨¡æ‹Ÿå¹¶å‘ï¼›è®¾ç½®è¿æ¥è­¦æˆ’çº¿å‘Šè­¦ã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-3ç¬¬ä¸‰æ–¹æ”¯ä»˜å›è°ƒå»¶è¿Ÿ"><a class="header" href="#æ¡ˆä¾‹-3ç¬¬ä¸‰æ–¹æ”¯ä»˜å›è°ƒå»¶è¿Ÿ">æ¡ˆä¾‹ 3ï¼šç¬¬ä¸‰æ–¹æ”¯ä»˜å›è°ƒå»¶è¿Ÿ</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šStripe Webhook è¯·æ±‚å»¶è¿Ÿ/å¤±è´¥å¯¼è‡´è®¢å•çŠ¶æ€æœªæ›´æ–°ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šè®¢å•æ˜¾ç¤ºå¾…æ”¯ä»˜ï¼Œç”¨æˆ·æŠ•è¯‰ï¼›è´¢åŠ¡æ•°æ®ä¸ä¸€è‡´ã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šStripe Dashboard Webhook é‡è¯•æ¬¡æ•°å¢å¤šã€è®¢å•çŠ¶æ€å¼‚å¸¸ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>æ‰‹åŠ¨åœ¨ Stripe ç•Œé¢é‡è¯• Webhookï¼›</li>
<li>è¿è¡Œè¡¥å¿è„šæœ¬ï¼Œä» Stripe æ‹‰å–æ”¯ä»˜çŠ¶æ€æ›´æ–°æ•°æ®åº“ï¼›</li>
<li>å‘é€é€šçŸ¥ç»™å—å½±å“ç”¨æˆ·ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šå°† Webhook å¤„ç†é€»è¾‘æ”¹ä¸ºå¹‚ç­‰ï¼›å¢åŠ æ­»ä¿¡é˜Ÿåˆ—ï¼Œå¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•ï¼›åŠ ç­¾éªŒè¯æå‡å®‰å…¨ã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šåœ¨ Stage ç¯å¢ƒæ¨¡æ‹Ÿ Webhook å»¶è¿Ÿï¼Œç¡®ä¿å¯è‡ªåŠ¨æ¢å¤ã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-4edge-middleware-å†…é€»è¾‘å¼‚å¸¸"><a class="header" href="#æ¡ˆä¾‹-4edge-middleware-å†…é€»è¾‘å¼‚å¸¸">æ¡ˆä¾‹ 4ï¼šEdge Middleware å†…é€»è¾‘å¼‚å¸¸</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šéƒ¨ç½²æ–°ç‰ˆæœ¬ Middlewareï¼Œé€»è¾‘é”™è¯¯å¯¼è‡´é‡å®šå‘æ­»å¾ªç¯ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šæ‰€æœ‰ç”¨æˆ·æ— æ³•è®¿é—®ç«™ç‚¹ï¼ŒHTTP 310 redirect loopã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šSynthetic Monitoring ç«‹å³æŠ¥é”™ï¼›æµè§ˆå™¨ Console æç¤º â€œToo many redirectsâ€ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>é€šè¿‡ Vercel Dashboard å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬ï¼›</li>
<li>åœ¨ CI ä¸­ç¦ç”¨è¯¥ç‰ˆæœ¬ï¼›</li>
<li>æ¸…ç†ç”¨æˆ·æµè§ˆå™¨ç¼“å­˜ï¼ˆå¯¹å¤–å…¬å‘Šï¼‰ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šåœ¨ Middleware ä¸­å¢åŠ è·¯å¾„ç™½åå•ï¼Œç¡®ä¿ <code>/login</code>ã€<code>/_next</code> ç­‰è·¯å¾„ä¸å—å½±å“ï¼›åŠ å…¥é›†æˆæµ‹è¯•æ¨¡æ‹Ÿåœºæ™¯ã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šè®¾ç«‹ Canary å‘å¸ƒï¼Œå…ˆå¯¹å†…éƒ¨ç”¨æˆ·ç”Ÿæ•ˆï¼›</li>
<li><strong>æ¼”ç»ƒé¢‘ç‡</strong>ï¼šåŒæœˆä¸€æ¬¡ã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-5å¤§è§„æ¨¡æµé‡çªå‘å¯¼è‡´æ€§èƒ½ä¸‹é™"><a class="header" href="#æ¡ˆä¾‹-5å¤§è§„æ¨¡æµé‡çªå‘å¯¼è‡´æ€§èƒ½ä¸‹é™">æ¡ˆä¾‹ 5ï¼šå¤§è§„æ¨¡æµé‡çªå‘å¯¼è‡´æ€§èƒ½ä¸‹é™</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šè¥é”€æ´»åŠ¨æˆ–çªå‘äº‹ä»¶ï¼Œè®¿é—®é‡ 10 å€å¢é•¿ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šé¡µé¢åŠ è½½ç¼“æ…¢æˆ–è¶…æ—¶ï¼ŒAPI å“åº” &gt; 2sã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šæµé‡ç›‘æ§å‘Šè­¦ã€CPU/å†…å­˜é£™å‡ã€Core Web Vitals é™çº§ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>å¯ç”¨ CDN é‚»è¿‘ç¼“å­˜ç­–ç•¥ï¼›</li>
<li>é’ˆå¯¹åŒ¿åè®¿å®¢ä½¿ç”¨é™æ€é™çº§ï¼ˆè¿”å› Cached é¡µé¢ï¼‰ï¼›</li>
<li>ä¸´æ—¶æé«˜ SSR/å‡½æ•°å®ä¾‹ä¸Šé™ï¼›</li>
<li>æ¨è¿Ÿéå…³é”®åå°ä»»åŠ¡ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šä¼˜åŒ–çƒ­ç‚¹è¯·æ±‚ç¼“å­˜ã€å®ç°è‡ªåŠ¨æ‰©å®¹ã€æå‰é¢„çƒ­ï¼›å»ºç«‹å®¹é‡è§„åˆ’è¡¨ã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šå¯¹é‡å¤§æ´»åŠ¨è¿›è¡Œå‹æµ‹ (<code>k6</code>)ï¼Œå‡†å¤‡åº”æ€¥é¢„æ¡ˆã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-6ai-æ¨¡å—æˆæœ¬é£™å‡"><a class="header" href="#æ¡ˆä¾‹-6ai-æ¨¡å—æˆæœ¬é£™å‡">æ¡ˆä¾‹ 6ï¼šAI æ¨¡å—æˆæœ¬é£™å‡</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šAI åŠ©æ‰‹è¢«å¤§é‡è°ƒç”¨ï¼Œè¶…å‡ºé¢„ç®—ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šæˆæœ¬æ¿€å¢ï¼Œå¯èƒ½è§¦å‘ API é™æµï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šOpenAI/Billing Dashboard è­¦æŠ¥ï¼Œæˆæœ¬æŠ¥è¡¨çªå¢ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>å¯ç”¨é€Ÿç‡é™åˆ¶æˆ–é…é¢ï¼Œå¯¹ç”¨æˆ·è°ƒç”¨æ¬¡æ•°è®¾é™ï¼›</li>
<li>é™çº§æ¨¡å‹ï¼ˆå¦‚ä» GPT-4 åˆ° GPT-3.5ï¼‰ï¼›</li>
<li>æš‚åœéƒ¨åˆ†åŠŸèƒ½æˆ–è½¬ä¸ºé˜Ÿåˆ—å¤„ç†ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šå¢åŠ ç¼“å­˜ï¼ˆåŸºäº prompt + contextï¼‰ï¼›å¼•å…¥ç”¨æˆ·ç§¯åˆ†ä½“ç³»ï¼›å‘¨æœŸæ€§å®¡æŸ¥ä½¿ç”¨æ¨¡å¼ã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šæå‰è®¾ç½®é¢„ç®—å‘Šè­¦ï¼›å¯¹å¼€æ”¾æ¥å£å¢åŠ éªŒè¯ã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-7å‰ç«¯å‘å¸ƒå¯¼è‡´æ ¸å¿ƒåŠŸèƒ½å¤±æ•ˆ"><a class="header" href="#æ¡ˆä¾‹-7å‰ç«¯å‘å¸ƒå¯¼è‡´æ ¸å¿ƒåŠŸèƒ½å¤±æ•ˆ">æ¡ˆä¾‹ 7ï¼šå‰ç«¯å‘å¸ƒå¯¼è‡´æ ¸å¿ƒåŠŸèƒ½å¤±æ•ˆ</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šæ–°ç‰ˆæœ¬å¼•å…¥ Bugï¼ˆä¾‹å¦‚ Form Action æœªæ­£ç¡®ç»‘å®šï¼‰ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šç”¨æˆ·æ— æ³•æäº¤è®¢å•æˆ–å…³é”®æ“ä½œã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šSentry æŠ¥é”™ã€å®¢æœå·¥å•æ¿€å¢ã€è½¬åŒ–ç‡ä¸‹æ»‘ã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>ç«‹å³å›æ»šåˆ°ç¨³å®šç‰ˆæœ¬ï¼›</li>
<li>é€šçŸ¥ç”¨æˆ·ç¨åé‡è¯•ï¼›</li>
<li>æ”¶é›†é”™è¯¯æ—¥å¿—ï¼Œå®šä½é—®é¢˜ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šåŠ å¼º E2E æµ‹è¯•è¦†ç›–ï¼›å¼•å…¥ Feature Flag æ”¯æŒç°åº¦ï¼›éƒ¨ç½²å‰æ‰‹åŠ¨éªŒæ”¶å…³é”®è·¯å¾„ã€‚</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šåœ¨ CI ä¸­å¢åŠ å›å½’æµ‹è¯•ï¼›æ„å»ºâ€œé˜»æ–­æŒ‡æ ‡â€è‡ªåŠ¨æ‹¦æˆªå‘å¸ƒã€‚</li>
</ul>
<h3 id="æ¡ˆä¾‹-8æ•°æ®æ³„éœ²ç–‘ä¼¼äº‹ä»¶"><a class="header" href="#æ¡ˆä¾‹-8æ•°æ®æ³„éœ²ç–‘ä¼¼äº‹ä»¶">æ¡ˆä¾‹ 8ï¼šæ•°æ®æ³„éœ²ç–‘ä¼¼äº‹ä»¶</a></h3>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç›‘æ§å‘ç°å¼‚å¸¸è®¿é—®æˆ–æ—¥å¿—ä¸­å‡ºç°æ•æ„Ÿä¿¡æ¯ã€‚</li>
<li><strong>å½±å“èŒƒå›´</strong>ï¼šå¯èƒ½å‘ç”Ÿç”¨æˆ·æ•°æ®æ³„éœ²ï¼Œæ³•å¾‹é£é™©ã€‚</li>
<li><strong>ç›‘æ§ä¿¡å·</strong>ï¼šå®‰å…¨å®¡è®¡ç³»ç»Ÿå‘Šè­¦ã€å¼‚å¸¸ IP è®¿é—®ã€æ—¥å¿—å«æ•æ„Ÿå­—æ®µã€‚</li>
<li><strong>ä¸´æ—¶åº”å¯¹</strong>ï¼š
<ol>
<li>å¯åŠ¨å®‰å…¨äº‹ä»¶å“åº”æµç¨‹ï¼Œæˆç«‹åº”æ€¥å°ç»„ï¼›</li>
<li>ç«‹å³é™åˆ¶ç›¸å…³æ¥å£è®¿é—®ï¼Œè¿›è¡Œä¸´æ—¶å°ç¦ï¼›</li>
<li>è¯„ä¼°å—å½±å“ç”¨æˆ·ï¼Œå‡†å¤‡é€šçŸ¥ä¸è¡¥æ•‘æªæ–½ã€‚</li>
</ol>
</li>
<li><strong>æ°¸ä¹…ä¿®å¤</strong>ï¼šåŠ å¼ºæ—¥å¿—è„±æ•ã€æƒé™æ§åˆ¶ã€WAFï¼›</li>
<li><strong>é¢„é˜²æªæ–½</strong>ï¼šå®šæœŸå®‰å…¨å®¡è®¡ã€æ¸—é€æµ‹è¯•ã€å‘˜å·¥å®‰å…¨åŸ¹è®­ï¼›</li>
<li><strong>æ¼”ç»ƒé¢‘ç‡</strong>ï¼šåŠå¹´ä¸€æ¬¡ã€‚</li>
</ul>
<p>é€šè¿‡å®šæœŸæ¼”ç»ƒä¸Šè¿°æ¡ˆä¾‹ï¼Œå›¢é˜Ÿå¯ä»¥åœ¨çœŸå®äº‹æ•…å‘ç”Ÿæ—¶è¿…é€Ÿå“åº”ï¼Œé™ä½æŸå¤±ï¼Œæå‡ç³»ç»ŸéŸ§æ€§ã€‚</p>
<hr />
<h2 id="å­¦ä¹ å¤ç›˜ä¸çŸ¥è¯†è¾“å‡ºå·¥å…·ç®±"><a class="header" href="#å­¦ä¹ å¤ç›˜ä¸çŸ¥è¯†è¾“å‡ºå·¥å…·ç®±">å­¦ä¹ å¤ç›˜ä¸çŸ¥è¯†è¾“å‡ºå·¥å…·ç®±</a></h2>
<p>æŒç»­å­¦ä¹ çš„å…³é”®åœ¨äºå¤ç›˜ä¸è¾“å‡ºã€‚æœ¬èŠ‚æä¾›å­¦ä¹ æ—¥å¿—æ¨¡æ¿ã€å¤ç›˜æ¡†æ¶ã€å­¦ä¹ æˆæœå¯è§†åŒ–æ–¹æ³•ã€çŸ¥è¯†åˆ†äº«ç­–ç•¥ï¼Œå¸®åŠ©å­¦ä¹ è€…å°†çŸ¥è¯†å†…åŒ–å¹¶ä¼ é€’ç»™å›¢é˜Ÿã€‚</p>
<h3 id="1-å­¦ä¹ æ—¥å¿—æ¨¡æ¿"><a class="header" href="#1-å­¦ä¹ æ—¥å¿—æ¨¡æ¿">1. å­¦ä¹ æ—¥å¿—æ¨¡æ¿</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æ—¥æœŸ</th><th>å­¦ä¹ æ—¶é•¿</th><th>å­¦ä¹ ä¸»é¢˜</th><th>å…³é”®æ”¶è·</th><th>é‡åˆ°çš„é—®é¢˜</th><th>ä¸‹ä¸€æ­¥è®¡åˆ’</th></tr></thead><tbody>
<tr><td>2025-01-05</td><td>2h</td><td>Server Action æ‡’åŠ è½½</td><td>æŒæ¡ <code>useOptimistic</code></td><td>è¡¨å•é”™è¯¯å¤„ç†ä¸å¤Ÿä¼˜é›…</td><td>å®ç°ä¹è§‚æ›´æ–° Demo</td></tr>
</tbody></table>
</div>
<p>å†™ä½œå»ºè®®ï¼š</p>
<ul>
<li>æ¯æ—¥è®°å½•ä¸€æ¬¡ï¼Œæ§åˆ¶åœ¨ 5-10 åˆ†é’Ÿï¼›</li>
<li>çªå‡ºâ€œé—®é¢˜-è§£å†³æ–¹æ¡ˆ-æ”¶è·â€é“¾è·¯ï¼›</li>
<li>å®šæœŸï¼ˆæ¯å‘¨/æœˆï¼‰å›é¡¾ï¼Œæç‚¼ä¸»é¢˜ã€‚</li>
</ul>
<h3 id="2-å¤ç›˜æ¡†æ¶rorresult-objective-reflection"><a class="header" href="#2-å¤ç›˜æ¡†æ¶rorresult-objective-reflection">2. å¤ç›˜æ¡†æ¶ï¼ˆRORï¼šResult-Objective-Reflectionï¼‰</a></h3>
<ol>
<li><strong>Resultï¼ˆç»“æœï¼‰</strong>ï¼šå®Œæˆäº†å“ªäº›æ¨¡å—ã€äº¤ä»˜ç‰©ã€å®éªŒï¼Ÿ</li>
<li><strong>Objectiveï¼ˆç›®æ ‡ï¼‰</strong>ï¼šæ˜¯å¦è¾¾æˆé¢„è®¾ç›®æ ‡ï¼Ÿåå·®åŸå› ï¼Ÿ</li>
<li><strong>Reflectionï¼ˆåæ€ï¼‰</strong>ï¼šæŠ€æœ¯éš¾ç‚¹ã€ç»éªŒæ•™è®­ã€å¯è¿ç§»æ–¹æ³•ã€‚</li>
<li><strong>Actionï¼ˆè¡ŒåŠ¨ï¼‰</strong>ï¼šä¸‹ä¸€é˜¶æ®µè®¡åˆ’ã€éœ€è¦å¤–éƒ¨æ”¯æŒã€‚</li>
</ol>
<h3 id="3-çŸ¥è¯†å¡ç‰‡learning-card"><a class="header" href="#3-çŸ¥è¯†å¡ç‰‡learning-card">3. çŸ¥è¯†å¡ç‰‡ï¼ˆLearning Cardï¼‰</a></h3>
<ul>
<li><strong>ç»“æ„</strong>ï¼šæ ‡é¢˜ + å…³é”®è¯ + åœºæ™¯ + æ­¥éª¤ + æç¤º + å»¶ä¼¸é˜…è¯»ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code>æ ‡é¢˜ï¼šApp Router åŠ¨æ€è·¯ç”±ç¼“å­˜ç­–ç•¥
å…³é”®è¯ï¼šgenerateStaticParams, revalidateTag, ISR
åœºæ™¯ï¼šåšå®¢è¯¦æƒ…é¡µç¼“å­˜åˆ·æ–°
æ­¥éª¤ï¼š
1. åœ¨ generateStaticParams é¢„ç”Ÿæˆçƒ­é—¨æ–‡ç« ã€‚
2. fetch è®¾ç½® next: { revalidate: 300, tags: ['post', slug] }
3. Server Action å‘å¸ƒæ–‡ç« å revalidateTag('post')ã€‚
æç¤ºï¼šå¯¹ä½é¢‘è®¿é—®çš„æ–‡ç« è€ƒè™‘ SSRã€‚
å»¶ä¼¸é˜…è¯»ï¼šhttps://nextjs.org/docs/app/building-your-application/data-fetching
</code></pre>
<h3 id="4-çŸ¥è¯†å›¾è°±æ„å»º"><a class="header" href="#4-çŸ¥è¯†å›¾è°±æ„å»º">4. çŸ¥è¯†å›¾è°±æ„å»º</a></h3>
<ul>
<li>ä½¿ç”¨ MindMap/Excalidraw ç»˜åˆ¶æ¨¡å—å…³ç³»ï¼šApp Router â†’ è·¯ç”± â†’ æ•°æ® â†’ Server Action â†’ ä¸­é—´ä»¶ â†’ æ€§èƒ½ â†’ æµ‹è¯• â†’ éƒ¨ç½²ï¼›</li>
<li>åœ¨æ¯ä¸ªèŠ‚ç‚¹æ ‡è®°â€œå…³é”®æ¦‚å¿µâ€ã€â€œå¸¸è§é”™è¯¯â€ã€â€œä¼˜åŒ–ç­–ç•¥â€ï¼›</li>
<li>éšç€é¡¹ç›®æ¨è¿›æŒç»­æ›´æ–°ï¼Œå½¢æˆåŠ¨æ€çŸ¥è¯†å›¾ã€‚</li>
</ul>
<h3 id="5-å­¦ä¹ æˆæœå¯è§†åŒ–"><a class="header" href="#5-å­¦ä¹ æˆæœå¯è§†åŒ–">5. å­¦ä¹ æˆæœå¯è§†åŒ–</a></h3>
<ul>
<li>åˆ¶ä½œâ€œå­¦ä¹ é‡Œç¨‹ç¢‘â€æµ·æŠ¥ï¼šé˜¶æ®µç›®æ ‡ã€ä»£è¡¨é¡¹ç›®ã€æŒ‡æ ‡ï¼›</li>
<li>åˆ›å»º Portfolio é¡µé¢å±•ç¤º Demoã€GitHub é“¾æ¥ã€æŠ€æœ¯æ–‡ç« ï¼›</li>
<li>ä½¿ç”¨ GitHub Projects å±•ç¤ºä»»åŠ¡å®Œæˆæƒ…å†µã€‚</li>
</ul>
<h3 id="6-çŸ¥è¯†åˆ†äº«ç­–ç•¥"><a class="header" href="#6-çŸ¥è¯†åˆ†äº«ç­–ç•¥">6. çŸ¥è¯†åˆ†äº«ç­–ç•¥</a></h3>
<ul>
<li><strong>å†…éƒ¨åˆ†äº«ä¼š</strong>ï¼šæ¯æœˆä¸€æ¬¡ï¼Œè®¾ç½®ä¸»é¢˜ï¼ˆå¦‚ Server Actionã€Edgeã€AIï¼‰ï¼Œåˆ¶ä½œ PPT + Demoã€‚</li>
<li><strong>æŠ€æœ¯åšå®¢</strong>ï¼šæ’°å†™ 1000-2000 å­—æ–‡ç« ï¼Œè®°å½•é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆã€‚</li>
<li><strong>ç¤¾åŒºå‚ä¸</strong>ï¼šåœ¨ Next.js GitHub Discussionã€Vercel Discord æé—®æˆ–å›ç­”ã€‚</li>
<li><strong>å½•å±æ•™å­¦</strong>ï¼šå½•åˆ¶ 10-20 åˆ†é’Ÿè§†é¢‘ï¼Œæ¼”ç¤ºæŠ€æœ¯æµç¨‹ã€‚</li>
</ul>
<h3 id="7-ä¸ªäººæˆé•¿æŒ‡æ ‡"><a class="header" href="#7-ä¸ªäººæˆé•¿æŒ‡æ ‡">7. ä¸ªäººæˆé•¿æŒ‡æ ‡</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æŒ‡æ ‡</th><th>è¡¡é‡æ–¹å¼</th><th>ç›®æ ‡</th></tr></thead><tbody>
<tr><td>è¾“å‡ºé¢‘ç‡</td><td>æ¯æœˆæ–‡ç« /åˆ†äº«æ•°é‡</td><td>â‰¥ 2</td></tr>
<tr><td>å®æˆ˜é¡¹ç›®</td><td>å®Œæˆçš„ Demo/é¡¹ç›®æ•°</td><td>â‰¥ 3</td></tr>
<tr><td>æŠ€æœ¯éš¾åº¦</td><td>ç‹¬ç«‹è§£å†³çš„é«˜çº§é—®é¢˜</td><td>æ¯å­£åº¦ â‰¥ 2</td></tr>
<tr><td>ä»£ç è´¡çŒ®</td><td>PR æ•°é‡/è´¨é‡</td><td>å‚ä¸å›¢é˜Ÿæ ¸å¿ƒæ¨¡å—</td></tr>
<tr><td>ç¤¾åŒºå‚ä¸</td><td>Issueã€Discussionã€æ¼”è®²</td><td>æ¯åŠå¹´ä¸€æ¬¡å…¬å¼€åˆ†äº«</td></tr>
</tbody></table>
</div>
<h3 id="8-å‚è€ƒä¹¦ç±ä¸å­¦ä¹ èµ„æº"><a class="header" href="#8-å‚è€ƒä¹¦ç±ä¸å­¦ä¹ èµ„æº">8. å‚è€ƒä¹¦ç±ä¸å­¦ä¹ èµ„æº</a></h3>
<ul>
<li>ã€ŠDesigning Data-Intensive Applicationsã€‹ï¼šæ•°æ®ç³»ç»Ÿä¸ç¼“å­˜ç­–ç•¥èƒŒæ™¯çŸ¥è¯†ã€‚</li>
<li>ã€ŠSite Reliability Engineeringã€‹ï¼šè¿ç»´ä¸ç¨³å®šæ€§åŸåˆ™ã€‚</li>
<li>Vercel Shipã€Next.js Confã€React Conf è§†é¢‘ï¼šäº†è§£æœ€æ–°ç‰¹æ€§ã€‚</li>
<li>OpenAI Cookbookã€Vercel AI SDK æ–‡æ¡£ï¼šAI é›†æˆæŒ‡å¼•ã€‚</li>
</ul>
<h3 id="9-ä¸ªäººå­¦ä¹ è·¯çº¿å›é¡¾æ¨¡æ¿"><a class="header" href="#9-ä¸ªäººå­¦ä¹ è·¯çº¿å›é¡¾æ¨¡æ¿">9. ä¸ªäººå­¦ä¹ è·¯çº¿å›é¡¾æ¨¡æ¿</a></h3>
<pre><code># å­¦ä¹ é˜¶æ®µå›é¡¾ï¼ˆStage Xï¼‰
- ä¸»é¢˜ï¼š
- æ—¶é—´ï¼š
- å®Œæˆçš„é¡¹ç›®ï¼š
- å…³é”®æŠ€æœ¯ï¼š
- é‡åˆ°çš„æŒ‘æˆ˜ï¼š
- è§£å†³æ–¹æ¡ˆï¼š
- äº§å‡ºå†…å®¹ï¼š
- æŒ‡æ ‡å¯¹æ¯”ï¼ˆæ€§èƒ½ã€è´¨é‡ã€æ•ˆç‡ï¼‰ï¼š
- ä¸‹ä¸€é˜¶æ®µé‡ç‚¹ï¼š
</code></pre>
<h3 id="10-æŠ€æœ¯çŸ¥è¯†æ²‰æ·€å»ºè®®"><a class="header" href="#10-æŠ€æœ¯çŸ¥è¯†æ²‰æ·€å»ºè®®">10. æŠ€æœ¯çŸ¥è¯†æ²‰æ·€å»ºè®®</a></h3>
<ul>
<li>å°†é€šç”¨ä»£ç æç‚¼ä¸º <code>@org/next-utils</code> npm åŒ…ï¼›</li>
<li>ç¼–å†™å·¥ç¨‹åŒ–æ¨¡æ¿ï¼ˆä¾‹å¦‚ <code>create-next-enterprise</code>ï¼‰ï¼›</li>
<li>ç»´æŠ¤â€œå›¢é˜ŸçŸ¥è¯†åº“â€æ ‡ç­¾ä½“ç³»ï¼Œæ–¹ä¾¿æ£€ç´¢ï¼›</li>
<li>å¯¹å…³é”®å†³ç­–æ’°å†™ Decision Recordï¼ˆADRï¼‰ï¼Œè®°å½•èƒŒæ™¯ã€æ–¹æ¡ˆã€æƒè¡¡ã€‚</li>
</ul>
<hr />
<h2 id="é™„å½•app-router-api-è¯¦è§£ä¸å®è·µæŒ‡å—"><a class="header" href="#é™„å½•app-router-api-è¯¦è§£ä¸å®è·µæŒ‡å—">é™„å½•ï¼šApp Router API è¯¦è§£ä¸å®è·µæŒ‡å—</a></h2>
<p>æœ¬é™„å½•ç³»ç»Ÿæ¢³ç† App Router ä¸­å¸¸ç”¨ APIã€é…ç½®é¡¹ä¸çº¦å®šï¼ŒåŒ…æ‹¬è·¯ç”±çº¦å®šã€Metadataã€æ•°æ®è·å–ã€ç¼“å­˜ã€è¿è¡Œæ—¶ã€ç¯å¢ƒå˜é‡ç­‰ã€‚ç›®æ ‡æ˜¯æä¾›ä¸€æœ¬â€œç°åœºé€ŸæŸ¥æ‰‹å†Œâ€ï¼Œåœ¨å¼€å‘ã€è°ƒè¯•ã€Code Review æ—¶å¿«é€Ÿå®šä½æ­£ç¡®ç”¨æ³•ã€‚</p>
<h3 id="1-æ–‡ä»¶çº¦å®šä¸å‘½å"><a class="header" href="#1-æ–‡ä»¶çº¦å®šä¸å‘½å">1. æ–‡ä»¶çº¦å®šä¸å‘½å</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æ–‡ä»¶/ç›®å½•</th><th>ä½œç”¨</th><th>è¦ç‚¹</th></tr></thead><tbody>
<tr><td><code>app/layout.tsx</code></td><td>æ ¹å¸ƒå±€</td><td>å¿…é¡»è¿”å› <code>&lt;html&gt;&lt;body&gt;</code>ï¼›å¯è®¾ç½®å…¨å±€ Providerï¼›Server Component é»˜è®¤ã€‚</td></tr>
<tr><td><code>app/page.tsx</code></td><td>æ ¹é¡µé¢</td><td>å¯¹åº” <code>/</code> è·¯å¾„ï¼›æ¨èç”¨ Server Componentï¼›å¯å¯¼å‡º <code>metadata</code>ã€‚</td></tr>
<tr><td><code>app/(group)/layout.tsx</code></td><td>è·¯ç”±åˆ†ç»„å¸ƒå±€</td><td><code>(group)</code> ä¸å½±å“ URLï¼Œä»…ç”¨äºç»„ç»‡ç»“æ„ã€‚</td></tr>
<tr><td><code>app/[param]/page.tsx</code></td><td>åŠ¨æ€è·¯ç”±</td><td><code>params</code> ä¸­è·å– <code>param</code>ï¼›å¯é…åˆ <code>generateStaticParams</code>ã€‚</td></tr>
<tr><td><code>app/[param]/loading.tsx</code></td><td>åŠ è½½ UI</td><td>å¯¹åº” Segment Suspense fallbackï¼›éœ€ä¸º Server Componentã€‚</td></tr>
<tr><td><code>app/[param]/error.tsx</code></td><td>é”™è¯¯è¾¹ç•Œ</td><td>å¿…é¡»ä¸º Client Componentï¼›æ¥å— <code>error</code>ã€<code>reset</code> å‚æ•°ã€‚</td></tr>
<tr><td><code>app/[param]/not-found.tsx</code></td><td>404 é¡µé¢</td><td>ä¸ <code>notFound()</code> é…åˆï¼›Server Componentã€‚</td></tr>
<tr><td><code>app/api/route.ts</code></td><td>API å…¥å£</td><td>å¯å¯¼å‡º <code>GET</code>ã€<code>POST</code> ç­‰æ–¹æ³•ï¼›æ¯ä¸ªæ–¹æ³•å•ç‹¬å¯¼å‡ºã€‚</td></tr>
<tr><td><code>app/sitemap.ts</code></td><td>sitemap ç”Ÿæˆ</td><td>è¿”å› <code>MetadataRoute.Sitemap</code>ï¼›å¯è®¿é—®æ•°æ®åº“è·å–æœ€æ–°æ•°æ®ã€‚</td></tr>
<tr><td><code>app/robots.ts</code></td><td>robots.txt</td><td>è¿”å› <code>MetadataRoute.Robots</code>ï¼›æ§åˆ¶çˆ¬è™«ã€‚</td></tr>
<tr><td><code>middleware.ts</code></td><td>ä¸­é—´ä»¶</td><td>è¿è¡Œäº Edgeï¼›å‡½æ•°ç­¾å <code>(request: NextRequest) =&gt; NextResponse</code>ã€‚</td></tr>
<tr><td><code>instrumentation.ts</code></td><td>OpenTelemetry</td><td>æ³¨å†Œ OTel hooksï¼›<code>export async function register()</code>.</td></tr>
<tr><td><code>app/manifest.ts</code></td><td>PWA manifest</td><td>è¿”å› <code>MetadataRoute.Manifest</code>ï¼›ç”¨äº PWA é…ç½®ã€‚</td></tr>
</tbody></table>
</div>
<h3 id="2-metadata-api-è¯¦è§£"><a class="header" href="#2-metadata-api-è¯¦è§£">2. Metadata API è¯¦è§£</a></h3>
<ul>
<li><strong>é™æ€ metadata</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">export const metadata: Metadata = {
  title: 'é¡µé¢æ ‡é¢˜',
  description: 'é¡µé¢æè¿°',
  keywords: ['Next.js', 'App Router'],
  openGraph: {
    title: 'OG Title',
    description: 'OG Description',
    url: 'https://example.com',
    images: [{ url: '/og.png', width: 1200, height: 630 }]
  },
  alternates: {
    canonical: 'https://example.com',
    languages: {
      'en-US': 'https://example.com/en',
      'zh-CN': 'https://example.com/zh-cn'
    }
  },
  robots: {
    index: true,
    follow: true
  }
}
</code></pre>
<ul>
<li><strong>åŠ¨æ€ metadata</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">export async function generateMetadata({ params }: { params: { slug: string } }): Promise&lt;Metadata&gt; {
  const post = await getPost(params.slug)
  if (!post) return { title: 'æœªæ‰¾åˆ°' }
  return {
    title: post.title,
    description: post.summary,
    openGraph: {
      title: post.title,
      description: post.summary,
      publishedTime: post.publishedAt
    }
  }
}
</code></pre>
<ul>
<li>
<p><strong>å¸¸ç”¨å­—æ®µ</strong>ï¼š</p>
<ul>
<li><code>applicationName</code>ã€<code>authors</code>ã€<code>category</code>ã€<code>colorScheme</code>ï¼›</li>
<li><code>twitter</code>: <code>card</code>, <code>title</code>, <code>description</code>, <code>images</code>ï¼›</li>
<li><code>icons</code>: <code>icon</code>, <code>shortcut</code>, <code>apple</code>ï¼›</li>
<li><code>viewport</code>: <code>width</code>, <code>initialScale</code>, <code>maximumScale</code>ï¼›</li>
<li><code>verification</code>: åŸŸåéªŒè¯ï¼ˆGoogleã€Bingï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><code>metadataBase</code> å†³å®šç›¸å¯¹è·¯å¾„è½¬æ¢ï¼›</li>
<li><code>generateMetadata</code> ä¸­é¿å…é‡å¤ fetchï¼Œä½¿ç”¨æ•°æ®å±‚å‡½æ•°ï¼›</li>
<li><code>dynamic = 'force-dynamic'</code> é¡µé¢ä»å¯è®¾ç½® metadataï¼Œä½†éœ€æ³¨æ„æ€§èƒ½ã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-è·¯ç”±é…ç½®é€‰é¡¹"><a class="header" href="#3-è·¯ç”±é…ç½®é€‰é¡¹">3. è·¯ç”±é…ç½®é€‰é¡¹</a></h3>
<div class="table-wrapper"><table><thead><tr><th>å¯¼å‡ºå˜é‡</th><th>ç±»å‹</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody>
<tr><td><code>export const dynamic</code></td><td>`'auto'</td><td>'force-static'</td><td>'force-dynamic'</td></tr>
<tr><td><code>export const revalidate</code></td><td>`false</td><td>0</td><td>number`</td></tr>
<tr><td><code>export const dynamicParams</code></td><td><code>boolean</code></td><td>æ˜¯å¦å…è®¸åŠ¨æ€å‚æ•°</td><td><code>export const dynamicParams = false</code></td></tr>
<tr><td><code>export const fetchCache</code></td><td>`'auto'</td><td>'force-cache'</td><td>'only-cache'</td></tr>
<tr><td><code>export const runtime</code></td><td>`'nodejs'</td><td>'edge'`</td><td>æŒ‡å®šè¿è¡Œæ—¶</td></tr>
<tr><td><code>export const preferredRegion</code></td><td>`'auto'</td><td>string</td><td>string[]`</td></tr>
<tr><td><code>export const maxDuration</code></td><td><code>number</code></td><td>å‡½æ•°æœ€å¤§æ‰§è¡Œæ—¶é—´ï¼ˆç§’ï¼‰</td><td><code>export const maxDuration = 10</code></td></tr>
<tr><td><code>export const metadata</code></td><td><code>Metadata</code></td><td>é¡µé¢å…ƒä¿¡æ¯</td><td>è§ä¸Š</td></tr>
</tbody></table>
</div>
<h3 id="4-æ•°æ®è·å–-api"><a class="header" href="#4-æ•°æ®è·å–-api">4. æ•°æ®è·å– API</a></h3>
<ul>
<li><code>fetch(url, options)</code>ï¼šApp Router ä¸­é»˜è®¤ç¼“å­˜ã€‚
<ul>
<li><code>cache: 'force-cache' | 'no-store'</code></li>
<li><code>next: { revalidate: number, tags: string[], fetchOptions }</code></li>
<li><code>next: { revalidate: 0 }</code> ç­‰ä»· <code>cache: 'no-store'</code></li>
</ul>
</li>
<li><code>headers()</code>ï¼šè¯»å–è¯·æ±‚å¤´ã€‚</li>
<li><code>cookies()</code>ï¼šè¯»å–/è®¾ç½® Cookieï¼›åœ¨ Server Action ä¸­å¯å†™ã€‚</li>
<li><code>draftMode()</code>ï¼šæ“ä½œè‰ç¨¿æ¨¡å¼ã€‚</li>
<li><code>redirect()</code>, <code>permanentRedirect()</code>ï¼šç«‹å³è·³è½¬ã€‚</li>
<li><code>notFound()</code>ï¼šè§¦å‘ 404ã€‚</li>
<li><code>revalidatePath(path, type?)</code>ï¼šåˆ·æ–°æŒ‡å®šè·¯å¾„ç¼“å­˜ã€‚</li>
<li><code>revalidateTag(tag)</code>ï¼šåˆ·æ–°æŒ‡å®šç¼“å­˜ Tagã€‚</li>
<li><code>unstable_cache(fn, keys, options)</code>ï¼šç¼“å­˜ä»»æ„å‡½æ•°ã€‚</li>
<li><code>cache(fn)</code>ï¼šReact å†…ç½®ç¼“å­˜å‡½æ•°ã€‚</li>
<li><code>use</code>ï¼ˆå®éªŒï¼‰ï¼šåœ¨ Client Component ä½¿ç”¨ Promiseã€‚</li>
</ul>
<h3 id="5-server-action-api"><a class="header" href="#5-server-action-api">5. Server Action API</a></h3>
<ul>
<li>æ ‡è®°ï¼š<code>'use server'</code> é¡¶éƒ¨æŒ‡ä»¤ã€‚</li>
<li>æ¥æ”¶æ–¹å¼ï¼š
<ul>
<li>Form actionï¼š<code>&lt;form action={myAction}&gt;</code></li>
<li>å‡½æ•°è°ƒç”¨ï¼š<code>const result = await myAction(params)</code>ï¼ˆéœ€ <code>bind</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>å·¥å…·ï¼š
<ul>
<li><code>useFormStatus()</code> è·å– pending çŠ¶æ€ã€‚</li>
<li><code>useOptimistic()</code> æ„å»ºä¹è§‚ UIã€‚</li>
<li><code>startTransition()</code> æ§åˆ¶çŠ¶æ€æ›´æ–°ã€‚</li>
</ul>
</li>
<li>é™åˆ¶ï¼š
<ul>
<li>ä¸å¯åœ¨ Client Component ä¸­ç›´æ¥ <code>import</code> å¹¶è°ƒç”¨ï¼ˆéœ€é€šè¿‡ <code>action</code> å±æ€§æˆ– <code>bind</code>ï¼‰ã€‚</li>
<li>Server Action ä¸æ”¯æŒåœ¨ Node ä»¥å¤–çš„ç¯å¢ƒæ‰§è¡Œï¼ˆé™¤é <code>runtime='edge'</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="6-middleware-api"><a class="header" href="#6-middleware-api">6. Middleware API</a></h3>
<ul>
<li>å‡½æ•°ç­¾åï¼š</li>
</ul>
<pre><code class="language-ts">import { NextResponse } from 'next/server'
import type { NextRequest } from 'next/server'

export function middleware(request: NextRequest) {
  const token = request.cookies.get('token')?.value
  if (!token) return NextResponse.redirect(new URL('/login', request.url))
  return NextResponse.next()
}

export const config = {
  matcher: ['/dashboard/:path*', '/api/private/:path*']
}
</code></pre>
<ul>
<li>å¸¸ç”¨å±æ€§ï¼š<code>request.nextUrl</code>, <code>request.geo</code>, <code>request.ip</code>ã€‚</li>
<li>å“åº”ï¼š<code>NextResponse.next()</code>, <code>NextResponse.redirect</code>, <code>NextResponse.rewrite</code>, <code>NextResponse.json</code>ã€‚</li>
<li>æ³¨æ„ï¼šMiddleware åœ¨ Edge æ‰§è¡Œï¼Œä¸å¯è®¿é—® Node APIã€‚</li>
</ul>
<h3 id="7-route-handler-api"><a class="header" href="#7-route-handler-api">7. Route Handler API</a></h3>
<ul>
<li>å¯¼å‡ºæ–¹æ³•ï¼š<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>PATCH</code>, <code>OPTIONS</code>, <code>HEAD</code>ã€‚</li>
<li>æ–¹æ³•ç­¾åï¼š<code>export async function GET(request: Request) { ... }</code></li>
<li>è¿”å›ï¼š<code>NextResponse.json(data)</code>, <code>new Response(body, options)</code>ã€‚</li>
<li>æ”¯æŒ <code>Request</code> Web APIï¼š<code>request.json()</code>, <code>request.formData()</code>, <code>request.blob()</code>ã€‚</li>
<li>è¿è¡Œæ—¶åˆ‡æ¢ï¼š<code>export const runtime = 'edge'</code>ã€‚</li>
<li>é™åˆ¶ï¼šEdge Handler ä¸æ”¯æŒ <code>node:fs</code> ç­‰æ¨¡å—ã€‚</li>
</ul>
<h3 id="8-ç¯å¢ƒå˜é‡"><a class="header" href="#8-ç¯å¢ƒå˜é‡">8. ç¯å¢ƒå˜é‡</a></h3>
<div class="table-wrapper"><table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>è®¿é—®æ–¹å¼</th></tr></thead><tbody>
<tr><td>æœåŠ¡å™¨å˜é‡</td><td>æ—  <code>NEXT_PUBLIC_</code> å‰ç¼€ï¼Œä»…æœåŠ¡å™¨å¯è®¿é—®</td><td><code>process.env.SECRET_KEY</code>ï¼ˆServerï¼‰</td></tr>
<tr><td>å®¢æˆ·ç«¯å˜é‡</td><td>å¿…é¡»ä»¥ <code>NEXT_PUBLIC_</code> å¼€å¤´</td><td><code>process.env.NEXT_PUBLIC_API_URL</code>ï¼ˆClientï¼‰</td></tr>
<tr><td>Edge å˜é‡</td><td>Edge ç¯å¢ƒå¯ä»¥è¯»å–æ ‡å‡†å˜é‡ï¼Œä½†ä¸è¦å­˜å‚¨æ•æ„Ÿæ•°æ®åœ¨å®¢æˆ·ç«¯</td><td></td></tr>
<tr><td>Bundle ç¯å¢ƒ</td><td>é€šè¿‡ <code>next.config.js</code> çš„ <code>env</code> å¯¼å‡º</td><td></td></tr>
</tbody></table>
</div>
<ul>
<li>ç®¡ç†å·¥å…·ï¼š<code>@t3-oss/env-nextjs</code>ã€<code>envsafe</code>ã€<code>dotenv-flow</code>ã€‚</li>
</ul>
<h3 id="9-æ—¥å¿—ä¸ç›‘æ§æ¥å£"><a class="header" href="#9-æ—¥å¿—ä¸ç›‘æ§æ¥å£">9. æ—¥å¿—ä¸ç›‘æ§æ¥å£</a></h3>
<ul>
<li><code>console.log</code>ï¼šServerless/Edge è¾“å‡ºåˆ°å¹³å°æ—¥å¿—ã€‚</li>
<li><code>NextResponse.headers.set</code>ï¼šæ·»åŠ  trace-idã€‚</li>
<li>OpenTelemetry Hookï¼šåœ¨ <code>instrumentation.ts</code> æ³¨å†Œ tracerã€‚</li>
<li>Web Vitalsï¼š<code>app/reportWebVitals.ts</code>ã€‚</li>
</ul>
<h3 id="10-vercel-éƒ¨ç½²é…ç½®verceljsonç¤ºä¾‹"><a class="header" href="#10-vercel-éƒ¨ç½²é…ç½®verceljsonç¤ºä¾‹">10. Vercel éƒ¨ç½²é…ç½®ï¼ˆvercel.jsonï¼‰ç¤ºä¾‹</a></h3>
<pre><code class="language-json">{
  "functions": {
    "app/api/auth/[...nextauth]/route.ts": {
      "runtime": "nodejs18.x"
    },
    "app/api/edge/*": {
      "runtime": "edge"
    }
  },
  "redirects": [
    { "source": "/old-blog/:slug", "destination": "/blog/:slug", "permanent": true }
  ],
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Frame-Options", "value": "DENY" },
        { "key": "X-Content-Type-Options", "value": "nosniff" }
      ]
    }
  ]
}
</code></pre>
<h3 id="11-å¸¸è§é”™è¯¯é€ŸæŸ¥"><a class="header" href="#11-å¸¸è§é”™è¯¯é€ŸæŸ¥">11. å¸¸è§é”™è¯¯é€ŸæŸ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>é”™è¯¯</th><th>åŸå› </th><th>è§£å†³</th></tr></thead><tbody>
<tr><td><code>Invariant: attempted to call server action, but it is not registered</code></td><td>Client ä¾§ç›´æ¥è°ƒç”¨ Server Action</td><td>ä½¿ç”¨ <code>form action</code> æˆ– <code>action.bind</code></td></tr>
<tr><td><code>Error: Dynamic server usage</code></td><td>åœ¨é™æ€é¡µé¢ä½¿ç”¨åŠ¨æ€ API</td><td>è®¾ç½® <code>dynamic = 'force-dynamic'</code> æˆ–ç§»é™¤åŠ¨æ€é€»è¾‘</td></tr>
<tr><td><code>Window is not defined</code></td><td>Server Component ä½¿ç”¨æµè§ˆå™¨ API</td><td>å°†é€»è¾‘ç§»åˆ° Client Component</td></tr>
<tr><td><code>FetchError: request to ... failed</code></td><td>å¤–éƒ¨ API å¤±è´¥</td><td>æ·»åŠ é‡è¯•ã€fallbackã€æ—¥å¿—</td></tr>
<tr><td><code>Error: ENOENT .next/BUILD_ID</code></td><td>æ„å»ºäº§ç‰©ç¼ºå¤±</td><td>ç¡®ä¿ <code>next build</code> åœ¨éƒ¨ç½²å‰æ‰§è¡Œ</td></tr>
</tbody></table>
</div>
<h3 id="12-å®ç”¨ä»£ç ç‰‡æ®µ"><a class="header" href="#12-å®ç”¨ä»£ç ç‰‡æ®µ">12. å®ç”¨ä»£ç ç‰‡æ®µ</a></h3>
<ul>
<li><strong>Server-only æ¨¡å—</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">// src/lib/server-only.ts
import 'server-only'
</code></pre>
<ul>
<li><strong>Client-only æ¨¡å—</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">// src/lib/client-only.ts
import 'client-only'
</code></pre>
<ul>
<li><strong>å»¶è¿Ÿå¯¼å…¥ Client ç»„ä»¶</strong>ï¼š</li>
</ul>
<pre><code class="language-tsx">const Chart = dynamic(() =&gt; import('./Chart'), { ssr: false, loading: () =&gt; &lt;div&gt;åŠ è½½å›¾è¡¨...&lt;/div&gt; })
</code></pre>
<ul>
<li><strong>åœ¨ Server Component è°ƒç”¨ Client ç»„ä»¶</strong>ï¼š</li>
</ul>
<pre><code class="language-tsx">import ClientComp from './ClientComp'

export default function Page() {
  return &lt;ClientComp initialData={await getData()} /&gt;
}
</code></pre>
<ul>
<li><strong>Stream å“åº”</strong>ï¼š</li>
</ul>
<pre><code class="language-ts">export async function GET() {
  const stream = new ReadableStream({
    async start(controller) {
      controller.enqueue('data: hello\n\n')
      controller.close()
    }
  })
  return new Response(stream, { headers: { 'Content-Type': 'text/event-stream' } })
}
</code></pre>
<h3 id="13-è°ƒè¯•æŠ€å·§"><a class="header" href="#13-è°ƒè¯•æŠ€å·§">13. è°ƒè¯•æŠ€å·§</a></h3>
<ul>
<li><code>NEXT_RUNTIME</code> ç¯å¢ƒå˜é‡å¯åœ¨ä»£ç ä¸­è¯†åˆ«è¿è¡Œæ—¶ï¼š</li>
</ul>
<pre><code class="language-ts">if (process.env.NEXT_RUNTIME === 'edge') {
  // Edge-specific logic
}
</code></pre>
<ul>
<li>ä½¿ç”¨ <code>debug('namespace')</code>ï¼ˆ<code>debug</code> åŒ…ï¼‰è¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚</li>
<li>åœ¨ Local Dev ä¸­å¯ç”¨ <code>next dev --turbo</code> æå‡çƒ­æ›´æ–°é€Ÿåº¦ã€‚</li>
<li>ä½¿ç”¨ <code>npx next lint --rulesdir</code> æ‰©å±•è‡ªå®šä¹‰ ESLint è§„åˆ™ã€‚</li>
<li>ä½¿ç”¨ <code>pnpm dlx envinfo --system --binaries --browsers</code> ç”Ÿæˆç¯å¢ƒä¿¡æ¯ã€‚</li>
</ul>
<h3 id="14-å‡çº§ä¸è¿ç§»-checklist"><a class="header" href="#14-å‡çº§ä¸è¿ç§»-checklist">14. å‡çº§ä¸è¿ç§» Checklist</a></h3>
<ul>
<li>Next.js å°ç‰ˆæœ¬å‡çº§ï¼šæŸ¥çœ‹ Release Notesï¼Œç¡®è®¤ Breaking Changesã€‚</li>
<li>React å‡çº§è‡³ 19ï¼šæ£€æŸ¥ <code>use</code>ã€<code>useOptimistic</code> ç­‰ API å…¼å®¹æ€§ã€‚</li>
<li>Tailwind å‡çº§ï¼šéªŒè¯é…ç½®æ–‡ä»¶ã€æ’ä»¶æ˜¯å¦é€‚é…ã€‚</li>
<li>Prisma å‡çº§ï¼šé‡æ–°ç”Ÿæˆ Clientï¼Œè·‘è¿ç§»æµ‹è¯•ã€‚</li>
<li>Node ç‰ˆæœ¬å‡çº§ï¼šæ›´æ–° Docker é•œåƒã€CI é…ç½®ã€‚</li>
</ul>
<hr />
<h2 id="è‡ªæµ‹é¢˜åº“ä¸æ€è€ƒé¢˜assessment--review"><a class="header" href="#è‡ªæµ‹é¢˜åº“ä¸æ€è€ƒé¢˜assessment--review">è‡ªæµ‹é¢˜åº“ä¸æ€è€ƒé¢˜ï¼ˆAssessment &amp; Reviewï¼‰</a></h2>
<p>ä¸ºäº†æ£€éªŒå­¦ä¹ æˆæœï¼Œä»¥ä¸‹é¢˜åº“æŒ‰éš¾åº¦åˆ’åˆ†ä¸ºåŸºç¡€ã€ä¸­çº§ã€é«˜çº§ä¸‰ç»„ï¼Œå…± 45 é¢˜ï¼Œå¹¶æä¾›å‚è€ƒç­”æ¡ˆè¦ç‚¹ã€‚å»ºè®®åœ¨æ¯ä¸ªé˜¶æ®µç»“æŸæ—¶è‡ªæµ‹ï¼Œè¯†åˆ«è–„å¼±ç¯èŠ‚ã€‚</p>
<h3 id="åŸºç¡€1-15"><a class="header" href="#åŸºç¡€1-15">åŸºç¡€ï¼ˆ1-15ï¼‰</a></h3>
<ol>
<li><strong>æè¿° App Router ä¸ Pages Router çš„æ ¸å¿ƒå·®å¼‚ã€‚</strong>
<ul>
<li>è¦ç‚¹ï¼šç›®å½•ç»“æ„ã€RSCã€å¸ƒå±€ã€æ•°æ®è·å–æ–¹å¼ã€å…¼å®¹æ€§ã€API è·¯å¾„ã€‚</li>
</ul>
</li>
<li><strong>è§£é‡Š Server Component ä¸ Client Component çš„åŒºåˆ«ä¸åä½œæ–¹å¼ã€‚</strong>
<ul>
<li>è¦ç‚¹ï¼šæ‰§è¡Œç¯å¢ƒã€å¯ç”¨ APIã€<code>"use client"</code>ã€æ•°æ®ä¼ é€’ã€‚</li>
</ul>
</li>
<li><strong><code>layout.tsx</code> ä¸ <code>page.tsx</code> çš„èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºå¦‚ä½•ï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼šå…±äº« UIã€Segment æ ‘ç»“æ„ã€Root Layout â†’ Nested Layout â†’ Pageã€‚</li>
</ul>
</li>
<li><strong><code>generateStaticParams</code> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼šSSG åŠ¨æ€è·¯å¾„ã€é¢„æ¸²æŸ“ã€æ­é… <code>revalidate</code>ã€‚</li>
</ul>
</li>
<li><strong>å¦‚ä½•åœ¨ App Router ä¸­å®šä¹‰ API è·¯ç”±ï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼š<code>app/api/*/route.ts</code>ã€å¯¼å‡º HTTP æ–¹æ³•ã€<code>NextResponse</code>ã€‚</li>
</ul>
</li>
<li><strong>è¯´æ˜ <code>metadata</code> ä¸ <code>generateMetadata</code> çš„ä½¿ç”¨åœºæ™¯ã€‚</strong>
<ul>
<li>è¦ç‚¹ï¼šé™æ€ vs åŠ¨æ€ã€SEOã€‚</li>
</ul>
</li>
<li><strong>ä»€ä¹ˆæ˜¯ <code>notFound()</code>ï¼Ÿå®ƒä¸ <code>not-found.tsx</code> çš„å…³ç³»ï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼šè§¦å‘ 404ã€è¿”å›è‡ªå®šä¹‰é¡µé¢ã€‚</li>
</ul>
</li>
<li><strong>å¦‚ä½•åœ¨ Server Component ä¸­å‘èµ·æ•°æ®è¯·æ±‚ï¼Ÿé»˜è®¤ç¼“å­˜ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼š<code>await fetch</code>ã€<code>force-cache</code>ã€<code>revalidate</code>ã€‚</li>
</ul>
</li>
<li><strong><code>loading.tsx</code> ç”¨äºä»€ä¹ˆï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼šSegment çº§ Suspense fallbackã€‚</li>
</ul>
</li>
<li><strong>è§£é‡Š <code>Link</code> ç»„ä»¶çš„é¢„æŠ“å–è¡Œä¸ºã€‚</strong>
<ul>
<li>è¦ç‚¹ï¼šHover/è¿›å…¥è§†çª—é¢„æŠ“å–ã€ç¦ç”¨ <code>prefetch={false}</code>ã€‚</li>
</ul>
</li>
<li><strong>å¦‚ä½•åœ¨ App Router ä¸­å¤„ç† 500 é”™è¯¯å¹¶å‘ç”¨æˆ·æ˜¾ç¤ºå‹å¥½ä¿¡æ¯ï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼š<code>error.tsx</code>ã€Client Componentã€<code>reset</code>ã€‚</li>
</ul>
</li>
<li><strong>è¯´æ˜å¦‚ä½•åœ¨ App Router ä¸­å®ç°å…¨å±€çŠ¶æ€ï¼ˆå¦‚ä¸»é¢˜åˆ‡æ¢ï¼‰ã€‚</strong>
<ul>
<li>è¦ç‚¹ï¼šClient Providerã€Contextã€<code>layout.tsx</code>ã€‚</li>
</ul>
</li>
<li><strong><code>next/font</code> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨æ­¥éª¤ï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼šå­—ä½“ä¼˜åŒ–ã€å¯¼å…¥ã€è®¾ç½®å˜é‡ã€‚</li>
</ul>
</li>
<li><strong>å¦‚ä½•é…ç½® Tailwind ä»¥é€‚é… App Routerï¼Ÿ</strong>
<ul>
<li>è¦ç‚¹ï¼š<code>content</code> æ•°ç»„ã€PostCSSã€<code>globals.css</code>ã€‚</li>
</ul>
</li>
<li><strong>æè¿°ä»åˆå§‹åŒ–åˆ°éƒ¨ç½²çš„åŸºæœ¬æµç¨‹ã€‚</strong>
<ul>
<li>è¦ç‚¹ï¼š<code>create-next-app</code> â†’ å¼€å‘ â†’ <code>next build</code> â†’ Vercel éƒ¨ç½²ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ä¸­çº§16-30"><a class="header" href="#ä¸­çº§16-30">ä¸­çº§ï¼ˆ16-30ï¼‰</a></h3>
<ol start="16">
<li><strong>è®¾è®¡ä¸€ä¸ªä½¿ç”¨å¹¶è¡Œè·¯ç”±çš„ä»ªè¡¨ç›˜ç»“æ„ï¼Œå¹¶æè¿°æ•°æ®æµã€‚</strong></li>
<li><strong>è§£é‡Š <code>revalidatePath</code> ä¸ <code>revalidateTag</code> çš„å·®åˆ«ä¸é€‚ç”¨åœºæ™¯ã€‚</strong></li>
<li><strong>å¦‚ä½•åœ¨ Server Action ä¸­å¤„ç†è¡¨å•éªŒè¯ä¸é”™è¯¯åé¦ˆï¼Ÿ</strong></li>
<li><strong>æè¿° Middleware çš„æ‰§è¡Œæµç¨‹ã€é™åˆ¶ä¸ä¸€ä¸ªå®é™…æ¡ˆä¾‹ã€‚</strong></li>
<li><strong>å¦‚ä½•åœ¨ App Router ä¸­å®ç°å¤šè¯­è¨€ç«™ç‚¹ï¼ŸåŒ…æ‹¬è·¯ç”±ã€æ–‡æ¡ˆã€SEOã€‚</strong></li>
<li><strong>ç»™å‡ºä¸€ä¸ªä½¿ç”¨ <code>unstable_cache</code> çš„ä¾‹å­ï¼Œå¹¶è¯´æ˜å…¶ä¼˜ç‚¹ä¸é£é™©ã€‚</strong></li>
<li><strong>æç»˜ä¸€ä¸ªâ€œç¼–è¾‘æ–‡ç« â€æµç¨‹ï¼šå³é¡µé¢åŠ è½½ã€è¡¨å•æäº¤ã€ç¼“å­˜åˆ·æ–°çš„å„ç¯èŠ‚ã€‚</strong></li>
<li><strong>å¦‚ä½•åœ¨ App Router ä¸­ä½¿ç”¨ Prismaï¼Œè§£å†³çƒ­é‡è½½è¿æ¥é—®é¢˜ï¼Ÿ</strong></li>
<li><strong>æè¿° <code>next/image</code> ä¸ <code>next/font</code> åœ¨ Core Web Vitals ä¸­çš„ä½œç”¨ã€‚</strong></li>
<li><strong>å¦‚ä½•å°† AI æ¥å…¥åˆ° Next.jsï¼ˆä¾‹å¦‚ GPT å›ç­”ï¼‰ï¼Ÿæ³¨æ„äº‹é¡¹æœ‰å“ªäº›ï¼Ÿ</strong></li>
<li><strong>è®²è¿°ä¸€æ¬¡æ€§èƒ½ä¼˜åŒ–è¿‡ç¨‹ï¼šå‘ç°é—®é¢˜ã€å®šä½åŸå› ã€å®æ–½æ–¹æ¡ˆã€‚</strong></li>
<li><strong>å¦‚ä½•é›†æˆ Playwright E2E æµ‹è¯•å¹¶åœ¨ CI ä¸­è¿è¡Œï¼Ÿ</strong></li>
<li><strong>ä½•æ—¶éœ€è¦ä½¿ç”¨ Node Runtime è€Œä¸æ˜¯ Edge Runtimeï¼Ÿä¸¾ä¾‹è¯´æ˜ã€‚</strong></li>
<li><strong>å¦‚ä½•é€šè¿‡ Route Handler å®ç° Webhook éªŒè¯ï¼Ÿ</strong></li>
<li><strong>è¯´æ˜ <code>generateMetadata</code> ä¸­æ‰§è¡Œå¼‚æ­¥è¯·æ±‚çš„æ€§èƒ½å½±å“ä¸ä¼˜åŒ–ç­–ç•¥ã€‚</strong></li>
</ol>
<h3 id="é«˜çº§31-45"><a class="header" href="#é«˜çº§31-45">é«˜çº§ï¼ˆ31-45ï¼‰</a></h3>
<ol start="31">
<li><strong>è®¾è®¡ä¸€ä¸ªå¤šç§Ÿæˆ· SaaS æ¶æ„ï¼Œè€ƒè™‘è·¯ç”±ã€é‰´æƒã€æ•°æ®éš”ç¦»ã€‚</strong></li>
<li><strong>å¦‚ä½•åœ¨ Next.js ä¸­å®ç°å®æ—¶åä½œï¼ˆå¤šäººç¼–è¾‘ï¼‰ï¼Ÿæä¾›æ•´ä½“æ–¹æ¡ˆã€‚</strong></li>
<li><strong>æè¿°å¦‚ä½•å®ç°å¯è§‚å¯Ÿæ€§é—­ç¯ï¼šæ—¥å¿—ã€æŒ‡æ ‡ã€Tracing çš„ç»„åˆã€‚</strong></li>
<li><strong>æ’°å†™ä¸€ä¸ªäº‹æ•…å“åº”æµç¨‹ï¼šä»å‘Šè­¦è§¦å‘åˆ°å¤ç›˜ã€‚</strong></li>
<li><strong>å¦‚ä½•åœ¨ Next.js ä¸­å®ç° Feature Flagï¼Ÿå¦‚ä½•ç¡®ä¿å›æ»šç­–ç•¥ï¼Ÿ</strong></li>
<li><strong>ä¸ºä¸€ä¸ªé«˜é¢‘å†™æ“ä½œè®¾è®¡ç¼“å­˜å¤±æ•ˆç­–ç•¥ï¼Œç¡®ä¿ä¸€è‡´æ€§ä¸æ€§èƒ½å¹³è¡¡ã€‚</strong></li>
<li><strong>åœ¨ Edge Runtime ä¸­å®ç° A/B æµ‹è¯•éœ€è¦è€ƒè™‘å“ªäº›é—®é¢˜ï¼Ÿ</strong></li>
<li><strong>å¦‚ä½•åœ¨ App Router ä¸­ä½¿ç”¨ GraphQLï¼Œå¹¶ä¸ RSC é…åˆï¼Ÿ</strong></li>
<li><strong>è®¾è®¡ä¸€ä¸ªè‡ªåŠ¨åŒ–éƒ¨ç½²æµæ°´çº¿ï¼ŒåŒ…å«æµ‹è¯•ã€æ„å»ºã€éƒ¨ç½²ã€éªŒè¯ã€‚</strong></li>
<li><strong>å®ç°ä¸€ä¸ª AI åŠ©æ‰‹æ—¶å¦‚ä½•æ§åˆ¶æˆæœ¬ä¸å“åº”æ—¶é—´ï¼Ÿ</strong></li>
<li><strong>æè¿° Next.js ä¸å¾®å‰ç«¯çš„ååŒæ–¹æ¡ˆä¸æ½œåœ¨é™·é˜±ã€‚</strong></li>
<li><strong>å¦‚ä½•æ»¡è¶³ GDPR åˆè§„ä¸æ—¥å¿—è„±æ•è¦æ±‚ï¼Ÿ</strong></li>
<li><strong>è®¾è®¡ä¸€ä¸ªå¯æ‰©å±•çš„é€šçŸ¥ç³»ç»Ÿï¼ˆé‚®ä»¶ã€SSEã€Web Pushï¼‰ã€‚</strong></li>
<li><strong>å¦‚ä½•åœ¨ Next.js ä¸­å®ç°åŒå‘æ•°æ®åŒæ­¥ï¼ˆå®¢æˆ·ç«¯ç¼“å­˜ + æœåŠ¡ç«¯ç¼“å­˜ï¼‰ï¼Ÿ</strong></li>
<li><strong>å‡è®¾ä½ è¦å°† Next.js è¿ç§»åˆ° Astro/SolidStartï¼Œéœ€è€ƒè™‘å“ªäº›å› ç´ ï¼Ÿ</strong></li>
</ol>
<h3 id="å‚è€ƒç­”æ¡ˆè¦ç‚¹"><a class="header" href="#å‚è€ƒç­”æ¡ˆè¦ç‚¹">å‚è€ƒç­”æ¡ˆè¦ç‚¹</a></h3>
<ul>
<li>åœ¨è‡ªæµ‹åå¯¹ç…§å‚è€ƒç­”æ¡ˆï¼Œæ‰¾å‡ºçŸ¥è¯†ç›²ç‚¹ï¼›</li>
<li>æ¯é“é¢˜è‡³å°‘å†™ä¸‹ 3-5 æ¡è¦ç‚¹ï¼›</li>
<li>å°†ä¸ç†Ÿæ‚‰çš„æ¦‚å¿µå›æŸ¥æœ¬ç¬”è®°ç›¸å…³æ¨¡å—æˆ–å®˜æ–¹æ–‡æ¡£ã€‚</li>
</ul>
<hr />
<h2 id="å­¦ä¹ æˆæœéªŒè¯çŸ©é˜µ"><a class="header" href="#å­¦ä¹ æˆæœéªŒè¯çŸ©é˜µ">å­¦ä¹ æˆæœéªŒè¯çŸ©é˜µ</a></h2>
<p>ä¸ºå¸®åŠ©å­¦ä¹ è€…ä¸å›¢é˜Ÿè¡¡é‡å­¦ä¹ æ•ˆæœï¼Œå»ºè®®ä»èƒ½åŠ›ã€äº§å‡ºã€æ•ˆç‡ã€è´¨é‡å››ä¸ªç»´åº¦è®¾å®šå¯é‡åŒ–æŒ‡æ ‡ï¼Œå¹¶å®šæœŸè¯„ä¼°ã€‚</p>
<div class="table-wrapper"><table><thead><tr><th>ç»´åº¦</th><th>æŒ‡æ ‡</th><th>éªŒè¯æ–¹æ³•</th><th>ç›®æ ‡å€¼</th><th>è¯„ä¼°é¢‘ç‡</th></tr></thead><tbody>
<tr><td>èƒ½åŠ›</td><td>App Router å…³é”®æ¦‚å¿µæŒæ¡åº¦</td><td>é—­å·æµ‹è¯•ã€ç­”ç–‘æ¼”ç¤º</td><td>â‰¥ 85 åˆ†</td><td>æ¯å­£åº¦</td></tr>
<tr><td>äº§å‡º</td><td>å®Œæˆå®æˆ˜é¡¹ç›®æ•°é‡</td><td>éªŒæ”¶ Demoã€ä»£ç è¯„å®¡</td><td>è‡³å°‘ 2 ä¸ªå®Œæ•´æ¨¡å—</td><td>æ¯å­£åº¦</td></tr>
<tr><td>æ•ˆç‡</td><td>åŠŸèƒ½è¿­ä»£å‘¨æœŸ</td><td>éœ€æ±‚æå‡ºè‡³ä¸Šçº¿å¤©æ•°</td><td>&lt; 7 å¤©</td><td>æ¯æœˆ</td></tr>
<tr><td>è´¨é‡</td><td>è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ç‡</td><td>å•å…ƒ/é›†æˆ/E2E è¦†ç›–ç‡æŠ¥å‘Š</td><td>å•å…ƒ â‰¥ 60%ã€E2E â‰¥ 40%</td><td>æ¯å‘¨</td></tr>
<tr><td>è´¨é‡</td><td>Core Web Vitals</td><td>Vercel Analyticsã€Lighthouse</td><td>LCP &lt; 2.5sã€CLS &lt; 0.1</td><td>æŒç»­ç›‘æ§</td></tr>
<tr><td>å®‰å…¨</td><td>å®‰å…¨æ¼æ´å¤„ç†</td><td>å®‰å…¨æ‰«ææŠ¥å‘Š</td><td>é«˜å±æ¼æ´ 48 å°æ—¶å†…ä¿®å¤</td><td>æ¯æœˆ</td></tr>
<tr><td>ç¨³å®šæ€§</td><td>Incident å“åº”æ—¶é—´</td><td>äº‹æ•…è®°å½•ã€SLA</td><td>MTTR &lt; 60 åˆ†é’Ÿ</td><td>æ¯æ¬¡äº‹æ•…</td></tr>
<tr><td>çŸ¥è¯†æ²‰æ·€</td><td>æ–‡æ¡£æ›´æ–°é¢‘ç‡</td><td>Wiki/çŸ¥è¯†åº“æäº¤è®°å½•</td><td>æ¯è¿­ä»£æ›´æ–°ä¸€æ¬¡</td><td>æ¯è¿­ä»£</td></tr>
</tbody></table>
</div>
<p>æ­¤å¤–ï¼Œå¯é€šè¿‡ä¸‹åˆ—æ–¹å¼è¿›è¡ŒæˆæœéªŒè¯ï¼š</p>
<ul>
<li>ç»„ç»‡æŠ€æœ¯ç­”è¾©æˆ–æ¼”ç¤ºæ—¥ï¼ˆDemo Dayï¼‰ï¼Œé‚€è¯·è·¨å›¢é˜Ÿæˆå‘˜è¯„å®¡ï¼›</li>
<li>ç»“åˆå®æˆ˜ç»ƒä¹ ä»»åŠ¡åº“ï¼Œè®°å½•æ¯ä¸ªä»»åŠ¡çš„å®Œæˆæ—¶é—´ä¸å¤ç›˜è¦ç‚¹ï¼›</li>
<li>åœ¨çœŸå®é¡¹ç›®ä¸Šçº¿åï¼Œå¯¹æ¯”ä¸Šçº¿å‰åçš„æ€§èƒ½ã€è½¬åŒ–ç‡æŒ‡æ ‡ï¼›</li>
<li>å°†å­¦ä¹ æˆæœåº”ç”¨äºå…¬å¸ä¸šåŠ¡ï¼Œæ”¶é›†ä¸šåŠ¡å›¢é˜Ÿåé¦ˆã€‚</li>
</ul>
<h2 id="æ‰©å±•èµ„æºä¸æ¨èé˜…è¯»"><a class="header" href="#æ‰©å±•èµ„æºä¸æ¨èé˜…è¯»">æ‰©å±•èµ„æºä¸æ¨èé˜…è¯»</a></h2>
<div class="table-wrapper"><table><thead><tr><th>ç±»å‹</th><th>åç§°</th><th>é“¾æ¥/è¯´æ˜</th></tr></thead><tbody>
<tr><td>å®˜æ–¹æ–‡æ¡£</td><td>Next.js Docs</td><td>https://nextjs.org/docs/app</td></tr>
<tr><td>å®˜æ–¹æ–‡æ¡£</td><td>React Docs</td><td>https://react.dev</td></tr>
<tr><td>å®˜æ–¹æ–‡æ¡£</td><td>Vercel Documentation</td><td>https://vercel.com/docs</td></tr>
<tr><td>å®æˆ˜è¯¾ç¨‹</td><td>Vercel Learn Next.js</td><td>å®˜æ–¹äº¤äº’å¼æ•™ç¨‹</td></tr>
<tr><td>ç¤¾åŒº</td><td>Next.js Discussions</td><td>https://github.com/vercel/next.js/discussions</td></tr>
<tr><td>è§†é¢‘</td><td>Next.js Conf Talks</td><td>YouTube/Vercel å®˜ç½‘</td></tr>
<tr><td>è§†é¢‘</td><td>React Conf</td><td>å®˜æ–¹é¢‘é“</td></tr>
<tr><td>ä¹¦ç±</td><td>ã€ŠFullstack React with Next.jsã€‹</td><td>äº†è§£æœåŠ¡ç«¯æ¸²æŸ“ä¸å®æˆ˜æ¡ˆä¾‹</td></tr>
<tr><td>ä¹¦ç±</td><td>ã€ŠLearning GraphQLã€‹</td><td>GraphQL + Next.js åç«¯å®è·µ</td></tr>
<tr><td>å·¥å…·</td><td>shadcn/ui</td><td>https://ui.shadcn.com/</td></tr>
<tr><td>å·¥å…·</td><td>Radix UI</td><td>https://www.radix-ui.com/</td></tr>
<tr><td>å·¥å…·</td><td>Turborepo</td><td>https://turbo.build/repo</td></tr>
<tr><td>å·¥å…·</td><td>Prisma æ•°æ®å¹³å°</td><td>https://www.prisma.io/</td></tr>
<tr><td>å·¥å…·</td><td>PlanetScale</td><td>https://planetscale.com/</td></tr>
<tr><td>å·¥å…·</td><td>Upstash Redis</td><td>https://upstash.com/</td></tr>
<tr><td>å·¥å…·</td><td>Vercel Speed Insights</td><td>https://vercel.com/speed</td></tr>
<tr><td>å·¥å…·</td><td>Sentry + Next.js é›†æˆ</td><td>å®˜æ–¹æŒ‡å¯¼æ–‡æ¡£</td></tr>
<tr><td>ç¤¾åŒºæ–‡ç« </td><td>Guillermo Rauch åšå®¢</td><td>RSC ä¸ App Router æ·±åº¦è§£æ</td></tr>
<tr><td>ç¤¾åŒºæ–‡ç« </td><td>Vercel Engineering Blog</td><td>å®è·µæ¡ˆä¾‹ä¸æ€§èƒ½ä¼˜åŒ–</td></tr>
<tr><td>ç¤¾åŒº</td><td>Vercel Discord</td><td>ä¸å…¨çƒå¼€å‘è€…äº¤æµ</td></tr>
</tbody></table>
</div>
<blockquote>
<p>å»ºè®®åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å»ºç«‹ä¸ªäººèµ„æºåº“ï¼Œå°†æœ‰ä»·å€¼çš„æ–‡ç« ã€æ¡ˆä¾‹ã€ä»£ç ç‰‡æ®µå½’æ¡£ï¼Œå¹¶å®šæœŸæ›´æ–°ã€‚</p>
</blockquote>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ç¼–ç¨‹/language/33-MobxJS.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ç¼–ç¨‹/language/35-VueJS.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ç¼–ç¨‹/language/33-MobxJS.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ç¼–ç¨‹/language/35-VueJS.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../theme/segmentit.umd.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../theme/searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>



    </div>
    </body>
</html>

