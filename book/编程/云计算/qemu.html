<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>QEMU 虚拟化平台学习笔记 - 开发</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">
        <link rel="stylesheet" href="../../theme/help-overlay.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">开发</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="搜索本书内容..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="qemu-虚拟化平台学习笔记"><a class="header" href="#qemu-虚拟化平台学习笔记">QEMU 虚拟化平台学习笔记</a></h1>
<blockquote>
<p>面向 0-5 年经验的虚拟化、云平台、系统工程师，系统掌握 QEMU 的架构原理、设备模拟能力、命令行与脚本使用、性能调优、与 KVM/libvirt 及生态工具的协作。</p>
</blockquote>
<hr />
<h2 id="学习定位与总体目标"><a class="header" href="#学习定位与总体目标">学习定位与总体目标</a></h2>
<ul>
<li><strong>学习者画像</strong>：掌握 Linux 基本操作与虚拟化概念，希望深入理解底层虚拟化、进行定制化虚拟机部署、性能调优、自动化测试、硬件模拟的工程师。</li>
<li><strong>技术定位</strong>：QEMU（Quick EMUlator）既是通用 CPU 架构模拟器，也是 KVM 加速虚拟化的用户态组件，提供设备模拟、存储/网络/USB/PCI 等丰富的后端，是 libvirt、OpenStack、KubeVirt、Android Emulator、嵌入式仿真等多种场景的基础。</li>
<li><strong>学习目标</strong>：
<ol>
<li>理解 QEMU 架构、CPU 模式（全仿真、KVM 加速）、设备模型、后端资源；</li>
<li>熟练使用 qemu-system-* 命令行创建、管理虚拟机，掌握常见参数与启动流程；</li>
<li>能够在无 libvirt 环境下定制化虚拟机，进行调试、自动化测试；</li>
<li>探索高级功能（virtio、vhost、vfio、GPU、NUMA、snapshot、virtfs、qmp）；</li>
<li>构建脚本与自动化流程（bash/python/QMP），实现 CI/CD、模拟测试、嵌入式开发；</li>
<li>形成性能调优、故障排查、安全治理与知识沉淀。</li>
</ol>
</li>
<li><strong>成果要求</strong>：
<ul>
<li>通过 QEMU CLI 启动多种架构虚拟机，配置存储、网络、UI、自动安装；</li>
<li>编写 QMP/monitor 脚本，实现在线管理与自动化操作；</li>
<li>完成至少两个场景的性能调优/实验报告；</li>
<li>整理常见问题与排查流程；</li>
<li>提供操作手册、脚本库、验证标准，通过团队评审。</li>
</ul>
</li>
</ul>
<hr />
<h2 id="核心模块结构"><a class="header" href="#核心模块结构">核心模块结构</a></h2>
<ol>
<li><strong>模块一：QEMU 架构与生态概览</strong> —— CPU 模式、设备模型、KVM 配合、组件。</li>
<li><strong>模块二：qemu-system 命令行基础与虚拟机创建</strong> —— 常用参数、启动流程、磁盘/网络配置。</li>
<li><strong>模块三：设备模型与高级功能实践</strong> —— virtio、网络、存储、USB、GPU、snapshot、virtfs。</li>
<li><strong>模块四：管理接口、自动化与脚本</strong> —— QMP、HMP、libvirt 协作、Python 脚本、CI/CD。</li>
<li><strong>模块五：性能调优、故障诊断与安全治理</strong> —— CPU/NUMA/IO 调优、日志、排查、安全策略。</li>
<li><strong>模块六：学习路径、实战案例与验证标准</strong> —— 计划、案例、产出标准、资源拓展。</li>
</ol>
<hr />
<h2 id="模块一qemu-架构与生态概览"><a class="header" href="#模块一qemu-架构与生态概览">模块一：QEMU 架构与生态概览</a></h2>
<h3 id="11-qemu-简史与定位"><a class="header" href="#11-qemu-简史与定位">1.1 QEMU 简史与定位</a></h3>
<ul>
<li>2003 年起始，Fabrice Bellard 开发；</li>
<li>可作为纯软件模拟器，亦可与 KVM 协同实现硬件辅助虚拟化；</li>
<li>支持多架构：x86, ARM, AArch64, PowerPC, RISC-V, MIPS, s390x 等；</li>
<li>提供设备模拟（virtio、PCI、USB、图形、TPM、SCSI）；</li>
<li>采用命令行（qemu-system-ARCH）运行。</li>
</ul>
<h3 id="12-运行模式"><a class="header" href="#12-运行模式">1.2 运行模式</a></h3>
<ul>
<li><strong>TCG（Tiny Code Generator）</strong>：纯软件翻译器，全仿真，性能低，用于跨架构测试/开发；</li>
<li><strong>KVM 加速</strong>：在支持虚拟化的 CPU 上，直接使用硬件扩展（VT-x, AMD-V），QEMU 仅负责 I/O 模拟；</li>
<li><strong>Xen HVM/PV</strong>：可与 Xen hypervisor 协同；</li>
<li><strong>User-mode emulation</strong>：运行单个应用的跨架构模拟（qemu-arm, qemu-x86_64）。</li>
</ul>
<h3 id="13-qemu-组件"><a class="header" href="#13-qemu-组件">1.3 QEMU 组件</a></h3>
<ul>
<li><code>qemu-system-x86_64</code>, <code>qemu-system-aarch64</code>, <code>qemu-system-ppc64</code> 等；</li>
<li><code>qemu-img</code>、<code>qemu-nbd</code>、<code>qemu-io</code>;</li>
<li>QEMU Monitor (HMP) 和 QEMU Machine Protocol (QMP)；</li>
<li><code>virtio</code> 前端驱动（guest 内） + 后端（host QEMU 设备）；</li>
<li><code>vhost</code> 加速（vhost-net, vhost-user）；</li>
<li>与 libvirt、Open vSwitch、Ceph、SPICE、SDL、GTK 等协作。</li>
</ul>
<h3 id="14-机器类型与加速"><a class="header" href="#14-机器类型与加速">1.4 机器类型与加速</a></h3>
<ul>
<li><code>-machine type=pc</code>, <code>q35</code>, <code>virt</code> (ARM), <code>microvm</code>, <code>pc-i440fx</code>, <code>pc-q35</code>;</li>
<li><code>-enable-kvm</code> 开启 KVM；</li>
<li>BIOS/UEFI：<code>-bios</code>, <code>-drive if=pflash</code> OVMF；</li>
<li>客户端 OS 多样化。</li>
</ul>
<h3 id="15-qemu-在生态中的角色"><a class="header" href="#15-qemu-在生态中的角色">1.5 QEMU 在生态中的角色</a></h3>
<ul>
<li>libvirt 调用 QEMU 创建虚拟机；</li>
<li>OpenStack Nova compute 使用 QEMU/KVM；</li>
<li>Android Emulator 基于 QEMU；</li>
<li>Embedded/开发：在 PC 上模拟 ARM/RISC-V 板子；</li>
<li>自动化测试：CI 执行跨架构测试；</li>
<li>HPC/科研：模拟硬件设备与网络拓扑。</li>
</ul>
<h3 id="16-学习重点与易错点"><a class="header" href="#16-学习重点与易错点">1.6 学习重点与易错点</a></h3>
<ul>
<li><strong>重点</strong>：运行模式、机器类型、设备模型、命令结构；</li>
<li><strong>易错点</strong>：
<ol>
<li>未加 <code>-enable-kvm</code> 导致性能低；</li>
<li>机器类型与固件不匹配（q35 + BIOS）；</li>
<li>CPU 模拟不符合 guest 需求（SSE/AVX）；</li>
<li>未正确挂载磁盘/网络；</li>
<li>SPICE/VNC 端口冲突；</li>
<li>在生产场景直接使用 QEMU CLI 无资源管理。</li>
</ol>
</li>
</ul>
<h3 id="17-参考资料"><a class="header" href="#17-参考资料">1.7 参考资料</a></h3>
<ul>
<li>QEMU 官方文档：https://www.qemu.org/docs/master/</li>
<li>Red Hat Virtualization Guide；</li>
<li>“Understanding QEMU Internals”；</li>
<li>QEMU source code self-documenting；</li>
<li>社区 mailing list、QEMU wiki。</li>
</ul>
<hr />
<h2 id="模块二qemu-system-命令行基础与虚拟机创建"><a class="header" href="#模块二qemu-system-命令行基础与虚拟机创建">模块二：qemu-system 命令行基础与虚拟机创建</a></h2>
<h3 id="21-基本命令结构"><a class="header" href="#21-基本命令结构">2.1 基本命令结构</a></h3>
<pre><code class="language-bash">qemu-system-x86_64 \
  -machine type=q35,accel=kvm \
  -cpu host \
  -smp 4,sockets=1,cores=4,threads=1 \
  -m 8G \
  -drive file=disk.qcow2,if=virtio,cache=none,format=qcow2 \
  -cdrom ubuntu.iso \
  -boot menu=on \
  -netdev user,id=net0,hostfwd=tcp::2222-:22 \
  -device virtio-net-pci,netdev=net0 \
  -display gtk
</code></pre>
<h3 id="22-常用参数"><a class="header" href="#22-常用参数">2.2 常用参数</a></h3>
<ul>
<li><code>-machine</code>：类型、选项（<code>type=pc</code>, <code>q35</code>, <code>virt</code>; <code>accel=kvm</code>）；</li>
<li><code>-cpu</code>：<code>host</code>, <code>Haswell</code>, <code>max</code>; <code>-cpu host,hv_relaxed=on</code>；</li>
<li><code>-smp</code>：CPU 拓扑；</li>
<li><code>-m</code>：内存；</li>
<li><code>-drive</code>：磁盘（<code>if=virtio</code>, <code>if=scsi</code>, <code>format=qcow2</code>）；</li>
<li><code>-device</code>：添加设备（网卡、USB、GPU、TPM）；</li>
<li><code>-netdev</code>：网络后端（user, tap, bridge, vhost-user）；</li>
<li><code>-display</code>：SDL, GTK, VNC, SPICE, none；</li>
<li><code>-serial</code>, <code>-monitor</code>：串口、管理终端；</li>
<li><code>-daemonize</code>：后台运行；</li>
<li><code>-pidfile</code>, <code>-D</code>：PID 文件、日志；</li>
<li><code>-boot</code>：引导顺序；</li>
<li><code>-bios</code>, <code>-kernel</code>, <code>-append</code>, <code>-initrd</code>：直接指定内核启动。</li>
</ul>
<h3 id="23-存储设备"><a class="header" href="#23-存储设备">2.3 存储设备</a></h3>
<ul>
<li><code>-drive file=disk.qcow2,if=virtio,format=qcow2,cache=none</code>；</li>
<li><code>-drive file=raw.img,if=none,id=disk0</code> + <code>-device virtio-blk,drive=disk0</code>；</li>
<li><code>-blockdev</code> 新语法（QEMU 6+）：
<pre><code class="language-bash">-blockdev driver=file,filename=disk.qcow2,node-name=img \
-blockdev driver=qcow2,file=img,node-name=qcow2 \
-device virtio-blk,drive=qcow2
</code></pre>
</li>
<li><code>-drive if=pflash</code> + OVMF；</li>
<li><code>-hda</code>, <code>-hdb</code> 旧语法（不推荐）。</li>
</ul>
<h3 id="24-网络配置"><a class="header" href="#24-网络配置">2.4 网络配置</a></h3>
<ul>
<li><code>-netdev user,id=net0,hostfwd=tcp::2222-:22</code> + <code>-device virtio-net-pci,netdev=net0</code>；</li>
<li><code>-netdev tap,id=net0,ifname=tap0,script=no,downscript=no</code>；</li>
<li><code>-netdev bridge,id=net0,br=br0</code>；</li>
<li><code>-netdev socket</code> (multi host)；</li>
<li><code>-netdev vhost-user</code> (DPDK, OVS)；</li>
<li><code>-device e1000</code>, <code>virtio-net</code>, <code>virtio-net-pci,mq=on,vectors=10</code>；</li>
<li>SPICE: <code>-spice port=5901,disable-ticketing</code>；</li>
<li>VNC: <code>-vnc :1,password</code>；</li>
<li>Serial console: <code>-serial mon:stdio</code>。</li>
</ul>
<h3 id="25-图形与控制台"><a class="header" href="#25-图形与控制台">2.5 图形与控制台</a></h3>
<ul>
<li><code>-display vnc=:1</code>（headless + VNC）；</li>
<li><code>-display spice-app</code>;</li>
<li><code>-nographic</code>（无图形，使用串口）；</li>
<li><code>-serial mon:stdio</code>（控制台+Monitor）；</li>
<li><code>Ctrl+a c</code> 切换 monitor；</li>
<li><code>-monitor telnet::4444,server,nowait</code>。</li>
</ul>
<h3 id="26-启动-linux-内核"><a class="header" href="#26-启动-linux-内核">2.6 启动 Linux 内核</a></h3>
<ul>
<li><code>-kernel vmlinuz -initrd initrd.img -append "root=/dev/vda1 console=ttyS0"</code>；</li>
<li>适合自动化测试；</li>
<li>结合 <code>virtio</code> 磁盘、cloud-init。</li>
</ul>
<h3 id="27-其他重要参数"><a class="header" href="#27-其他重要参数">2.7 其他重要参数</a></h3>
<ul>
<li><code>-chardev</code> 用于串口、字符设备；</li>
<li><code>-virtfs</code> 提供 9p / virtio-fs 文件共享；</li>
<li><code>-device intel-iommu</code>、<code>virtio-net-pci,romfile=</code>；</li>
<li><code>-object rng-random,filename=/dev/urandom,id=rng0</code> + <code>-device virtio-rng-pci,rng=rng0</code>；</li>
<li><code>-watchdog</code>, <code>-device virtio-balloon</code>；</li>
<li>熔断/快照：<code>-snapshot</code> 只读模式。</li>
</ul>
<h3 id="28-实践练习"><a class="header" href="#28-实践练习">2.8 实践练习</a></h3>
<ul>
<li>使用 qemu-system-x86_64 启动最小化 Linux VM (使用 cloud-init)；</li>
<li>启动无图形的 server VM，使用 SSH 转发；</li>
<li>在 ARM 上模拟 x86（TCG）运行；</li>
<li>启动 UEFI 虚拟机 (OVMF)；</li>
<li>模拟 ISO 安装；</li>
<li>使用 <code>-monitor</code> 执行常见指令（info cpu, info block, system_powerdown）。</li>
</ul>
<hr />
<h2 id="模块三设备模型与高级功能实践"><a class="header" href="#模块三设备模型与高级功能实践">模块三：设备模型与高级功能实践</a></h2>
<h3 id="31-virtio--vhost"><a class="header" href="#31-virtio--vhost">3.1 Virtio &amp; vhost</a></h3>
<ul>
<li>Virtio 是 para-virtualized 设备标准；</li>
<li><code>-device virtio-net-pci</code>、<code>virtio-blk-pci</code>, <code>virtio-scsi-pci</code>, <code>virtio-gpu</code>;</li>
<li>Shared memory and ring buffers;</li>
<li>vhost 加速：<code>-netdev tap,...,vhost=on</code>；</li>
<li><code>vhost-user</code> 连接到 DPDK/OVS；</li>
<li>Multi-queue: <code>-device virtio-net-pci,mq=on,vectors=10</code> + guest driver。</li>
</ul>
<h3 id="32-存储高阶"><a class="header" href="#32-存储高阶">3.2 存储高阶</a></h3>
<ul>
<li>SCSI Controller: <code>-device virtio-scsi-pci</code> + <code>-device scsi-hd</code>；</li>
<li>NVMe 模拟：<code>-device nvme,serial=deadbeef</code> + <code>-drive file=nvme.img,if=none,id=nvme1</code>；</li>
<li><code>-drive cache=none</code>, <code>cache=writeback</code>；</li>
<li><code>-device virtio-blk,drive=...</code> vs <code>virtio-scsi</code>；</li>
<li>Snapshot: <code>-snapshot</code>, <code>drive_add file=...</code>；</li>
<li><code>-blockdev</code> graph for layering.</li>
</ul>
<h3 id="33-网络--多网络"><a class="header" href="#33-网络--多网络">3.3 网络 &amp; 多网络</a></h3>
<ul>
<li>多网卡：<code>-netdev tap,id=net1</code> + <code>-device virtio-net-pci,netdev=net1,mac=...</code>；</li>
<li>VLAN: bridging with host;</li>
<li>Socket-based network for simulation;</li>
<li><code>-netdev hubport</code> for hub;</li>
<li>NIC offloading options;</li>
<li>Firewall &amp; qemu-bridge-helper;</li>
<li><code>-object filter-dump</code> capture packets。</li>
</ul>
<h3 id="34-usb--外设"><a class="header" href="#34-usb--外设">3.4 USB &amp; 外设</a></h3>
<ul>
<li><code>-device usb-ehci</code> + <code>-device usb-tablet</code>；</li>
<li><code>-device usb-host,hostbus=1,hostaddr=2</code> (usb passthrough)；</li>
<li><code>-device nec-usb-xhci</code> 对于 USB3；</li>
<li><code>-chardev spicevmc</code> for SPICE；</li>
<li><code>-device usbredir</code> (USB redirection)；</li>
<li><code>-device wacom-tablet</code>；</li>
<li>坚持安全（USB 控制）。</li>
</ul>
<h3 id="35-gpu--图形"><a class="header" href="#35-gpu--图形">3.5 GPU &amp; 图形</a></h3>
<ul>
<li><code>-vga std</code>, <code>-vga qxl</code>, <code>-vga virtio</code>;</li>
<li>virtio-gpu + virgl (3D): <code>-display sdl,gl=on -device virtio-gpu-gl-pci</code>；</li>
<li>GPU passthrough with VFIO: <code>-device vfio-pci,host=0000:01:00.0,multifunction=on</code>；</li>
<li>SPICE + virtio-gpu for remote desktop；</li>
<li>QEMU headless with GPU (e.g., using Looking Glass)。</li>
</ul>
<h3 id="36-numa--cpu-pinning"><a class="header" href="#36-numa--cpu-pinning">3.6 NUMA &amp; CPU pinning</a></h3>
<ul>
<li><code>-numa node,cpus=0-3,mem=4096</code>；</li>
<li><code>-numa cpu,node-id=0,core-id=0</code> ;</li>
<li>memory: <code>-numa node,memdev=mem0</code> + <code>-object memory-backend-ram,id=mem0,size=4G</code>；</li>
<li>Combine with <code>-smp</code>, <code>-cpu</code> ;</li>
<li>Align with host NUMA for performance；</li>
<li>Monitor <code>info numa</code> in monitor。</li>
</ul>
<h3 id="37-snapshot--checkpoint"><a class="header" href="#37-snapshot--checkpoint">3.7 Snapshot &amp; Checkpoint</a></h3>
<ul>
<li><code>-snapshot</code> start in snapshot mode (changes not saved)；</li>
<li>QMP <code>savevm</code>, <code>loadvm</code> for internal snapshots；</li>
<li>External snapshot: <code>drive_add</code> + <code>blockdev-add</code>;</li>
<li><code>qmp</code> commands <code>blockdev-snapshot</code>；</li>
<li>Interaction with libvirt <code>virsh snapshot</code>。</li>
</ul>
<h3 id="38-filesystem-sharing"><a class="header" href="#38-filesystem-sharing">3.8 Filesystem sharing</a></h3>
<ul>
<li>9p (virtfs): <code>-virtfs local,path=/host/shared,mount_tag=hostshare,security_model=passthrough</code>；</li>
<li>virtio-fs (requires host daemon): <code>-object memory-backend-file</code> + <code>-device vhost-user-fs-pci</code>；</li>
<li>Plan for malware/安全 (passthrough vs mapped-mode)。</li>
</ul>
<h3 id="39-tpm-secure-boot"><a class="header" href="#39-tpm-secure-boot">3.9 TPM, Secure Boot</a></h3>
<ul>
<li><code>-chardev socket,id=chrtpm,path=/var/tmp/swtpm-sock</code> + <code>-tpmdev emulator,id=tpm0,chardev=chrtpm</code> + <code>-device tpm-tis,tpmdev=tpm0</code>；</li>
<li>swtpm integration;</li>
<li>UEFI Secure Boot (OVMF + enrolled keys)。</li>
</ul>
<h3 id="310-实践练习"><a class="header" href="#310-实践练习">3.10 实践练习</a></h3>
<ul>
<li>创建 virtio-gpu + SPICE 桌面环境；</li>
<li>配置 vhost-user 与 OVS 进行高性能网络；</li>
<li>使用 -numa 定义多节点 VM 并测试性能；</li>
<li>使用 virtio-fs 共享目录；</li>
<li>创建内部快照并恢复；</li>
<li>编写用于 USB 重定向的命令。</li>
</ul>
<hr />
<h2 id="模块四管理接口自动化与脚本"><a class="header" href="#模块四管理接口自动化与脚本">模块四：管理接口、自动化与脚本</a></h2>
<h3 id="41-qemu-monitor-hmp"><a class="header" href="#41-qemu-monitor-hmp">4.1 QEMU Monitor (HMP)</a></h3>
<ul>
<li>访问方式：<code>Ctrl+a c</code> (nographic), <code>-monitor stdio</code>, <code>-monitor telnet:localhost:4444</code>；</li>
<li>常用命令：<code>info status</code>, <code>info block</code>, <code>info cpu</code>, <code>info registers</code>；</li>
<li><code>stop</code>, <code>cont</code>, <code>system_reset</code>, <code>system_powerdown</code>；</li>
<li><code>savevm</code>, <code>loadvm</code>, <code>delvm</code>；</li>
<li><code>screendump file.ppm</code>；</li>
<li><code>device_del</code>, <code>device_add</code>。</li>
</ul>
<h3 id="42-qmpqemu-machine-protocol"><a class="header" href="#42-qmpqemu-machine-protocol">4.2 QMP（QEMU Machine Protocol）</a></h3>
<ul>
<li>JSON RPC 接口；</li>
<li>通过 <code>-qmp unix:/tmp/qmp-sock,server,wait=off</code>；</li>
<li>使用 <code>socat</code>, <code>python</code> (qmp library)；</li>
<li>常用命令：<code>query-status</code>, <code>cont</code>, <code>stop</code>, <code>human-monitor-command</code>; <code>block-device-add</code>, <code>blockdev-snapshot</code>；</li>
<li>适合自动化控制、集成外部系统；</li>
<li>Python 示例：
<pre><code class="language-python">from qemu.qmp import QEMUMonitorProtocol
qmp = QEMUMonitorProtocol("/tmp/qmp-sock")
qmp.connect()
qmp.cmd('query-status')
</code></pre>
</li>
</ul>
<h3 id="43-libvirt-与-qemu"><a class="header" href="#43-libvirt-与-qemu">4.3 Libvirt 与 QEMU</a></h3>
<ul>
<li>libvirt 使用 XML 定义 -&gt; Translate to QEMU CLI + QMP；</li>
<li><code>virsh dumpxml</code> -&gt; <code>virsh domxml-to-native qemu-argv</code>；</li>
<li><code>virsh qemu-monitor-command</code> to send commands;</li>
<li><code>virsh qemu-agent-command</code> interacts with guest agent;</li>
<li>Understand interplay for advanced debugging.</li>
</ul>
<h3 id="44-pythonansible-自动化"><a class="header" href="#44-pythonansible-自动化">4.4 Python/Ansible 自动化</a></h3>
<ul>
<li>Python: <code>subprocess</code> or <code>libvirt-python</code> + QMP;</li>
<li>Ansible: <code>community.general.qemu_guest</code>? (Limited), custom modules;</li>
<li>Use YAML definitions -&gt; generate CLI;</li>
<li>Example: create ephemeral test VMs in CI.</li>
</ul>
<h3 id="45-qemu-as-part-of-cicd"><a class="header" href="#45-qemu-as-part-of-cicd">4.5 QEMU as part of CI/CD</a></h3>
<ul>
<li>GitLab CI for cross-architecture testing (qemu-arm);</li>
<li>Run integration tests in QEMU headless;</li>
<li>Use <code>expect</code> or <code>pexpect</code> to interact with monitor;</li>
<li><code>virtio-serial</code> channel for test communication;</li>
<li>Combined with cloud-init for quick provisioning.</li>
</ul>
<h3 id="46-qemu-nbd--block-utilities"><a class="header" href="#46-qemu-nbd--block-utilities">4.6 QEMU NBD &amp; block utilities</a></h3>
<ul>
<li><code>qemu-nbd -c /dev/nbd0 disk.qcow2</code>;</li>
<li><code>qemu-io</code>, <code>qemu-img</code> combos;</li>
<li><code>nbdkit</code> for advanced filters;</li>
<li>Live backup: attach nbd, use backup tools.</li>
</ul>
<h3 id="47-gdb--debug"><a class="header" href="#47-gdb--debug">4.7 GDB &amp; Debug</a></h3>
<ul>
<li><code>-s -S</code> : start QEMU with gdb stub on 1234;</li>
<li><code>gdb target remote :1234</code>;</li>
<li>Inspect CPU regs, memory;</li>
<li>Good for kernel debugging, OS development;</li>
<li>Use <code>-d guest_errors</code> for logs; <code>-D qemu.log</code> for debug output.</li>
</ul>
<h3 id="48-simicsbochs-integration-cross-reference"><a class="header" href="#48-simicsbochs-integration-cross-reference">4.8 Simics/Bochs Integration? (Cross reference)</a></h3>
<ul>
<li>Understand differences;</li>
<li>QEMU widely used for performance + virtualization;</li>
<li>For pure simulation, combine with other tools.</li>
</ul>
<h3 id="49-实践练习"><a class="header" href="#49-实践练习">4.9 实践练习</a></h3>
<ul>
<li>通过 QMP 添加磁盘并热拔插；</li>
<li>使用 Python 脚本控制 QEMU (start/stop/screenshot)；</li>
<li>构建 CI job 使用 TCG 执行 ARM binaries；</li>
<li>通过 GDB 连接 QEMU 调试内核；</li>
<li>利用 <code>virsh qemu-monitor-command</code> 与 QEMU 交互；</li>
<li>记录脚本与命令。</li>
</ul>
<hr />
<h2 id="模块五性能调优故障诊断与安全治理"><a class="header" href="#模块五性能调优故障诊断与安全治理">模块五：性能调优、故障诊断与安全治理</a></h2>
<h3 id="51-性能调优"><a class="header" href="#51-性能调优">5.1 性能调优</a></h3>
<ul>
<li>CPU: <code>-cpu host</code>, <code>-smp</code>, <code>-numa</code>;</li>
<li>Pin vCPU to host core (taskset/cgroups/<code>taskset</code>);</li>
<li>Memory: HugePages (<code>-mem-prealloc</code>), <code>-object memory-backend-file</code> -&gt; hugepages;</li>
<li>I/O: <code>cache=none</code>, aio=threads/native, <code>io=io_uring</code> (QEMU 6+);</li>
<li>vhost-net for networking;</li>
<li><code>virtio-blk</code> vs <code>virtio-scsi</code>;</li>
<li><code>q35</code> machine for PCIe support;</li>
<li>GPU: use VFIO, avoid emulation;</li>
<li><code>-overcommit mem-lock=on</code> avoid swapping.</li>
</ul>
<h3 id="52-监控与日志"><a class="header" href="#52-监控与日志">5.2 监控与日志</a></h3>
<ul>
<li><code>-d guest_errors</code>, <code>-D /var/log/qemu.log</code>;</li>
<li><code>info blockstats</code>, <code>info cpus</code> via monitor;</li>
<li><code>perf</code>, <code>strace</code> for host;</li>
<li>Collect QMP metrics (statistic commands) -&gt; Prometheus;</li>
<li>Use <code>libvirt</code> telemetry;</li>
<li>Logging to journald when started via libvirt.</li>
</ul>
<h3 id="53-故障诊断"><a class="header" href="#53-故障诊断">5.3 故障诊断</a></h3>
<ul>
<li>常见错误：
<ul>
<li><code>Could not initialize KVM</code> -&gt; KVM unavailable;</li>
<li><code>Device not found</code> -&gt; wrong device/driver;</li>
<li><code>No bootable device</code> -&gt; wrong disk;</li>
<li><code>qemu-system: -drive ... permission denied</code> -&gt; file permission;</li>
<li><code>IOError: Image is encrypted</code> -&gt; need secret;</li>
</ul>
</li>
<li>排查流程：
<ol>
<li>查看日志 (<code>-D</code>), <code>strace</code>;</li>
<li>检查命令参数；</li>
<li><code>qemu-img info</code> mirror disk;</li>
<li>Monitor <code>info status</code>;</li>
<li><code>lsmod | grep kvm</code>;</li>
<li>SELinux/AppArmor.</li>
</ol>
</li>
</ul>
<h3 id="54-安全策略"><a class="header" href="#54-安全策略">5.4 安全策略</a></h3>
<ul>
<li>运行在隔离用户 (qemu, qemu-kvm);</li>
<li>SELinux (sVirt), AppArmor profiles;</li>
<li>restrict access to sockets/monitor;</li>
<li>Use TLS for SPICE/VNC;</li>
<li>Manage virtfs/9p carefully (security_model);</li>
<li>Limit hostfwd ports;</li>
<li>Keep QEMU updated (CVE fixes).</li>
</ul>
<h3 id="55-磁盘与网络安全"><a class="header" href="#55-磁盘与网络安全">5.5 磁盘与网络安全</a></h3>
<ul>
<li>Ensure disk images sanitized;</li>
<li>Use <code>virtio-rng</code> to supply entropy;</li>
<li>Manage secret keys (LUKS) via libvirt;</li>
<li>Logging audit of QMP commands;</li>
<li>Avoid running as root unless necessary.</li>
</ul>
<h3 id="56-故障案例"><a class="header" href="#56-故障案例">5.6 故障案例</a></h3>
<ul>
<li><code>Guest freezes</code> -&gt; check host resource, hugepages;</li>
<li><code>Network unreachable</code> -&gt; netdev misconfiguration;</li>
<li><code>libvirt start failure</code> -&gt; review generated command;</li>
<li><code>High CPU</code> with TCG -&gt; add <code>-enable-kvm</code> ;</li>
<li><code>SPICE connection refused</code> -&gt; port issue.</li>
</ul>
<h3 id="57-调试工具"><a class="header" href="#57-调试工具">5.7 调试工具</a></h3>
<ul>
<li>QEMU Monitor <code>logfile</code>;</li>
<li><code>qemu-trace</code> (<code>-trace events=events.txt</code>) ;</li>
<li><code>virt-manager</code>/<code>virsh</code> to inspect generated command;</li>
<li><code>cat /run/libvirt/qemu/&lt;vm&gt;.xml</code> ;</li>
<li><code>gdb</code> + QEMU.</li>
</ul>
<h3 id="58-sop-与自动化"><a class="header" href="#58-sop-与自动化">5.8 SOP 与自动化</a></h3>
<ul>
<li>定义常用 CLI 模板;</li>
<li>Write script to assemble command from config file;</li>
<li>Document steps for backup/restore;</li>
<li>Provide training for monitor/QMP usage;</li>
<li>Use version control to track command changes.</li>
</ul>
<h3 id="59-实践练习"><a class="header" href="#59-实践练习">5.9 实践练习</a></h3>
<ul>
<li>调优出一个高性能 VM (virtio, hugepages, vhost) 并记录性能；</li>
<li>模拟常见错误并排查；</li>
<li>编写安全加固 checklist；</li>
<li>使用 QMP 监控 VM status 并生成日志；</li>
<li>将 QEMU 命令转换为 libvirt XML 并验证。</li>
</ul>
<hr />
<h2 id="模块六学习路径实战案例与验证标准"><a class="header" href="#模块六学习路径实战案例与验证标准">模块六：学习路径、实战案例与验证标准</a></h2>
<h3 id="61-学习路径"><a class="header" href="#61-学习路径">6.1 学习路径</a></h3>
<div class="table-wrapper"><table><thead><tr><th>阶段</th><th>时间</th><th>目标</th><th>行动</th><th>产出</th></tr></thead><tbody>
<tr><td>阶段 0：准备</td><td>1 天</td><td>安装 qemu-system, 验证环境</td><td><code>sudo apt install qemu-kvm</code>, <code>kvm-ok</code></td><td>环境记录</td></tr>
<tr><td>阶段 1：基础掌握</td><td>3 天</td><td>使用 CLI 启动多种 VM、掌握参数</td><td>完成模块二练习</td><td>操作笔记</td></tr>
<tr><td>阶段 2：高级设备</td><td>4-5 天</td><td>配置 virtio、vhost、NUMA、snapshot</td><td>实验记录、报告</td><td>高级指南</td></tr>
<tr><td>阶段 3：自动化</td><td>4 天</td><td>编写 QMP/Python/CI 脚本</td><td>脚本仓库、测试结果</td><td>自动化文档</td></tr>
<tr><td>阶段 4：性能与安全</td><td>5 天</td><td>调优、监控、安全排查</td><td>性能报告、安全策略</td><td>调优手册</td></tr>
<tr><td>阶段 5：沉淀推广</td><td>持续</td><td>故障演练、知识分享</td><td>SOP、培训、复盘</td><td>知识库、计划</td></tr>
</tbody></table>
</div>
<h3 id="62-实战案例"><a class="header" href="#62-实战案例">6.2 实战案例</a></h3>
<h4 id="案例一裸机无-libvirt-的自动化测试"><a class="header" href="#案例一裸机无-libvirt-的自动化测试">案例一：裸机无 libvirt 的自动化测试</a></h4>
<ul>
<li>编写脚本生成 QEMU CLI，运行 nightly tests；</li>
<li>使用 cloud-init + virtio console；</li>
<li>执行 QMP 控制；</li>
<li>结果：构建时间缩短，测试环境可复现。</li>
</ul>
<h4 id="案例二高性能网络测试环境"><a class="header" href="#案例二高性能网络测试环境">案例二：高性能网络测试环境</a></h4>
<ul>
<li>QEMU + vhost-user + DPDK vSwitch；</li>
<li>multi-queue virtio-net；</li>
<li>NUMA pinning &amp; hugepages；</li>
<li>测试 PPS 与延迟；</li>
<li>输出性能报告。</li>
</ul>
<h4 id="案例三嵌入式-arm-开发仿真"><a class="header" href="#案例三嵌入式-arm-开发仿真">案例三：嵌入式 ARM 开发仿真</a></h4>
<ul>
<li>使用 qemu-system-arm 模拟开发板（-M virt, -cpu cortex-a57）；</li>
<li>加载内核与 rootfs；</li>
<li>调试驱动 via GDB；</li>
<li>结果：无需物理板卡即可开发。</li>
</ul>
<h4 id="案例四gpu-passthrough-桌面"><a class="header" href="#案例四gpu-passthrough-桌面">案例四：GPU Passthrough 桌面</a></h4>
<ul>
<li>qemu-system-x86_64 + VFIO GPU；</li>
<li>Windows guest；</li>
<li>virtio-net, virtio-blk；</li>
<li>SPICE for management；</li>
<li>记录兼容性与性能。</li>
</ul>
<h4 id="案例五cicd-构建镜像与测试"><a class="header" href="#案例五cicd-构建镜像与测试">案例五：CI/CD 构建镜像与测试</a></h4>
<ul>
<li>Packer + qemu builder；</li>
<li>QMP 控制下执行测试；</li>
<li>qemu-img 管理 snapshot；</li>
<li>Pipeline 自动发布镜像至 Glance。</li>
</ul>
<h3 id="63-学习成果验证标准"><a class="header" href="#63-学习成果验证标准">6.3 学习成果验证标准</a></h3>
<ol>
<li><strong>基础能力</strong>：独立使用 qemu-system 启动至少两种架构虚拟机并记录参数解释；</li>
<li><strong>高级配置</strong>：实现 virtio/vhost/NUMA/GPU/virtfs 等功能，并提供实验数据；</li>
<li><strong>自动化脚本</strong>：提交 QMP/Python/CI 脚本，展示自动化控制能力；</li>
<li><strong>性能优化</strong>：输出性能调优报告（指标改善 ≥ 20%）；</li>
<li><strong>故障演练</strong>：模拟至少 3 个常见问题，完成排查与 RCA；</li>
<li><strong>安全策略</strong>：编写安全加固 checklist 并验证；</li>
<li><strong>文档沉淀</strong>：完成操作手册、FAQ、培训材料；</li>
<li><strong>持续迭代</strong>：制定 QEMU 版本升级及新特性评估计划。</li>
</ol>
<h3 id="64-扩展资源与进阶建议"><a class="header" href="#64-扩展资源与进阶建议">6.4 扩展资源与进阶建议</a></h3>
<ul>
<li><strong>官方文档</strong>：QEMU manual, QMP reference；</li>
<li><strong>社区</strong>：QEMU-devel mailing list, IRC #qemu；</li>
<li><strong>书籍</strong>：
<ul>
<li>"Mastering QEMU"；</li>
<li>"Professional Linux Kernel Architecture" (virtualization chapters)；</li>
</ul>
</li>
<li><strong>研究方向</strong>：
<ol>
<li>阅读 QEMU source (hw/, target/ 目录)；</li>
<li>探索 vhost-user, SPDK, DPDK 集成；</li>
<li>研究 RISC-V/ARM virtualization；</li>
<li>贡献 patch / bug fix；</li>
<li>仿真平台 (QEMU + GNS3 + Ansible)；</li>
<li>关注 QEMU release note、libvirt 配套更新。</li>
</ol>
</li>
</ul>
<hr />
<h2 id="附录"><a class="header" href="#附录">附录</a></h2>
<h3 id="a-常用命令速查"><a class="header" href="#a-常用命令速查">A. 常用命令速查</a></h3>
<pre><code class="language-bash">qemu-system-x86_64 -enable-kvm -m 4G -smp 4 -drive file=disk.qcow2,if=virtio -netdev user,id=net0,hostfwd=tcp::2222-:22 -device virtio-net-pci,netdev=net0 -nographic
qemu-system-aarch64 -M virt -cpu cortex-a57 -m 2G -kernel Image -initrd rootfs.cpio.gz -append "root=/dev/vda console=ttyAMA0" -drive file=disk.img,if=virtio -nographic
qemu-system-x86_64 -machine q35,accel=kvm -bios OVMF.fd -device vfio-pci,host=0000:01:00.0 -device virtio-net-pci,netdev=net0 -netdev tap,id=net0,ifname=tap0,script=no,downscript=no
qemu-system-x86_64 -enable-kvm -monitor telnet:localhost:4444,server,nowait -display none -serial mon:stdio
qemu-system-x86_64 -enable-kvm -m 8G -drive file=disk.qcow2,if=virtio -device virtio-gpu-pci -display spice-app -spice port=5920,disable-ticketing
</code></pre>
<h3 id="b-qmp-交互示例"><a class="header" href="#b-qmp-交互示例">B. QMP 交互示例</a></h3>
<pre><code class="language-bash"># 使用 socat 连接 QMP
socat -,echo=0,icanon=0 unix-connect:/tmp/qmp-sock
{"execute":"qmp_capabilities"}
{"execute":"query-status"}
{"execute":"human-monitor-command", "arguments":{"command-line":"info block"}}
</code></pre>
<h3 id="c-调试选项"><a class="header" href="#c-调试选项">C. 调试选项</a></h3>
<ul>
<li><code>-d help</code> 查看日志类别；</li>
<li>常用：<code>-d guest_errors</code>, <code>-d in_asm</code>, <code>-d cpu_reset</code>；</li>
<li><code>-trace events=events.txt</code> 捕获事件；</li>
<li><code>-S</code>（不启动 CPU）+ <code>-s</code>（gdb stub）。</li>
</ul>
<h3 id="d-故障记录模板"><a class="header" href="#d-故障记录模板">D. 故障记录模板</a></h3>
<pre><code>事件编号：QEMU-2024-06
时间：2024-09-05 20:15
命令：qemu-system-x86_64 -enable-kvm -m 8G -drive file=app.qcow2,if=virtio -netdev tap,id=net0,ifname=tap0,script=no -device virtio-net-pci,netdev=net0 -nographic
现象：启动失败，提示 "Could not open '/dev/net/tun': Permission denied"
排查：
1. 检查 tap0 权限，发现未设置 CAP_NET_ADMIN
2. 使用 ip tuntap 添加 tap0，并赋权给用户
3. 再次启动成功
预防：
- 在 SOP 中加入 tap 设备创建步骤
- 脚本化 tap 管理
</code></pre>
<blockquote>
<p>QEMU 是构建虚拟化与硬件模拟的核心工具。深入掌握其命令行、设备模型、管理接口与调优策略，能有效支撑私有云、大规模测试、嵌入式仿真等复杂场景，为平台建设与创新提供坚实基础。</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../编程/云计算/qemu-img.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../编程/云计算/secureboot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../编程/云计算/qemu-img.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../编程/云计算/secureboot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../theme/segmentit.umd.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../theme/searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>



    </div>
    </body>
</html>

